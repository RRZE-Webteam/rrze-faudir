(()=>{"use strict";var e,r={192:(e,r,a)=>{const i=window.wp.blocks,t=window.wp.i18n,o=window.wp.blockEditor,l=window.wp.components,n=window.wp.element,s=window.wp.serverSideRender;var d=a.n(s);const c=window.wp.apiFetch;var u=a.n(c);const _=window.ReactJSXRuntime,f=JSON.parse('{"UU":"rrze-faudir/faudir-block"}');(0,i.registerBlockType)(f.UU,{edit:function({attributes:e,setAttributes:r}){const[a,i]=(0,n.useState)([]),[s,c]=(0,n.useState)([]),[f,h]=(0,n.useState)(!0),[p,m]=(0,n.useState)(!1),[b,x]=(0,n.useState)(""),{selectedCategory:k="",selectedPosts:g=[],showCategory:j="",showPosts:C="",selectedFormat:v="",selectedFields:z=[],groupId:w="",functionField:y="",organizationNr:S="",url:F=""}=e,O={display_name:(0,t.__)("Display Name","rrze-faudir"),academic_title:(0,t.__)("Academic Title","rrze-faudir"),first_name:(0,t.__)("First Name","rrze-faudir"),last_name:(0,t.__)("Last Name","rrze-faudir"),academic_suffix:(0,t.__)("Academic Suffix","rrze-faudir"),email:(0,t.__)("Email","rrze-faudir"),phone:(0,t.__)("Phone","rrze-faudir"),organization:(0,t.__)("Organization","rrze-faudir"),function:(0,t.__)("Function","rrze-faudir"),url:(0,t.__)("Url","rrze-faudir"),kompaktButton:(0,t.__)("Kompakt Button","rrze-faudir"),content:(0,t.__)("Content","rrze-faudir"),teasertext:(0,t.__)("Teasertext","rrze-faudir"),socialmedia:(0,t.__)("Social Media","rrze-faudir"),workplaces:(0,t.__)("Workplaces","rrze-faudir"),room:(0,t.__)("Room","rrze-faudir"),floor:(0,t.__)("Floor","rrze-faudir"),street:(0,t.__)("Street","rrze-faudir"),zip:(0,t.__)("Zip","rrze-faudir"),city:(0,t.__)("City","rrze-faudir"),faumap:(0,t.__)("Fau Map","rrze-faudir"),officehours:(0,t.__)("Office Hours","rrze-faudir"),consultationhours:(0,t.__)("Consultation Hours","rrze-faudir")},P={card:["display_name","academic_title","first_name","last_name","academic_suffix","email","phone","function","socialmedia"],table:["display_name","academic_title","first_name","last_name","academic_suffix","email","phone","url","socialmedia"],list:["display_name","academic_title","first_name","last_name","academic_suffix","email","phone","url","teasertext"],kompakt:Object.keys(O),page:Object.keys(O)};return(0,n.useEffect)((()=>{z.length||r({selectedFields:Object.keys(O)})}),[]),(0,n.useEffect)((()=>{u()({path:"/wp/v2/custom_taxonomy?per_page=100"}).then((e=>{i(e),h(!1)})).catch((e=>{console.error("Error fetching categories:",e),h(!1)}))}),[]),(0,n.useEffect)((()=>{m(!0),u()({path:"/wp/v2/custom_person?per_page=100&_fields=id,title,meta"}).then((e=>{c(e),m(!1)})).catch((e=>{console.error("Error fetching posts:",e),m(!1)}))}),[]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(o.InspectorControls,{children:(0,_.jsxs)(l.PanelBody,{title:(0,t.__)("Settings","faudir-block"),children:[(0,_.jsx)(l.ToggleControl,{label:(0,t.__)("Show Category","faudir-block"),checked:j,onChange:()=>r({showCategory:!j})}),j&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h4",{children:(0,t.__)("Select Category","faudir-block")}),a.map((e=>(0,_.jsx)(l.CheckboxControl,{label:e.name,checked:k===e.id,onChange:()=>r({selectedCategory:e.id})},e.id)))]}),(0,_.jsx)(l.ToggleControl,{label:(0,t.__)("Show Posts","faudir-block"),checked:C,onChange:()=>r({showPosts:!C})}),C&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h4",{children:(0,t.__)("Select Posts","faudir-block")}),p?(0,_.jsx)("p",{children:(0,t.__)("Loading posts...","faudir-block")}):s.length>0?s.map((e=>(0,_.jsx)(l.CheckboxControl,{label:e.title.rendered,checked:g.includes(e.id),onChange:()=>(e=>{const a=g.includes(e)?g.filter((r=>r!==e)):[...g,e];r({selectedPosts:a,selectedPersonIds:a.map((e=>{const r=s.find((r=>r.id===e));return r?.meta?.person_id||null})).filter(Boolean)})})(e.id,e.meta)},e.id))):(0,_.jsx)("p",{children:(0,t.__)("No posts available.","faudir-block")})]}),(0,_.jsx)(l.SelectControl,{label:(0,t.__)("Select Format","faudir-block"),value:v,options:[{value:"list",label:(0,t.__)("List","faudir-block")},{value:"table",label:(0,t.__)("Table","faudir-block")},{value:"card",label:(0,t.__)("Card","faudir-block")},{value:"kompakt",label:(0,t.__)("Kompakt","faudir-block")},{value:"page",label:(0,t.__)("Page","faudir-block")}],onChange:e=>r({selectedFormat:e})}),Object.keys(P).map((e=>v===e?(0,_.jsxs)("div",{children:[(0,_.jsx)("h4",{children:(0,t.__)("Select Fields","faudir-block")}),P[e].map((e=>(0,_.jsx)(l.CheckboxControl,{label:O[e],checked:z.includes(e),onChange:()=>(e=>{const a=z.includes(e)?z.filter((r=>r!==e)):[...z,e];r({selectedFields:a})})(e)},e)))]},e):null)),(0,_.jsx)(l.TextControl,{label:(0,t.__)("Group Id","rrze-faudir"),value:w,onChange:e=>r({groupId:e})}),(0,_.jsx)(l.TextControl,{label:(0,t.__)("Function","rrze-faudir"),value:y,onChange:e=>r({functionField:e})}),(0,_.jsx)(l.TextControl,{label:(0,t.__)("Organization Nr","rrze-faudir"),value:S,onChange:e=>r({organizationNr:e})}),(0,_.jsx)(l.TextControl,{label:(0,t.__)("Custom url","rrze-faudir"),value:F,onChange:e=>r({url:e})}),"kompakt"===v&&(0,_.jsx)(l.TextControl,{label:(0,t.__)("Button Text","rrze-faudir"),value:b,onChange:e=>x(e)})]})}),(0,_.jsxs)("div",{...(0,o.useBlockProps)(),children:[(0,_.jsx)("p",{children:(0,t.__)("Faudir Block â€“ hello from the editor!","faudir-block")}),j&&k&&(0,_.jsxs)("p",{children:[(0,_.jsx)("strong",{children:(0,t.__)("Selected Category:","faudir-block")})," ",a.find((e=>e.id===k))?.name||""]}),C&&g.length>0&&(0,_.jsxs)("div",{className:"faudir-block-preview",children:[(0,_.jsx)("h4",{children:(0,t.__)("Selected Posts:","faudir-block")}),(0,_.jsx)("ul",{children:s.filter((e=>g.includes(e.id))).map((e=>(0,_.jsxs)("li",{children:[(0,_.jsx)("strong",{children:e.title.rendered}),(0,_.jsx)("span",{children:e.meta?.person_id})]},e.id)))})]}),w&&(0,_.jsxs)("p",{children:[(0,_.jsx)("strong",{children:(0,t.__)("Group Id:","faudir-block")})," ",w]}),y&&(0,_.jsxs)("p",{children:[(0,_.jsx)("strong",{children:(0,t.__)("Function:","faudir-block")})," ",y]}),S&&(0,_.jsxs)("p",{children:[(0,_.jsx)("strong",{children:(0,t.__)("Organization Nr:","faudir-block")})," ",S]}),(0,_.jsx)(d(),{block:"rrze-faudir/faudir-block",attributes:e})]})]})}})}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,e=[],i.O=(r,a,t,o)=>{if(!a){var l=1/0;for(c=0;c<e.length;c++){for(var[a,t,o]=e[c],n=!0,s=0;s<a.length;s++)(!1&o||l>=o)&&Object.keys(i.O).every((e=>i.O[e](a[s])))?a.splice(s--,1):(n=!1,o<l&&(l=o));if(n){e.splice(c--,1);var d=t();void 0!==d&&(r=d)}}return r}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,t,o]},i.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return i.d(r,{a:r}),r},i.d=(e,r)=>{for(var a in r)i.o(r,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},i.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={57:0,350:0};i.O.j=r=>0===e[r];var r=(r,a)=>{var t,o,[l,n,s]=a,d=0;if(l.some((r=>0!==e[r]))){for(t in n)i.o(n,t)&&(i.m[t]=n[t]);if(s)var c=s(i)}for(r&&r(a);d<l.length;d++)o=l[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},a=globalThis.webpackChunkblock_faudir=globalThis.webpackChunkblock_faudir||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))})();var t=i.O(void 0,[350],(()=>i(192)));t=i.O(t)})();