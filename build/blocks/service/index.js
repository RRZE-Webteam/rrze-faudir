(()=>{var e,t,n,i={699:(e,t,n)=>{"use strict";const i=window.ReactJSXRuntime,r=window.wp.blocks,a=window.wp.blockEditor,l=window.wp.components,s=window.wp.element,o=window.wp.apiFetch;var u=n.n(o);const c=window.wp.i18n;function d({attributes:e,setAttributes:t,label:n,helpText:r}){const[a,o]=(0,s.useState)(e.orgid||""),[u,d]=(0,s.useState)("");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.__experimentalHeading,{level:3,children:(0,c.__)("Select organization by FAUdir Identifier","rrze-faudir")}),(0,i.jsx)(l.TextControl,{label:n||(0,c.__)("Via FAUdir-ID or FAUdir-URL","rrze-faudir"),value:a,onChange:e=>{const n=e.trim(),i=n.match(/^https?:\/\/faudir\.fau\.de\/public\/org\/([^/]+)\/?$/);let r=i?i[1]:n;!r||r.length<10?(t({orgid:""}),d((0,c.__)("Please enter a valid FAUdir-URL or the FAUdir-identifier.","rrze-faudir"))):(t({orgid:r}),d("")),o(e)},type:"text",help:u||r||(0,c.__)('Please enter either the complete FAUdir-URL ("https://faudir.fau.de/public/org/…"), or the FAUdir-Identifier (the last part of the URL after "org/".',"rrze-faudir")})]})}function f({mediaId:e,mediaURL:t,mediaHeight:n,mediaWidth:r,setAttributes:l}){const s=()=>{l({imageURL:null,imageWidth:null,imageHeight:null,imageId:null})};return(0,i.jsx)(a.MediaReplaceFlow,{mediaId:e,mediaURL:t,allowedTypes:["image"],accept:"image/*",onSelect:e=>{return t=this,n=void 0,r=function*(){var t;const n=(i=e)&&i.url?{url:i.url,id:i.id,alt:null==i?void 0:i.alt,height:i.height,width:i.width}:{url:""};var i;l({imageURL:n.url,imageId:null!==(t=n.id)&&void 0!==t?t:null,imageWidth:n.width,imageHeight:n.height})},new((i=void 0)||(i=Promise))((function(e,a){function l(e){try{o(r.next(e))}catch(e){a(e)}}function s(e){try{o(r.throw(e))}catch(e){a(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,s)}o((r=r.apply(t,n||[])).next())}));var t,n,i,r},onToggleFeaturedImage:()=>{},name:t?(0,c.__)("Replace"):(0,c.__)("Add media"),onReset:()=>s(),onError:()=>s()})}const m=window.wp.compose,v=window.wp.primitives;var p=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),h=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),g="is",b="isNot",x="isAny",w="isNone",y="isAll",_="isNotAll",j="lessThan",C="greaterThan",S="lessThanOrEqual",k="greaterThanOrEqual",I="before",V="after",E="beforeInc",N="afterInc",F="contains",M="notContains",O="startsWith",P="between",A="on",T="notOn",L="inThePast",z="over",D=[g,b,x,w,y,_,j,C,S,k,I,V,E,N,F,M,O,P,A,T,L,z],B=[g,b,j,C,S,k,I,V,E,N,F,M,O,A,T],H={[g]:{key:"is-filter",label:(0,c.__)("Is")},[b]:{key:"is-not-filter",label:(0,c.__)("Is not")},[x]:{key:"is-any-filter",label:(0,c.__)("Is any")},[w]:{key:"is-none-filter",label:(0,c.__)("Is none")},[y]:{key:"is-all-filter",label:(0,c.__)("Is all")},[_]:{key:"is-not-all-filter",label:(0,c.__)("Is not all")},[j]:{key:"less-than-filter",label:(0,c.__)("Less than")},[C]:{key:"greater-than-filter",label:(0,c.__)("Greater than")},[S]:{key:"less-than-or-equal-filter",label:(0,c.__)("Less than or equal")},[k]:{key:"greater-than-or-equal-filter",label:(0,c.__)("Greater than or equal")},[I]:{key:"before-filter",label:(0,c.__)("Before")},[V]:{key:"after-filter",label:(0,c.__)("After")},[E]:{key:"before-inc-filter",label:(0,c.__)("Before (inc)")},[N]:{key:"after-inc-filter",label:(0,c.__)("After (inc)")},[F]:{key:"contains-filter",label:(0,c.__)("Contains")},[M]:{key:"not-contains-filter",label:(0,c.__)("Doesn't contain")},[O]:{key:"starts-with-filter",label:(0,c.__)("Starts with")},[P]:{key:"between-filter",label:(0,c.__)("Between (inc)")},[A]:{key:"on-filter",label:(0,c.__)("On")},[T]:{key:"not-on-filter",label:(0,c.__)("Not on")},[L]:{key:"in-the-past-filter",label:(0,c.__)("In the past")},[z]:{key:"over-filter",label:(0,c.__)("Over")}},q=["asc","desc"],R={asc:"↑",desc:"↓"},W={asc:"ascending",desc:"descending"},$={asc:(0,c.__)("Sort ascending"),desc:(0,c.__)("Sort descending")},U={asc:p,desc:h},K="table",G="grid",Y=(0,s.createContext)({view:{type:K},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:e=>e.id,isItemClickable:()=>!0,renderItemLink:void 0,containerWidth:0,containerRef:(0,s.createRef)(),resizeObserverRef:()=>{},defaultLayouts:{list:{},grid:{},table:{}},filters:[],isShowingFilter:!1,setIsShowingFilter:()=>{},hasInfiniteScrollHandler:!1,config:{perPageSizes:[]}});Y.displayName="DataViewsContext";var Z=Y,X=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),Q=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),J=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),ee=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function te(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=te(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const ne=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=te(e))&&(i&&(i+=" "),i+=t);return i},ie=window.wp.keycodes;function re({selection:e,onChangeSelection:t,item:n,getItemId:r,titleField:a,disabled:s,...o}){const u=r(n),d=!s&&e.includes(u),f=a?.getValue?.({item:n})||(0,c.__)("(no title)");return(0,i.jsx)(l.CheckboxControl,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":f,"aria-disabled":s,checked:d,onChange:()=>{s||t(e.includes(u)?e.filter((e=>u!==e)):[...e,u])},...o})}var ae=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})});const le=window.wp.data,se=window.wp.privateApis;var{lock:oe,unlock:ue}=(0,se.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{Menu:ce,kebabCase:de}=ue(l.privateApis);function fe({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,i.jsx)(l.Button,{disabled:!!e.disabled,accessibleWhenDisabled:!0,size:"compact",onClick:t,children:r})}function me({action:e,onClick:t,items:n}){const r="string"==typeof e.label?e.label:e.label(n);return(0,i.jsx)(ce.Item,{disabled:e.disabled,onClick:t,children:(0,i.jsx)(ce.ItemLabel,{children:r})})}function ve({action:e,items:t,closeModal:n}){const r="string"==typeof e.label?e.label:e.label(t),a="function"==typeof e.modalHeader?e.modalHeader(t):e.modalHeader;return(0,i.jsx)(l.Modal,{title:a||r,__experimentalHideHeader:!!e.hideModalHeader,onRequestClose:n,focusOnMount:e.modalFocusOnMount??!0,size:e.modalSize||"medium",overlayClassName:`dataviews-action-modal dataviews-action-modal__${de(e.id)}`,children:(0,i.jsx)(e.RenderModal,{items:t,closeModal:n})})}function pe({actions:e,item:t,registry:n,setActiveModalAction:r}){const{primaryActions:a,regularActions:l}=(0,s.useMemo)((()=>e.reduce(((e,t)=>((t.isPrimary?e.primaryActions:e.regularActions).push(t),e)),{primaryActions:[],regularActions:[]})),[e]),o=e=>e.map((e=>(0,i.jsx)(me,{action:e,onClick:()=>{"RenderModal"in e?r(e):e.callback([t],{registry:n})},items:[t]},e.id)));return(0,i.jsxs)(ce.Group,{children:[o(a),a.length>0&&l.length>0&&(0,i.jsx)(ce.Separator,{}),o(l)]})}function he({item:e,actions:t,isCompact:n}){const r=(0,le.useRegistry)(),{primaryActions:a,eligibleActions:o}=(0,s.useMemo)((()=>{const n=t.filter((t=>!t.isEligible||t.isEligible(e)));return{primaryActions:n.filter((e=>e.isPrimary)),eligibleActions:n}}),[t,e]);return n?(0,i.jsx)(ge,{item:e,actions:o,isSmall:!0,registry:r}):(0,i.jsxs)(l.__experimentalHStack,{spacing:0,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:0,width:"auto"},children:[(0,i.jsx)(be,{item:e,actions:a,registry:r}),a.length<o.length&&(0,i.jsx)(ge,{item:e,actions:o,registry:r})]})}function ge({item:e,actions:t,isSmall:n,registry:r}){const[a,o]=(0,s.useState)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ce,{placement:"bottom-end",children:[(0,i.jsx)(ce.TriggerButton,{render:(0,i.jsx)(l.Button,{size:n?"small":"compact",icon:ae,label:(0,c.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,className:"dataviews-all-actions-button"})}),(0,i.jsx)(ce.Popover,{children:(0,i.jsx)(pe,{actions:t,item:e,registry:r,setActiveModalAction:o})})]}),!!a&&(0,i.jsx)(ve,{action:a,items:[e],closeModal:()=>o(null)})]})}function be({item:e,actions:t,registry:n}){const[r,a]=(0,s.useState)(null);return(0,m.useViewportMatch)("medium","<")?null:Array.isArray(t)&&0!==t.length?(0,i.jsxs)(i.Fragment,{children:[t.map((t=>(0,i.jsx)(fe,{action:t,onClick:()=>{"RenderModal"in t?a(t):t.callback([e],{registry:n})},items:[e]},t.id))),!!r&&(0,i.jsx)(ve,{action:r,items:[e],closeModal:()=>a(null)})]}):null}var xe=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function we({action:e,items:t,ActionTriggerComponent:n}){const[r,a]=(0,s.useState)(!1),l={action:e,onClick:()=>{a(!0)},items:t};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{...l}),r&&(0,i.jsx)(ve,{action:e,items:t,closeModal:()=>a(!1)})]})}function ye(e,t){return(0,s.useMemo)((()=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))),[e,t])}function _e(e,t){return(0,s.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))))),[e,t])}function je({selection:e,onChangeSelection:t,data:n,actions:r,getItemId:a}){const o=(0,s.useMemo)((()=>n.filter((e=>r.some((t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e))))))),[n,r]),u=n.filter((t=>e.includes(a(t))&&o.includes(t))),d=u.length===o.length;return(0,i.jsx)(l.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:d,indeterminate:!d&&!!u.length,onChange:()=>{t(d?[]:o.map((e=>a(e))))},"aria-label":d?(0,c.__)("Deselect all"):(0,c.__)("Select all")})}function Ce({action:e,onClick:t,isBusy:n,items:r}){const a="string"==typeof e.label?e.label:e.label(r);return(0,m.useViewportMatch)("medium","<")?(0,i.jsx)(l.Button,{disabled:n,accessibleWhenDisabled:!0,label:a,icon:e.icon,size:"compact",onClick:t,isBusy:n}):(0,i.jsx)(l.Button,{disabled:n,accessibleWhenDisabled:!0,size:"compact",onClick:t,isBusy:n,children:a})}var Se=[];function ke({action:e,selectedItems:t,actionInProgress:n,setActionInProgress:r}){const a=(0,le.useRegistry)(),l=(0,s.useMemo)((()=>t.filter((t=>!e.isEligible||e.isEligible(t)))),[e,t]);return"RenderModal"in e?(0,i.jsx)(we,{action:e,items:l,ActionTriggerComponent:Ce},e.id):(0,i.jsx)(Ce,{action:e,onClick:async()=>{r(e.id),await e.callback(t,{registry:a}),r(null)},items:l,isBusy:n===e.id},e.id)}function Ie(e,t,n,r,a,s,o,u,d){const f=s.length>0?(0,c.sprintf)(
/* translators: %d: number of items. */
/* translators: %d: number of items. */
(0,c._n)("%d Item selected","%d Items selected",s.length),s.length):(0,c.sprintf)(
/* translators: %d: number of items. */
/* translators: %d: number of items. */
(0,c._n)("%d Item","%d Items",e.length),e.length);return(0,i.jsxs)(l.__experimentalHStack,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,i.jsx)(je,{selection:r,onChangeSelection:d,data:e,actions:t,getItemId:n}),(0,i.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:f}),(0,i.jsxs)(l.__experimentalHStack,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[a.map((e=>(0,i.jsx)(ke,{action:e,selectedItems:s,actionInProgress:o,setActionInProgress:u},e.id))),s.length>0&&(0,i.jsx)(l.Button,{icon:xe,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,c.__)("Cancel"),disabled:!!o,accessibleWhenDisabled:!1,onClick:()=>{d(Se)}})]})]})}function Ve({selection:e,actions:t,onChangeSelection:n,data:i,getItemId:r}){const[a,l]=(0,s.useState)(null),o=(0,s.useRef)(null),u=(0,m.useViewportMatch)("medium","<"),c=(0,s.useMemo)((()=>t.filter((e=>e.supportsBulk))),[t]),d=(0,s.useMemo)((()=>i.filter((e=>c.some((t=>!t.isEligible||t.isEligible(e)))))),[i,c]),f=(0,s.useMemo)((()=>i.filter((t=>e.includes(r(t))&&d.includes(t)))),[e,i,r,d]),v=(0,s.useMemo)((()=>t.filter((e=>e.supportsBulk&&(!u||e.icon)&&f.some((t=>!e.isEligible||e.isEligible(t)))))),[t,f,u]);return a?(o.current||(o.current=Ie(i,t,r,e,v,f,a,l,n)),o.current):(o.current&&(o.current=null),Ie(i,t,r,e,v,f,a,l,n))}function Ee(){const{data:e,selection:t,actions:n=Se,onChangeSelection:r,getItemId:a}=(0,s.useContext)(Z);return(0,i.jsx)(Ve,{selection:t,onChangeSelection:r,data:e,actions:n,getItemId:a})}var Ne=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})}),Fe=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),Me=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),Oe=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),{Menu:Pe}=ue(l.privateApis);function Ae({children:e}){return s.Children.toArray(e).filter(Boolean).map(((e,t)=>(0,i.jsxs)(s.Fragment,{children:[t>0&&(0,i.jsx)(Pe.Separator,{}),e]},t)))}var Te=(0,s.forwardRef)((function({fieldId:e,view:t,fields:n,onChangeView:r,onHide:a,setOpenedFilter:s,canMove:o=!0},u){const d=t.fields??[],f=d?.indexOf(e),m=t.sort?.field===e;let v=!1,p=!1,h=!1,g=[];const b=n.find((t=>t.id===e));if(!b)return null;v=!1!==b.enableHiding,p=!1!==b.enableSorting;const x=b.header;return g=!!b.filterBy&&b.filterBy?.operators||[],h=!(t.filters?.some((t=>e===t.field))||!b.hasElements&&!b.Edit||!1===b.filterBy||b.filterBy?.isPrimary),p||o||v||h?(0,i.jsxs)(Pe,{children:[(0,i.jsxs)(Pe.TriggerButton,{render:(0,i.jsx)(l.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:u,variant:"tertiary"}),children:[x,t.sort&&m&&(0,i.jsx)("span",{"aria-hidden":"true",children:R[t.sort.direction]})]}),(0,i.jsx)(Pe.Popover,{style:{minWidth:"240px"},children:(0,i.jsxs)(Ae,{children:[p&&(0,i.jsx)(Pe.Group,{children:q.map((n=>{const a=t.sort&&m&&t.sort.direction===n,l=`${e}-${n}`;return(0,i.jsx)(Pe.RadioItem,{name:"view-table-sorting",value:l,checked:a,onChange:()=>{r({...t,sort:{field:e,direction:n},showLevels:!1})},children:(0,i.jsx)(Pe.ItemLabel,{children:$[n]})},l)}))}),h&&(0,i.jsx)(Pe.Group,{children:(0,i.jsx)(Pe.Item,{prefix:(0,i.jsx)(l.Icon,{icon:Ne}),onClick:()=>{s(e),r({...t,page:1,filters:[...t.filters||[],{field:e,value:void 0,operator:g[0]}]})},children:(0,i.jsx)(Pe.ItemLabel,{children:(0,c.__)("Add filter")})})}),(o||v)&&b&&(0,i.jsxs)(Pe.Group,{children:[o&&(0,i.jsx)(Pe.Item,{prefix:(0,i.jsx)(l.Icon,{icon:Fe}),disabled:f<1,onClick:()=>{r({...t,fields:[...d.slice(0,f-1)??[],e,d[f-1],...d.slice(f+1)]})},children:(0,i.jsx)(Pe.ItemLabel,{children:(0,c.__)("Move left")})}),o&&(0,i.jsx)(Pe.Item,{prefix:(0,i.jsx)(l.Icon,{icon:Me}),disabled:f>=d.length-1,onClick:()=>{r({...t,fields:[...d.slice(0,f)??[],d[f+1],e,...d.slice(f+2)]})},children:(0,i.jsx)(Pe.ItemLabel,{children:(0,c.__)("Move right")})}),v&&b&&(0,i.jsx)(Pe.Item,{prefix:(0,i.jsx)(l.Icon,{icon:Oe}),onClick:()=>{a(b),r({...t,fields:d.filter((t=>t!==e))})},children:(0,i.jsx)(Pe.ItemLabel,{children:(0,c.__)("Hide column")})})]})]})})]}):x})),Le=Te;function ze({item:e,isItemClickable:t,onClickItem:n,renderItemLink:r,className:a,children:l,...o}){if(!t(e))return(0,i.jsx)("div",{className:a,...o,children:l});if(r){const t=r({item:e,className:`${a} ${a}--clickable`,...o,children:l});return(0,s.cloneElement)(t,{onClick:e=>{e.stopPropagation(),t.props.onClick&&t.props.onClick(e)},onKeyDown:e=>{"Enter"!==e.key&&""!==e.key&&" "!==e.key||(e.stopPropagation(),t.props.onKeyDown&&t.props.onKeyDown(e))}})}const u=function({item:e,isItemClickable:t,onClickItem:n,className:i}){return t(e)&&n?{className:i?`${i} ${i}--clickable`:void 0,role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),n(e)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),n(e))}}:{className:i}}({item:e,isItemClickable:t,onClickItem:n,className:a});return(0,i.jsx)("div",{...u,...o,children:l})}var De=function({item:e,level:t,titleField:n,mediaField:r,descriptionField:a,onClickItem:s,renderItemLink:o,isItemClickable:u}){return(0,i.jsxs)(l.__experimentalHStack,{spacing:3,justify:"flex-start",children:[r&&(0,i.jsx)(ze,{item:e,isItemClickable:u,onClickItem:s,renderItemLink:o,className:"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media","aria-label":u(e)&&(s||o)&&n?n.getValue?.({item:e}):void 0,children:(0,i.jsx)(r.render,{item:e,field:r,config:{sizes:"32px"}})}),(0,i.jsxs)(l.__experimentalVStack,{spacing:0,alignment:"flex-start",className:"dataviews-view-table__primary-column-content",children:[n&&(0,i.jsxs)(ze,{item:e,isItemClickable:u,onClickItem:s,renderItemLink:o,className:"dataviews-view-table__cell-content-wrapper dataviews-title-field",children:[void 0!==t&&t>0&&(0,i.jsxs)("span",{className:"dataviews-view-table__level",children:["—".repeat(t)," "]}),(0,i.jsx)(n.render,{item:e,field:n})]}),a&&(0,i.jsx)(a.render,{item:e,field:a})]})]})};function Be(e,t){return e.reduce(((e,n)=>{const i=t.getValue({item:n});return e.has(i)||e.set(i,[]),e.get(i)?.push(n),e}),new Map)}var He=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})});function qe({field:e,isVisible:t,onToggleVisibility:n}){return(0,i.jsx)(l.__experimentalItem,{onClick:e.enableHiding?n:void 0,children:(0,i.jsxs)(l.__experimentalHStack,{expanded:!0,justify:"flex-start",alignment:"center",children:[(0,i.jsx)("div",{style:{height:24,width:24},children:t&&(0,i.jsx)(l.Icon,{icon:He})}),(0,i.jsx)("span",{className:"dataviews-view-config__label",children:e.label})]})})}function Re(e){return!!e}function We({showLabel:e=!0}){const{view:t,fields:n,onChangeView:r}=(0,s.useContext)(Z),a=[t?.titleField,t?.mediaField,t?.descriptionField].filter(Boolean),o=n.filter((e=>!a.includes(e.id)&&"media"!==e.type&&!1!==e.enableHiding));if(!o?.length)return null;const u=n.find((e=>e.id===t.titleField)),d=n.find((e=>e.id===t.mediaField)),f=n.find((e=>e.id===t.descriptionField)),m=[{field:u,isVisibleFlag:"showTitle"},{field:d,isVisibleFlag:"showMedia"},{field:f,isVisibleFlag:"showDescription"}].filter((({field:e})=>Re(e))),v=t.fields??[],p=o.filter((e=>v.includes(e.id))).length;let h=m.filter((({field:e,isVisibleFlag:n})=>Re(e)&&(t[n]??!0)));const g=h.length+p;1===g&&1===h.length&&(h=h.map((e=>({...e,field:{...e.field,enableHiding:!1}}))));const b=m.filter((({field:e,isVisibleFlag:n})=>Re(e)&&!(t[n]??1)));return(0,i.jsxs)(l.__experimentalVStack,{className:"dataviews-field-control",spacing:0,children:[e&&(0,i.jsx)(l.BaseControl.VisualLabel,{children:(0,c.__)("Properties")}),(0,i.jsx)(l.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(0,i.jsxs)(l.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,size:"medium",children:[h.map((({field:e,isVisibleFlag:n})=>(0,i.jsx)(qe,{field:e,isVisible:!0,onToggleVisibility:()=>{r({...t,[n]:!1})}},e.id))),b.map((({field:e,isVisibleFlag:n})=>(0,i.jsx)(qe,{field:e,isVisible:!1,onToggleVisibility:()=>{r({...t,[n]:!0})}},e.id))),o.map((e=>{const n=v.includes(e.id),a=1===g&&n?{...e,enableHiding:!1}:e;return(0,i.jsx)(qe,{field:a,isVisible:n,onToggleVisibility:()=>{r({...t,fields:n?v.filter((t=>t!==e.id)):[...v,e.id]})}},e.id)}))]})})]})}function $e({item:e,fields:t,column:n,align:r}){const a=t.find((e=>e.id===n));if(!a)return null;const l=ne("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__cell-align-end":"end"===r,"dataviews-view-table__cell-align-center":"center"===r});return(0,i.jsx)("div",{className:l,children:(0,i.jsx)(a.render,{item:e,field:a})})}function Ue({hasBulkActions:e,item:t,level:n,actions:r,fields:a,id:l,view:o,titleField:u,mediaField:c,descriptionField:d,selection:f,getItemId:m,isItemClickable:v,onClickItem:p,renderItemLink:h,onChangeSelection:g,isActionsColumnSticky:b,posinset:x}){const{paginationInfo:w}=(0,s.useContext)(Z),y=ye(r,t),_=y&&f.includes(l),[j,C]=(0,s.useState)(!1),{showTitle:S=!0,showMedia:k=!0,showDescription:I=!0,infiniteScrollEnabled:V}=o,E=(0,s.useRef)(!1),N=o.fields??[],F=u&&S||c&&k||d&&I;return(0,i.jsxs)("tr",{className:ne("dataviews-view-table__row",{"is-selected":y&&_,"is-hovered":j,"has-bulk-actions":y}),onMouseEnter:()=>{C(!0)},onMouseLeave:()=>{C(!1)},onTouchStart:()=>{E.current=!0},"aria-setsize":V?w.totalItems:void 0,"aria-posinset":x,role:V?"article":void 0,onClick:e=>{y&&(E.current||"Range"===document.getSelection()?.type||(((0,ie.isAppleOS)()?e.metaKey:e.ctrlKey)?g(f.includes(l)?f.filter((e=>l!==e)):[...f,l]):g(f.includes(l)?f.filter((e=>l!==e)):[l])))},children:[e&&(0,i.jsx)("td",{className:"dataviews-view-table__checkbox-column",children:(0,i.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,i.jsx)(re,{item:t,selection:f,onChangeSelection:g,getItemId:m,titleField:u,disabled:!y})})}),F&&(0,i.jsx)("td",{children:(0,i.jsx)(De,{item:t,level:n,titleField:S?u:void 0,mediaField:k?c:void 0,descriptionField:I?d:void 0,isItemClickable:v,onClickItem:p,renderItemLink:h})}),N.map((e=>{const{width:n,maxWidth:r,minWidth:l,align:s}=o.layout?.styles?.[e]??{};return(0,i.jsx)("td",{style:{width:n,maxWidth:r,minWidth:l},children:(0,i.jsx)($e,{fields:a,item:t,column:e,align:s})},e)})),!!r?.length&&(0,i.jsx)("td",{className:ne("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":b}),onClick:e=>e.stopPropagation(),children:(0,i.jsx)(he,{item:t,actions:r})})]})}var Ke=(0,s.forwardRef)((({className:e,previewSize:t,...n},r)=>(0,i.jsx)("div",{ref:r,className:ne("dataviews-view-grid-items",e),style:{gridTemplateColumns:t&&`repeat(auto-fill, minmax(${t}px, 1fr))`},...n}))),{Badge:Ge}=ue(l.privateApis);function Ye({view:e,selection:t,onChangeSelection:n,onClickItem:r,isItemClickable:a,renderItemLink:o,getItemId:u,item:d,actions:f,mediaField:v,titleField:p,descriptionField:h,regularFields:g,badgeFields:b,hasBulkActions:x,config:w,posinset:y}){const{showTitle:_=!0,showMedia:j=!0,showDescription:C=!0,infiniteScrollEnabled:S}=e,k=ye(f,d),I=u(d),V=(0,m.useInstanceId)(Ye),E=t.includes(I),N=v?.render?(0,i.jsx)(v.render,{item:d,field:v,config:w}):null,F=_&&p?.render?(0,i.jsx)(p.render,{item:d,field:p}):null,M=j&&N;let O,P;a(d)&&r&&(F?(O={"aria-labelledby":`dataviews-view-grid__title-field-${V}`},P={id:`dataviews-view-grid__title-field-${V}`}):O={"aria-label":(0,c.__)("Navigate to item")});const{paginationInfo:A}=(0,s.useContext)(Z);return(0,i.jsxs)(l.__experimentalVStack,{spacing:0,className:ne("dataviews-view-grid__card",{"is-selected":k&&E}),onClickCapture:e=>{if((0,ie.isAppleOS)()?e.metaKey:e.ctrlKey){if(e.stopPropagation(),e.preventDefault(),!k)return;n(t.includes(I)?t.filter((e=>I!==e)):[...t,I])}},role:S?"article":void 0,"aria-setsize":S?A.totalItems:void 0,"aria-posinset":y,children:[M&&(0,i.jsx)(ze,{item:d,isItemClickable:a,onClickItem:r,renderItemLink:o,className:"dataviews-view-grid__media",...O,children:N}),x&&M&&(0,i.jsx)(re,{item:d,selection:t,onChangeSelection:n,getItemId:u,titleField:p,disabled:!k}),!_&&M&&!!f?.length&&(0,i.jsx)("div",{className:"dataviews-view-grid__media-actions",children:(0,i.jsx)(he,{item:d,actions:f,isCompact:!0})}),_&&(0,i.jsxs)(l.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,i.jsx)(ze,{item:d,isItemClickable:a,onClickItem:r,renderItemLink:o,className:"dataviews-view-grid__title-field dataviews-title-field",...P,children:F}),!!f?.length&&(0,i.jsx)(he,{item:d,actions:f,isCompact:!0})]}),(0,i.jsxs)(l.__experimentalVStack,{spacing:1,children:[C&&h?.render&&(0,i.jsx)(h.render,{item:d,field:h}),!!b?.length&&(0,i.jsx)(l.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:b.map((e=>(0,i.jsx)(Ge,{className:"dataviews-view-grid__field-value",children:(0,i.jsx)(e.render,{item:d,field:e})},e.id)))}),!!g?.length&&(0,i.jsx)(l.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:1,children:g.map((e=>(0,i.jsx)(l.Flex,{className:"dataviews-view-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Tooltip,{text:e.label,children:(0,i.jsx)(l.FlexItem,{className:"dataviews-view-grid__field-name",children:e.header})}),(0,i.jsx)(l.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,i.jsx)(e.render,{item:d,field:e})})]})},e.id)))})]})]},I)}var{Menu:Ze}=ue(l.privateApis);function Xe(e){return`${e}-item-wrapper`}function Qe(e){return`${e}-dropdown`}function Je({idPrefix:e,primaryAction:t,item:n}){const r=(0,le.useRegistry)(),[a,o]=(0,s.useState)(!1),u=function(e,t){return`${e}-primary-action-${t}`}(e,t.id),c="string"==typeof t.label?t.label:t.label([n]);return"RenderModal"in t?(0,i.jsx)("div",{role:"gridcell",children:(0,i.jsx)(l.Composite.Item,{id:u,render:(0,i.jsx)(l.Button,{disabled:!!t.disabled,accessibleWhenDisabled:!0,text:c,size:"small",onClick:()=>o(!0)}),children:a&&(0,i.jsx)(ve,{action:t,items:[n],closeModal:()=>o(!1)})})},t.id):(0,i.jsx)("div",{role:"gridcell",children:(0,i.jsx)(l.Composite.Item,{id:u,render:(0,i.jsx)(l.Button,{disabled:!!t.disabled,accessibleWhenDisabled:!0,size:"small",onClick:()=>{t.callback([n],{registry:r})},children:c})})},t.id)}function et({view:e,actions:t,idPrefix:n,isSelected:r,item:a,titleField:o,mediaField:u,descriptionField:d,onSelect:f,otherFields:m,onDropdownTriggerKeyDown:v,posinset:p}){const{showTitle:h=!0,showMedia:g=!0,showDescription:b=!0,infiniteScrollEnabled:x}=e,w=(0,s.useRef)(null),y=`${n}-label`,_=`${n}-description`,j=(0,le.useRegistry)(),[C,S]=(0,s.useState)(!1),[k,I]=(0,s.useState)(null),V=({type:e})=>{S("mouseenter"===e)},{paginationInfo:E}=(0,s.useContext)(Z);(0,s.useEffect)((()=>{r&&w.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[r]);const{primaryAction:N,eligibleActions:F}=(0,s.useMemo)((()=>{const e=t.filter((e=>!e.isEligible||e.isEligible(a)));return{primaryAction:e.filter((e=>e.isPrimary))[0],eligibleActions:e}}),[t,a]),M=N&&1===t.length,O=g&&u?.render?(0,i.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:(0,i.jsx)(u.render,{item:a,field:u,config:{sizes:"52px"}})}):null,P=h&&o?.render?(0,i.jsx)(o.render,{item:a,field:o}):null,A=F?.length>0&&(0,i.jsxs)(l.__experimentalHStack,{spacing:3,className:"dataviews-view-list__item-actions",children:[N&&(0,i.jsx)(Je,{idPrefix:n,primaryAction:N,item:a}),!M&&(0,i.jsxs)("div",{role:"gridcell",children:[(0,i.jsxs)(Ze,{placement:"bottom-end",children:[(0,i.jsx)(Ze.TriggerButton,{render:(0,i.jsx)(l.Composite.Item,{id:Qe(n),render:(0,i.jsx)(l.Button,{size:"small",icon:ae,label:(0,c.__)("Actions"),accessibleWhenDisabled:!0,disabled:!t.length,onKeyDown:v})})}),(0,i.jsx)(Ze.Popover,{children:(0,i.jsx)(pe,{actions:F,item:a,registry:j,setActiveModalAction:I})})]}),!!k&&(0,i.jsx)(ve,{action:k,items:[a],closeModal:()=>I(null)})]})]});return(0,i.jsx)(l.Composite.Row,{ref:w,render:(0,i.jsx)("div",{"aria-posinset":p,"aria-setsize":x?E.totalItems:void 0}),role:x?"article":"row",className:ne({"is-selected":r,"is-hovered":C}),onMouseEnter:V,onMouseLeave:V,children:(0,i.jsxs)(l.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",spacing:0,children:[(0,i.jsx)("div",{role:"gridcell",children:(0,i.jsx)(l.Composite.Item,{id:Xe(n),"aria-pressed":r,"aria-labelledby":y,"aria-describedby":_,className:"dataviews-view-list__item",onClick:()=>f(a)})}),(0,i.jsxs)(l.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[O,(0,i.jsxs)(l.__experimentalVStack,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,i.jsxs)(l.__experimentalHStack,{spacing:0,children:[(0,i.jsx)("div",{className:"dataviews-title-field",id:y,children:P}),A]}),b&&d?.render&&(0,i.jsx)("div",{className:"dataviews-view-list__field",children:(0,i.jsx)(d.render,{item:a,field:d})}),(0,i.jsx)("div",{className:"dataviews-view-list__fields",id:_,children:m.map((e=>(0,i.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,i.jsx)(l.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:e.label}),(0,i.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,i.jsx)(e.render,{item:a,field:e})})]},e.id)))})]})]})]})})}function tt(e){return!!e}function nt(e){return(0,s.useMemo)((()=>e?.every((e=>e.supportsBulk))),[e])}var{Badge:it}=ue(l.privateApis);function rt({view:e,multiselect:t,selection:n,onChangeSelection:r,getItemId:a,item:s,mediaField:o,titleField:u,descriptionField:d,regularFields:f,badgeFields:m,config:v,posinset:p,setsize:h}){const{showTitle:g=!0,showMedia:b=!0,showDescription:x=!0}=e,w=a(s),y=n.includes(w),_=o?.render?(0,i.jsx)(o.render,{item:s,field:o,config:v}):null,j=g&&u?.render?(0,i.jsx)(u.render,{item:s,field:u}):null;return(0,i.jsxs)(l.Composite.Item,{"aria-label":u?u.getValue({item:s})||(0,c.__)("(no title)"):void 0,render:({children:e,...t})=>(0,i.jsx)(l.__experimentalVStack,{spacing:0,children:e,...t}),role:"option","aria-posinset":p,"aria-setsize":h,className:ne("dataviews-view-picker-grid__card",{"is-selected":y}),"aria-selected":y,onClick:()=>{if(y)r(n.filter((e=>w!==e)));else{const e=t?[...n,w]:[w];r(e)}},children:[b&&_&&(0,i.jsx)("div",{className:"dataviews-view-picker-grid__media",children:_}),b&&_&&(0,i.jsx)(re,{item:s,selection:n,onChangeSelection:r,getItemId:a,titleField:u,disabled:!1,"aria-hidden":!0,tabIndex:-1}),g&&(0,i.jsx)(l.__experimentalHStack,{justify:"space-between",className:"dataviews-view-picker-grid__title-actions",children:(0,i.jsx)("div",{className:"dataviews-view-picker-grid__title-field dataviews-title-field",children:j})}),(0,i.jsxs)(l.__experimentalVStack,{spacing:1,children:[x&&d?.render&&(0,i.jsx)(d.render,{item:s,field:d}),!!m?.length&&(0,i.jsx)(l.__experimentalHStack,{className:"dataviews-view-picker-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:m.map((e=>(0,i.jsx)(it,{className:"dataviews-view-picker-grid__field-value",children:(0,i.jsx)(e.render,{item:s,field:e})},e.id)))}),!!f?.length&&(0,i.jsx)(l.__experimentalVStack,{className:"dataviews-view-picker-grid__fields",spacing:1,children:f.map((e=>(0,i.jsx)(l.Flex,{className:"dataviews-view-picker-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.FlexItem,{className:"dataviews-view-picker-grid__field-name",children:e.header}),(0,i.jsx)(l.FlexItem,{className:"dataviews-view-picker-grid__field-value",style:{maxHeight:"none"},children:(0,i.jsx)(e.render,{item:s,field:e})})]})},e.id)))})]})]},w)}function at({groupName:e,groupField:t,children:n}){const r=(0,m.useInstanceId)(at,"dataviews-view-picker-grid-group__header");return(0,i.jsxs)(l.__experimentalVStack,{spacing:2,role:"group","aria-labelledby":r,children:[(0,i.jsx)("h3",{className:"dataviews-view-picker-grid-group__header",id:r,children:(0,c.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,c.__)("%1$s: %2$s"),t.label,e)}),n]},e)}function lt({item:e,fields:t,column:n,align:r}){const a=t.find((e=>e.id===n));if(!a)return null;const l=ne("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__cell-align-end":"end"===r,"dataviews-view-table__cell-align-center":"center"===r});return(0,i.jsx)("div",{className:l,children:(0,i.jsx)(a.render,{item:e,field:a})})}function st({item:e,fields:t,id:n,view:r,titleField:a,mediaField:o,descriptionField:u,selection:c,getItemId:d,onChangeSelection:f,multiselect:m,posinset:v}){const{paginationInfo:p}=(0,s.useContext)(Z),h=c.includes(n),[g,b]=(0,s.useState)(!1),{showTitle:x=!0,showMedia:w=!0,showDescription:y=!0,infiniteScrollEnabled:_}=r,j=()=>{b(!0)},C=()=>{b(!1)},S=r.fields??[],k=a&&x||o&&w||u&&y;return(0,i.jsxs)(l.Composite.Item,{render:({children:e,...t})=>(0,i.jsx)("tr",{className:ne("dataviews-view-table__row",{"is-selected":h,"is-hovered":g}),onMouseEnter:j,onMouseLeave:C,children:e,...t}),"aria-selected":h,"aria-setsize":p.totalItems||void 0,"aria-posinset":v,role:_?"article":"option",onClick:()=>{if(h)f(c.filter((e=>n!==e)));else{const e=m?[...c,n]:[n];f(e)}},children:[(0,i.jsx)("td",{className:"dataviews-view-table__checkbox-column",role:"presentation",children:(0,i.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,i.jsx)(re,{item:e,selection:c,onChangeSelection:f,getItemId:d,titleField:a,disabled:!1,"aria-hidden":!0,tabIndex:-1})})}),k&&(0,i.jsx)("td",{role:"presentation",children:(0,i.jsx)(De,{item:e,titleField:x?a:void 0,mediaField:w?o:void 0,descriptionField:y?u:void 0,isItemClickable:()=>!1})}),S.map((n=>{const{width:a,maxWidth:l,minWidth:s,align:o}=r.layout?.styles?.[n]??{};return(0,i.jsx)("td",{style:{width:a,maxWidth:l,minWidth:s},role:"presentation",children:(0,i.jsx)(lt,{fields:t,item:e,column:n,align:o})},n)}))]},n)}var ot=[{value:120,breakpoint:1},{value:170,breakpoint:1},{value:230,breakpoint:1},{value:290,breakpoint:1112},{value:350,breakpoint:1636},{value:430,breakpoint:588}];function ut(){const e=(0,s.useContext)(Z),t=e.view,n=ot.filter((t=>e.containerWidth>=t.breakpoint)),r=t.layout?.previewSize??230,a=n.map(((e,t)=>({...e,index:t}))).filter((e=>e.value<=r)).sort(((e,t)=>t.value-e.value))[0]?.index??0,o=n.map(((e,t)=>({value:t})));return(0,i.jsx)(l.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,c.__)("Preview size"),value:a,min:0,max:n.length-1,withInputField:!1,onChange:(i=0)=>{e.onChangeView({...t,layout:{...t.layout,previewSize:n[i].value}})},step:1,marks:o})}function ct(){const e=(0,s.useContext)(Z),t=e.view;return(0,i.jsxs)(l.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:(0,c.__)("Density"),value:t.layout?.density||"balanced",onChange:n=>{e.onChangeView({...t,layout:{...t.layout,density:n}})},isBlock:!0,children:[(0,i.jsx)(l.__experimentalToggleGroupControlOption,{value:"comfortable",label:(0,c._x)("Comfortable","Density option for DataView layout")},"comfortable"),(0,i.jsx)(l.__experimentalToggleGroupControlOption,{value:"balanced",label:(0,c._x)("Balanced","Density option for DataView layout")},"balanced"),(0,i.jsx)(l.__experimentalToggleGroupControlOption,{value:"compact",label:(0,c._x)("Compact","Density option for DataView layout")},"compact")]})}var dt=[{type:K,label:(0,c.__)("Table"),component:function({actions:e,data:t,fields:n,getItemId:r,getItemLevel:a,isLoading:o=!1,onChangeView:u,onChangeSelection:d,selection:f,setOpenedFilter:v,onClickItem:p,isItemClickable:h,renderItemLink:g,view:b,className:x,empty:w}){const{containerRef:y}=(0,s.useContext)(Z),_=(0,s.useRef)(new Map),j=(0,s.useRef)(),[C,S]=(0,s.useState)(),k=_e(e,t),[I,V]=(0,s.useState)(null);(0,s.useEffect)((()=>{j.current&&(j.current.focus(),j.current=void 0)}));const E=(0,s.useId)(),N=function({scrollContainerRef:e,enabled:t=!1}){const[n,i]=(0,s.useState)(!1),r=(0,m.useDebounce)((0,s.useCallback)((()=>{const t=e.current;var n;t&&i((n=t,(0,c.isRTL)()?Math.abs(n.scrollLeft)<=1:n.scrollLeft+n.clientWidth>=n.scrollWidth-1))}),[e,i]),200);return(0,s.useEffect)((()=>"undefined"!=typeof window&&t&&e.current?(r(),e.current.addEventListener("scroll",r),window.addEventListener("resize",r),()=>{e.current?.removeEventListener("scroll",r),window.removeEventListener("resize",r)}):()=>{}),[e,t]),n}({scrollContainerRef:y,enabled:!!e?.length});if(C)return j.current=C,void S(void 0);const F=e=>{const t=_.current.get(e.id),n=t?_.current.get(t.fallback):void 0;S(n?.node)},M=e=>{e.preventDefault(),e.stopPropagation();const t={getBoundingClientRect:()=>({x:e.clientX,y:e.clientY,top:e.clientY,left:e.clientX,right:e.clientX,bottom:e.clientY,width:0,height:0,toJSON:()=>({})})};window.requestAnimationFrame((()=>{V(t)}))},O=!!t?.length,P=n.find((e=>e.id===b.titleField)),A=n.find((e=>e.id===b.mediaField)),T=n.find((e=>e.id===b.descriptionField)),L=b.groupByField?n.find((e=>e.id===b.groupByField)):null,z=L?Be(t,L):null,{showTitle:D=!0,showMedia:B=!0,showDescription:H=!0}=b,q=P&&D||A&&B||T&&H,R=b.fields??[],$=(e,t)=>n=>{n?_.current.set(e,{node:n,fallback:R[t>0?t-1:1]}):_.current.delete(e)},U=b.infiniteScrollEnabled&&!z;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("table",{className:ne("dataviews-view-table",x,{[`has-${b.layout?.density}-density`]:b.layout?.density&&["compact","comfortable"].includes(b.layout.density)}),"aria-busy":o,"aria-describedby":E,role:U?"feed":void 0,children:[(0,i.jsxs)("colgroup",{children:[k&&(0,i.jsx)("col",{className:"dataviews-view-table__col-checkbox"}),q&&(0,i.jsx)("col",{className:"dataviews-view-table__col-primary"}),R.map((e=>(0,i.jsx)("col",{className:`dataviews-view-table__col-${e}`},`col-${e}`))),!!e?.length&&(0,i.jsx)("col",{className:"dataviews-view-table__col-actions"})]}),I&&(0,i.jsx)(l.Popover,{anchor:I,onClose:()=>V(null),placement:"bottom-start",children:(0,i.jsx)(We,{showLabel:!1})}),(0,i.jsx)("thead",{onContextMenu:M,children:(0,i.jsxs)("tr",{className:"dataviews-view-table__row",children:[k&&(0,i.jsx)("th",{className:"dataviews-view-table__checkbox-column",scope:"col",onContextMenu:M,children:(0,i.jsx)(je,{selection:f,onChangeSelection:d,data:t,actions:e,getItemId:r})}),q&&(0,i.jsx)("th",{scope:"col",children:P&&(0,i.jsx)(Le,{ref:$(P.id,0),fieldId:P.id,view:b,fields:n,onChangeView:u,onHide:F,setOpenedFilter:v,canMove:!1})}),R.map(((e,t)=>{const{width:r,maxWidth:a,minWidth:l,align:s}=b.layout?.styles?.[e]??{};return(0,i.jsx)("th",{style:{width:r,maxWidth:a,minWidth:l,textAlign:s},"aria-sort":b.sort?.direction&&b.sort?.field===e?W[b.sort.direction]:void 0,scope:"col",children:(0,i.jsx)(Le,{ref:$(e,t),fieldId:e,view:b,fields:n,onChangeView:u,onHide:F,setOpenedFilter:v,canMove:b.layout?.enableMoving??!0})},e)})),!!e?.length&&(0,i.jsx)("th",{className:ne("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":!N}),children:(0,i.jsx)("span",{className:"dataviews-view-table-header",children:(0,c.__)("Actions")})})]})}),O&&L&&z?Array.from(z.entries()).map((([t,l])=>(0,i.jsxs)("tbody",{children:[(0,i.jsx)("tr",{className:"dataviews-view-table__group-header-row",children:(0,i.jsx)("td",{colSpan:R.length+(q?1:0)+(k?1:0)+(e?.length?1:0),className:"dataviews-view-table__group-header-cell",children:(0,c.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,c.__)("%1$s: %2$s"),L.label,t)})}),l.map(((t,l)=>(0,i.jsx)(Ue,{item:t,level:b.showLevels&&"function"==typeof a?a(t):void 0,hasBulkActions:k,actions:e,fields:n,id:r(t)||l.toString(),view:b,titleField:P,mediaField:A,descriptionField:T,selection:f,getItemId:r,onChangeSelection:d,onClickItem:p,renderItemLink:g,isItemClickable:h,isActionsColumnSticky:!N},r(t))))]},`group-${t}`))):(0,i.jsx)("tbody",{children:O&&t.map(((t,l)=>(0,i.jsx)(Ue,{item:t,level:b.showLevels&&"function"==typeof a?a(t):void 0,hasBulkActions:k,actions:e,fields:n,id:r(t)||l.toString(),view:b,titleField:P,mediaField:A,descriptionField:T,selection:f,getItemId:r,onChangeSelection:d,onClickItem:p,renderItemLink:g,isItemClickable:h,isActionsColumnSticky:!N,posinset:U?l+1:void 0},r(t))))})]}),(0,i.jsxs)("div",{className:ne({"dataviews-loading":o,"dataviews-no-results":!O&&!o}),id:E,children:[!O&&(o?(0,i.jsx)("p",{children:(0,i.jsx)(l.Spinner,{})}):w),O&&o&&(0,i.jsx)("p",{className:"dataviews-loading-more",children:(0,i.jsx)(l.Spinner,{})})]})]})},icon:X,viewConfigOptions:ct},{type:G,label:(0,c.__)("Grid"),component:function({actions:e,data:t,fields:n,getItemId:r,isLoading:a,onChangeSelection:o,onClickItem:u,isItemClickable:d,renderItemLink:f,selection:m,view:v,className:p,empty:h}){const{resizeObserverRef:g}=(0,s.useContext)(Z),b=n.find((e=>e.id===v?.titleField)),x=n.find((e=>e.id===v?.mediaField)),w=n.find((e=>e.id===v?.descriptionField)),y=v.fields??[],{regularFields:_,badgeFields:j}=y.reduce(((e,t)=>{const i=n.find((e=>e.id===t));return i?(e[v.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(i),e):e}),{regularFields:[],badgeFields:[]}),C=!!t?.length,S=_e(e,t),k=v.layout?.previewSize,I="900px",V=v.groupByField?n.find((e=>e.id===v.groupByField)):null,E=V?Be(t,V):null,N=v.infiniteScrollEnabled&&!E;return(0,i.jsxs)(i.Fragment,{children:[C&&V&&E&&(0,i.jsx)(l.__experimentalVStack,{spacing:4,children:Array.from(E.entries()).map((([t,n])=>(0,i.jsxs)(l.__experimentalVStack,{spacing:2,children:[(0,i.jsx)("h3",{className:"dataviews-view-grid__group-header",children:(0,c.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,c.__)("%1$s: %2$s"),V.label,t)}),(0,i.jsx)(Ke,{className:ne("dataviews-view-grid",p),previewSize:k,"aria-busy":a,ref:g,children:n.map((t=>(0,i.jsx)(Ye,{view:v,selection:m,onChangeSelection:o,onClickItem:u,isItemClickable:d,renderItemLink:f,getItemId:r,item:t,actions:e,mediaField:x,titleField:b,descriptionField:w,regularFields:_,badgeFields:j,hasBulkActions:S,config:{sizes:I}},r(t))))})]},t)))}),C&&!E&&(0,i.jsx)(Ke,{className:ne("dataviews-view-grid",p),previewSize:k,"aria-busy":a,ref:g,role:N?"feed":void 0,children:t.map(((t,n)=>(0,i.jsx)(Ye,{view:v,selection:m,onChangeSelection:o,onClickItem:u,isItemClickable:d,renderItemLink:f,getItemId:r,item:t,actions:e,mediaField:x,titleField:b,descriptionField:w,regularFields:_,badgeFields:j,hasBulkActions:S,config:{sizes:I},posinset:N?n+1:void 0},r(t))))}),!C&&(0,i.jsx)("div",{className:ne({"dataviews-loading":a,"dataviews-no-results":!a}),children:a?(0,i.jsx)("p",{children:(0,i.jsx)(l.Spinner,{})}):h}),C&&a&&(0,i.jsx)("p",{className:"dataviews-loading-more",children:(0,i.jsx)(l.Spinner,{})})]})},icon:Q,viewConfigOptions:ut},{type:"list",label:(0,c.__)("List"),component:function e(t){const{actions:n,data:r,fields:a,getItemId:o,isLoading:u,onChangeSelection:d,selection:f,view:v,className:p,empty:h}=t,g=(0,m.useInstanceId)(e,"view-list"),b=r?.findLast((e=>f.includes(o(e)))),x=a.find((e=>e.id===v.titleField)),w=a.find((e=>e.id===v.mediaField)),y=a.find((e=>e.id===v.descriptionField)),_=(v?.fields??[]).map((e=>a.find((t=>e===t.id)))).filter(tt),j=e=>d([o(e)]),C=(0,s.useCallback)((e=>`${g}-${o(e)}`),[g,o]),S=(0,s.useCallback)(((e,t)=>t.startsWith(C(e))),[C]),[k,I]=(0,s.useState)(void 0);(0,s.useEffect)((()=>{b&&I(Xe(C(b)))}),[b,C]);const V=r.findIndex((e=>S(e,k??""))),E=(0,m.usePrevious)(V),N=-1!==V,F=(0,s.useCallback)(((e,t)=>{const n=Math.min(r.length-1,Math.max(0,e));if(!r[n])return;const i=t(C(r[n]));I(i),document.getElementById(i)?.focus()}),[r,C]);(0,s.useEffect)((()=>{!N&&void 0!==E&&-1!==E&&F(E,Xe)}),[N,F,E]);const M=(0,s.useCallback)((e=>{"ArrowDown"===e.key&&(e.preventDefault(),F(V+1,Qe)),"ArrowUp"===e.key&&(e.preventDefault(),F(V-1,Qe))}),[F,V]),O=r?.length;if(!O)return(0,i.jsx)("div",{className:ne({"dataviews-loading":u,"dataviews-no-results":!O&&!u}),children:!O&&(u?(0,i.jsx)("p",{children:(0,i.jsx)(l.Spinner,{})}):h)});const P=v.groupByField?a.find((e=>e.id===v.groupByField)):null,A=P?Be(r,P):null;return O&&P&&A?(0,i.jsx)(l.Composite,{id:`${g}`,render:(0,i.jsx)("div",{}),className:"dataviews-view-list__group",role:"grid",activeId:k,setActiveId:I,children:(0,i.jsx)(l.__experimentalVStack,{spacing:4,className:ne("dataviews-view-list",p),children:Array.from(A.entries()).map((([e,t])=>(0,i.jsxs)(l.__experimentalVStack,{spacing:2,children:[(0,i.jsx)("h3",{className:"dataviews-view-list__group-header",children:(0,c.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,c.__)("%1$s: %2$s"),P.label,e)}),t.map((e=>{const t=C(e);return(0,i.jsx)(et,{view:v,idPrefix:t,actions:n,item:e,isSelected:e===b,onSelect:j,mediaField:w,titleField:x,descriptionField:y,otherFields:_,onDropdownTriggerKeyDown:M},t)}))]},e)))})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Composite,{id:g,render:(0,i.jsx)("div",{}),className:ne("dataviews-view-list",p),role:v.infiniteScrollEnabled?"feed":"grid",activeId:k,setActiveId:I,children:r.map(((e,t)=>{const r=C(e);return(0,i.jsx)(et,{view:v,idPrefix:r,actions:n,item:e,isSelected:e===b,onSelect:j,mediaField:w,titleField:x,descriptionField:y,otherFields:_,onDropdownTriggerKeyDown:M,posinset:v.infiniteScrollEnabled?t+1:void 0},r)}))}),O&&u&&(0,i.jsx)("p",{className:"dataviews-loading-more",children:(0,i.jsx)(l.Spinner,{})})]})},icon:(0,c.isRTL)()?J:ee},{type:"pickerGrid",label:(0,c.__)("Grid"),component:function({actions:e,data:t,fields:n,getItemId:r,isLoading:a,onChangeSelection:o,selection:u,view:c,className:d,empty:f}){const{resizeObserverRef:m,paginationInfo:v,itemListLabel:p}=(0,s.useContext)(Z),h=n.find((e=>e.id===c?.titleField)),g=n.find((e=>e.id===c?.mediaField)),b=n.find((e=>e.id===c?.descriptionField)),x=c.fields??[],{regularFields:w,badgeFields:y}=x.reduce(((e,t)=>{const i=n.find((e=>e.id===t));return i?(e[c.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(i),e):e}),{regularFields:[],badgeFields:[]}),_=!!t?.length,j=c.layout?.previewSize,C=nt(e),S="900px",k=c.groupByField?n.find((e=>e.id===c.groupByField)):null,I=k?Be(t,k):null,V=c.infiniteScrollEnabled&&!I,E=c?.page??1,N=c?.perPage??0,F=V?v?.totalItems:void 0;return(0,i.jsxs)(i.Fragment,{children:[_&&k&&I&&(0,i.jsx)(l.Composite,{virtualFocus:!0,orientation:"horizontal",role:"listbox","aria-multiselectable":C,className:ne("dataviews-view-picker-grid",d),"aria-label":p,render:({children:e,...t})=>(0,i.jsx)(l.__experimentalVStack,{spacing:4,children:e,...t}),children:Array.from(I.entries()).map((([e,n])=>(0,i.jsx)(at,{groupName:e,groupField:k,children:(0,i.jsx)(Ke,{previewSize:j,style:{gridTemplateColumns:j&&`repeat(auto-fill, minmax(${j}px, 1fr))`},"aria-busy":a,ref:m,children:n.map((e=>{const n=(E-1)*N+t.indexOf(e)+1;return(0,i.jsx)(rt,{view:c,multiselect:C,selection:u,onChangeSelection:o,getItemId:r,item:e,mediaField:g,titleField:h,descriptionField:b,regularFields:w,badgeFields:y,config:{sizes:S},posinset:n,setsize:F},r(e))}))})},e)))}),_&&!I&&(0,i.jsx)(l.Composite,{render:(0,i.jsx)(Ke,{className:ne("dataviews-view-picker-grid",d),previewSize:j,"aria-busy":a,ref:m}),virtualFocus:!0,orientation:"horizontal",role:"listbox","aria-multiselectable":C,"aria-label":p,children:t.map(((e,t)=>{let n=V?t+1:void 0;return V||(n=(E-1)*N+t+1),(0,i.jsx)(rt,{view:c,multiselect:C,selection:u,onChangeSelection:o,getItemId:r,item:e,mediaField:g,titleField:h,descriptionField:b,regularFields:w,badgeFields:y,config:{sizes:S},posinset:n,setsize:F},r(e))}))}),!_&&(0,i.jsx)("div",{className:ne({"dataviews-loading":a,"dataviews-no-results":!a}),children:a?(0,i.jsx)("p",{children:(0,i.jsx)(l.Spinner,{})}):f}),_&&a&&(0,i.jsx)("p",{className:"dataviews-loading-more",children:(0,i.jsx)(l.Spinner,{})})]})},icon:Q,viewConfigOptions:ut,isPicker:!0},{type:"pickerTable",label:(0,c.__)("Table"),component:function({actions:e,data:t,fields:n,getItemId:r,isLoading:a=!1,onChangeView:o,onChangeSelection:u,selection:d,setOpenedFilter:f,view:m,className:v,empty:p}){const h=(0,s.useRef)(new Map),g=(0,s.useRef)(),[b,x]=(0,s.useState)(),w=nt(e)??!1;(0,s.useEffect)((()=>{g.current&&(g.current.focus(),g.current=void 0)}));const y=(0,s.useId)();if(b)return g.current=b,void x(void 0);const _=e=>{const t=h.current.get(e.id),n=t?h.current.get(t.fallback):void 0;x(n?.node)},j=!!t?.length,C=n.find((e=>e.id===m.titleField)),S=n.find((e=>e.id===m.mediaField)),k=n.find((e=>e.id===m.descriptionField)),I=m.groupByField?n.find((e=>e.id===m.groupByField)):null,V=I?Be(t,I):null,{showTitle:E=!0,showMedia:N=!0,showDescription:F=!0}=m,M=C&&E||S&&N||k&&F,O=m.fields??[],P=(e,t)=>n=>{n?h.current.set(e,{node:n,fallback:O[t>0?t-1:1]}):h.current.delete(e)},A=m.infiniteScrollEnabled&&!V;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("table",{className:ne("dataviews-view-table","dataviews-view-picker-table",v,{[`has-${m.layout?.density}-density`]:m.layout?.density&&["compact","comfortable"].includes(m.layout.density)}),"aria-busy":a,"aria-describedby":y,role:A?"feed":"listbox",children:[(0,i.jsx)("thead",{role:"presentation",children:(0,i.jsxs)("tr",{className:"dataviews-view-table__row",role:"presentation",children:[(0,i.jsx)("th",{className:"dataviews-view-table__checkbox-column",children:w&&(0,i.jsx)(je,{selection:d,onChangeSelection:u,data:t,actions:e,getItemId:r})}),M&&(0,i.jsx)("th",{children:C&&(0,i.jsx)(Le,{ref:P(C.id,0),fieldId:C.id,view:m,fields:n,onChangeView:o,onHide:_,setOpenedFilter:f,canMove:!1})}),O.map(((e,t)=>{const{width:r,maxWidth:a,minWidth:l,align:s}=m.layout?.styles?.[e]??{};return(0,i.jsx)("th",{style:{width:r,maxWidth:a,minWidth:l,textAlign:s},"aria-sort":m.sort?.direction&&m.sort?.field===e?W[m.sort.direction]:void 0,scope:"col",children:(0,i.jsx)(Le,{ref:P(e,t),fieldId:e,view:m,fields:n,onChangeView:o,onHide:_,setOpenedFilter:f,canMove:m.layout?.enableMoving??!0})},e)}))]})}),j&&I&&V?Array.from(V.entries()).map((([e,t])=>(0,i.jsxs)(l.Composite,{virtualFocus:!0,orientation:"vertical",render:(0,i.jsx)("tbody",{role:"group"}),children:[(0,i.jsx)("tr",{className:"dataviews-view-table__group-header-row",role:"presentation",children:(0,i.jsx)("td",{colSpan:O.length+(M?1:0)+1,className:"dataviews-view-table__group-header-cell",role:"presentation",children:(0,c.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,c.__)("%1$s: %2$s"),I.label,e)})}),t.map(((e,t)=>(0,i.jsx)(st,{item:e,fields:n,id:r(e)||t.toString(),view:m,titleField:C,mediaField:S,descriptionField:k,selection:d,getItemId:r,onChangeSelection:u,multiselect:w},r(e))))]},`group-${e}`))):(0,i.jsx)(l.Composite,{render:(0,i.jsx)("tbody",{role:"presentation"}),virtualFocus:!0,orientation:"vertical",children:j&&t.map(((e,t)=>(0,i.jsx)(st,{item:e,fields:n,id:r(e)||t.toString(),view:m,titleField:C,mediaField:S,descriptionField:k,selection:d,getItemId:r,onChangeSelection:u,multiselect:w,posinset:t+1},r(e))))})]}),(0,i.jsxs)("div",{className:ne({"dataviews-loading":a,"dataviews-no-results":!j&&!a}),id:y,children:[!j&&(a?(0,i.jsx)("p",{children:(0,i.jsx)(l.Spinner,{})}):p),j&&a&&(0,i.jsx)("p",{className:"dataviews-loading-more",children:(0,i.jsx)(l.Spinner,{})})]})]})},icon:X,viewConfigOptions:ct,isPicker:!0}],{Menu:ft}=ue(l.privateApis);function mt({filters:e,view:t,onChangeView:n,setOpenedFilter:r,triggerProps:a}){const l=e.filter((e=>!e.isVisible));return(0,i.jsxs)(ft,{children:[(0,i.jsx)(ft.TriggerButton,{...a}),(0,i.jsx)(ft.Popover,{children:l.map((e=>(0,i.jsx)(ft.Item,{onClick:()=>{r(e.field),n({...t,page:1,filters:[...t.filters||[],{field:e.field,value:void 0,operator:e.operators[0]}]})},children:(0,i.jsx)(ft.ItemLabel,{children:e.name})},e.field)))})]})}var vt=(0,s.forwardRef)((function({filters:e,view:t,onChangeView:n,setOpenedFilter:r},a){if(!e.length||e.every((({isPrimary:e})=>e)))return null;const s=e.filter((e=>!e.isVisible));return(0,i.jsx)(mt,{triggerProps:{render:(0,i.jsx)(l.Button,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!s.length,ref:a}),children:(0,c.__)("Add filter")},filters:e,view:t,onChangeView:n,setOpenedFilter:r})}));function pt({buttonRef:e,filtersCount:t,children:n}){return(0,s.useEffect)((()=>()=>{e.current?.focus()}),[e]),(0,i.jsxs)(i.Fragment,{children:[n,!!t&&(0,i.jsx)("span",{className:"dataviews-filters-toggle__count",children:t})]})}var ht=function(){const{filters:e,view:t,onChangeView:n,setOpenedFilter:r,isShowingFilter:a,setIsShowingFilter:o}=(0,s.useContext)(Z),u=(0,s.useRef)(null),d=(0,s.useCallback)((e=>{n(e),o(!0)}),[n,o]),f=!!e.filter((e=>e.isVisible)).length;if(0===e.length)return null;const m={label:(0,c.__)("Add filter"),"aria-expanded":!1,isPressed:!1},v={label:(0,c._x)("Filter","verb"),"aria-expanded":a,isPressed:a,onClick:()=>{a||r(null),o(!a)}},p=(0,i.jsx)(l.Button,{ref:u,className:"dataviews-filters__visibility-toggle",size:"compact",icon:Ne,...f?v:m});return(0,i.jsx)("div",{className:"dataviews-filters__container-visibility-toggle",children:f?(0,i.jsx)(pt,{buttonRef:u,filtersCount:t.filters?.length,children:p}):(0,i.jsx)(mt,{filters:e,view:t,onChangeView:d,setOpenedFilter:r,triggerProps:{render:p}})})},gt=Object.defineProperty,bt=Object.defineProperties,xt=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,_t=Object.prototype.propertyIsEnumerable,jt=(e,t,n)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ct=(e,t)=>{for(var n in t||(t={}))yt.call(t,n)&&jt(e,n,t[n]);if(wt)for(var n of wt(t))_t.call(t,n)&&jt(e,n,t[n]);return e},St=(e,t)=>bt(e,xt(t)),kt=(e,t)=>{var n={};for(var i in e)yt.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&wt)for(var i of wt(e))t.indexOf(i)<0&&_t.call(e,i)&&(n[i]=e[i]);return n},It=Object.defineProperty,Vt=Object.defineProperties,Et=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertySymbols,Ft=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,Ot=(e,t,n)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pt=(e,t)=>{for(var n in t||(t={}))Ft.call(t,n)&&Ot(e,n,t[n]);if(Nt)for(var n of Nt(t))Mt.call(t,n)&&Ot(e,n,t[n]);return e},At=(e,t)=>Vt(e,Et(t)),Tt=(e,t)=>{var n={};for(var i in e)Ft.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Nt)for(var i of Nt(e))t.indexOf(i)<0&&Mt.call(e,i)&&(n[i]=e[i]);return n};function Lt(...e){}function zt(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function Dt(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function Bt(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Ht(e){return e}function qt(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function Rt(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function Wt(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function $t(...e){for(const t of e)if(void 0!==t)return t}var Ut=n(609),Kt=n.t(Ut,2);function Gt(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var Yt,Zt="undefined"!=typeof window&&!!(null==(Yt=window.document)?void 0:Yt.createElement);function Xt(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function Qt(e,t=!1){const{activeElement:n}=Xt(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return Qt(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=Xt(n).getElementById(e);if(t)return t}}return n}function Jt(e,t){return e===t||e.contains(t)}function en(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==tn.indexOf(e.type)}var tn=["button","color","file","image","reset","submit"];function nn(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function rn(e){return e.isContentEditable||nn(e)}function an(e){let t=0,n=0;if(nn(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const i=Xt(e).getSelection();if((null==i?void 0:i.rangeCount)&&i.anchorNode&&Jt(e,i.anchorNode)&&i.focusNode&&Jt(e,i.focusNode)){const r=i.getRangeAt(0),a=r.cloneRange();a.selectNodeContents(e),a.setEnd(r.startContainer,r.startOffset),t=a.toString().length,a.setEnd(r.endContainer,r.endOffset),n=a.toString().length}}return{start:t,end:n}}function ln(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function sn(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return sn(e.parentElement)||document.scrollingElement||document.body}function on(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function un(){return!!Zt&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function cn(){return Zt&&un()&&/apple/i.test(navigator.vendor)}function dn(e){return Boolean(e.currentTarget&&!Jt(e.currentTarget,e.target))}function fn(e){return e.target===e.currentTarget}function mn(e,t){const n=new FocusEvent("blur",t),i=e.dispatchEvent(n),r=At(Pt({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",r)),i}function vn(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function pn(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Jt(n,i)}function hn(e,t,n,i){const r=(e=>{if(i){const t=setTimeout(e,i);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})((()=>{e.removeEventListener(t,a,!0),n()})),a=()=>{r(),n()};return e.addEventListener(t,a,{once:!0,capture:!0}),r}function gn(e,t,n,i=window){const r=[];try{i.document.addEventListener(e,t,n);for(const a of Array.from(i.frames))r.push(gn(e,t,n,a))}catch(e){}return()=>{try{i.document.removeEventListener(e,t,n)}catch(e){}for(const e of r)e()}}var bn=Ct({},Kt),xn=bn.useId,wn=(bn.useDeferredValue,bn.useInsertionEffect),yn=Zt?Ut.useLayoutEffect:Ut.useEffect;function jn(e){const t=(0,Ut.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return wn?wn((()=>{t.current=e})):t.current=e,(0,Ut.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function Cn(...e){return(0,Ut.useMemo)((()=>{if(e.some(Boolean))return t=>{for(const n of e)Gt(n,t)}}),e)}function Sn(e){if(xn){const t=xn();return e||t}const[t,n]=(0,Ut.useState)(e);return yn((()=>{if(e||t)return;const i=Math.random().toString(36).slice(2,8);n(`id-${i}`)}),[e,t]),e||t}function kn(e,t){const n=(0,Ut.useRef)(!1);(0,Ut.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,Ut.useEffect)((()=>()=>{n.current=!1}),[])}function In(e){return jn("function"==typeof e?e:()=>e)}function Vn(e,t,n=[]){const i=(0,Ut.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return St(Ct({},e),{wrapElement:i})}var En=!1,Nn=!1,Fn=0,Mn=0;function On(e){(function(e){const t=e.movementX||e.screenX-Fn,n=e.movementY||e.screenY-Mn;return Fn=e.screenX,Mn=e.screenY,t||n||!1})(e)&&(Nn=!0)}function Pn(){Nn=!1}function An(e){const t=Ut.forwardRef(((t,n)=>e(St(Ct({},t),{ref:n}))));return t.displayName=e.displayName||e.name,t}function Tn(e,t){return Ut.memo(e,t)}function Ln(e,t){const n=t,{wrapElement:r,render:a}=n,l=kt(n,["wrapElement","render"]),s=Cn(t.ref,function(e){return function(e){return!!e&&!!(0,Ut.isValidElement)(e)&&("ref"in e.props||"ref"in e)}(e)?Ct({},e.props).ref||e.ref:null}(a));let o;if(Ut.isValidElement(a)){const e=St(Ct({},a.props),{ref:s});o=Ut.cloneElement(a,function(e,t){const n=Ct({},e);for(const i in t){if(!zt(t,i))continue;if("className"===i){const i="className";n[i]=e[i]?`${e[i]} ${t[i]}`:t[i];continue}if("style"===i){const i="style";n[i]=e[i]?Ct(Ct({},e[i]),t[i]):t[i];continue}const r=t[i];if("function"==typeof r&&i.startsWith("on")){const t=e[i];if("function"==typeof t){n[i]=(...e)=>{r(...e),t(...e)};continue}}n[i]=r}return n}(l,e))}else o=a?a(l):(0,i.jsx)(e,Ct({},l));return r?r(o):o}function zn(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function Dn(e=[],t=[]){const n=Ut.createContext(void 0),r=Ut.createContext(void 0),a=()=>Ut.useContext(n),l=t=>e.reduceRight(((e,n)=>(0,i.jsx)(n,St(Ct({},t),{children:e}))),(0,i.jsx)(n.Provider,Ct({},t)));return{context:n,scopedContext:r,useContext:a,useScopedContext:(e=!1)=>{const t=Ut.useContext(r),n=a();return e?t:t||n},useProviderContext:()=>{const e=Ut.useContext(r),t=a();if(!e||e!==t)return t},ContextProvider:l,ScopedContextProvider:e=>(0,i.jsx)(l,St(Ct({},e),{children:t.reduceRight(((t,n)=>(0,i.jsx)(n,St(Ct({},e),{children:t}))),(0,i.jsx)(r.Provider,Ct({},e)))}))}}var Bn=Dn(),Hn=Bn.useContext,qn=(Bn.useScopedContext,Bn.useProviderContext,Dn([Bn.ContextProvider],[Bn.ScopedContextProvider])),Rn=qn.useContext,Wn=(qn.useScopedContext,qn.useProviderContext),$n=qn.ContextProvider,Un=qn.ScopedContextProvider,Kn=(0,Ut.createContext)(void 0),Gn=(0,Ut.createContext)(void 0),Yn=((0,Ut.createContext)(null),(0,Ut.createContext)(null),Dn([$n],[Un])),Zn=Yn.useContext;function Xn(e,t){const n=e.__unstableInternals;return qt(n,"Invalid store"),n[t]}function Qn(e,...t){let n=e,i=n,r=Symbol(),a=Lt;const l=new Set,s=new Set,o=new Set,u=new Set,c=new Set,d=new WeakMap,f=new WeakMap,m=(e,t,n=u)=>(n.add(t),f.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),f.delete(t),n.delete(t)}),v=(e,a,l=!1)=>{var o;if(!zt(n,e))return;const m=(v=a,p=n[e],function(e){return"function"==typeof e}(v)?v(function(e){return"function"==typeof e}(p)?p():p):v);var v,p;if(m===n[e])return;if(!l)for(const n of t)null==(o=null==n?void 0:n.setState)||o.call(n,e,m);const h=n;n=At(Pt({},n),{[e]:m});const g=Symbol();r=g,s.add(e);const b=(t,i,r)=>{var a;const l=f.get(t);l&&!l.some((t=>r?r.has(t):t===e))||(null==(a=d.get(t))||a(),d.set(t,t(n,i)))};for(const e of u)b(e,h);queueMicrotask((()=>{if(r!==g)return;const e=n;for(const e of c)b(e,i,s);i=e,s.clear()}))},p={getState:()=>n,setState:v,__unstableInternals:{setup:e=>(o.add(e),()=>o.delete(e)),init:()=>{const e=l.size,i=Symbol();l.add(i);const r=()=>{l.delete(i),l.size||a()};if(e)return r;const s=(u=n,Object.keys(u)).map((e=>Dt(...t.map((t=>{var n;const i=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(i&&zt(i,e))return ni(t,[e],(t=>{v(e,t[e],!0)}))})))));var u;const c=[];for(const e of o)c.push(e());const d=t.map(ei);return a=Dt(...s,...c,...d),r},subscribe:(e,t)=>m(e,t),sync:(e,t)=>(d.set(t,t(n,n)),m(e,t)),batch:(e,t)=>(d.set(t,t(n,i)),m(e,t,c)),pick:e=>Qn(function(e,t){const n={};for(const i of t)zt(e,i)&&(n[i]=e[i]);return n}(n,e),p),omit:e=>Qn(function(e,t){const n=Pt({},e);for(const e of t)zt(n,e)&&delete n[e];return n}(n,e),p)}};return p}function Jn(e,...t){if(e)return Xn(e,"setup")(...t)}function ei(e,...t){if(e)return Xn(e,"init")(...t)}function ti(e,...t){if(e)return Xn(e,"subscribe")(...t)}function ni(e,...t){if(e)return Xn(e,"sync")(...t)}function ii(e,...t){if(e)return Xn(e,"batch")(...t)}function ri(e,...t){if(e)return Xn(e,"omit")(...t)}function ai(...e){var t;const n={};for(const i of e){const e=null==(t=null==i?void 0:i.getState)?void 0:t.call(i);e&&Object.assign(n,e)}const i=Qn(n,...e);return Object.assign({},...e,i)}Yn.useScopedContext,Yn.useProviderContext,Yn.ContextProvider,Yn.ScopedContextProvider;var li=n(888),{useSyncExternalStore:si}=li;function oi(e,t=Ht){const n=Ut.useCallback((t=>e?ti(e,null,t):()=>{}),[e]),i=()=>{const n="string"==typeof t?t:null,i="function"==typeof t?t:null,r=null==e?void 0:e.getState();return i?i(r):r&&n&&zt(r,n)?r[n]:void 0};return si(n,i,i)}function ui(e,t){const n=Ut.useRef({}),i=Ut.useCallback((t=>e?ti(e,null,t):()=>{}),[e]),r=()=>{const i=null==e?void 0:e.getState();let r=!1;const a=n.current;for(const e in t){const n=t[e];if("function"==typeof n){const t=n(i);t!==a[e]&&(a[e]=t,r=!0)}if("string"==typeof n){if(!i)continue;if(!zt(i,n))continue;const t=i[n];t!==a[e]&&(a[e]=t,r=!0)}}return r&&(n.current=Ct({},a)),n.current};return si(i,r,r)}function ci(e,t,n,i){const r=zt(t,n)?t[n]:void 0,a=i?t[i]:void 0,l=function(e){const t=(0,Ut.useRef)(e);return yn((()=>{t.current=e})),t}({value:r,setValue:a});yn((()=>ni(e,[n],((e,t)=>{const{value:i,setValue:r}=l.current;r&&e[n]!==t[n]&&e[n]!==i&&r(e[n])}))),[e,n]),yn((()=>{if(void 0!==r)return e.setState(n,r),ii(e,[n],(()=>{void 0!==r&&e.setState(n,r)}))}))}function di(e,t,n){return function(e,t,n){return kn(t,[n.store,n.disclosure]),ci(e,n,"open","setOpen"),ci(e,n,"mounted","setMounted"),ci(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(e,t,n)}function fi(e,t,n){return ci(e=function(e,t,n){return kn(t,[n.store]),ci(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),ci(e,n,"includesBaseElement"),ci(e,n,"virtualFocus"),ci(e,n,"orientation"),ci(e,n,"rtl"),ci(e,n,"focusLoop"),ci(e,n,"focusWrap"),ci(e,n,"focusShift"),e}function mi(e){const t=[];for(const n of e)t.push(...n);return t}function vi(e){return e.slice().reverse()}function pi(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),i=$t(e.items,null==n?void 0:n.items,e.defaultItems,[]),r=new Map(i.map((e=>[e.id,e]))),a={items:i,renderedItems:$t(null==n?void 0:n.renderedItems,[])},l=null==(s=e.store)?void 0:s.__unstablePrivateStore;var s;const o=Qn({items:i,renderedItems:a.renderedItems},l),u=Qn(a,e.store),c=e=>{const t=function(e,t){const n=e.map(((e,t)=>[t,e]));let i=!1;return n.sort((([e,n],[r,a])=>{const l=t(n),s=t(a);return l===s?0:l&&s?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(l,s)?(e>r&&(i=!0),-1):(e<r&&(i=!0),1):0})),i?n.map((([e,t])=>t)):e}(e,(e=>e.element));o.setState("renderedItems",t),u.setState("renderedItems",t)};Jn(u,(()=>ei(o))),Jn(o,(()=>ii(o,["items"],(e=>{u.setState("items",e.items)})))),Jn(o,(()=>ii(o,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=u.getState();e.renderedItems!==t&&c(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const i=function(e){var t;const n=e.find((e=>!!e.element)),i=[...e].reverse().find((e=>!!e.element));let r=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;r&&(null==i?void 0:i.element);){if(i&&r.contains(i.element))return r;r=r.parentElement}return Xt(r).body}(e.renderedItems),r=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>c(e.renderedItems))))}),{root:i});for(const t of e.renderedItems)t.element&&r.observe(t.element);return()=>{cancelAnimationFrame(n),r.disconnect()}}))));const d=(e,t,n=!1)=>{let i;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),a=t.slice();if(-1!==n){i=t[n];const l=Pt(Pt({},i),e);a[n]=l,r.set(e.id,l)}else a.push(e),r.set(e.id,e);return a})),()=>{t((t=>{if(!i)return n&&r.delete(e.id),t.filter((({id:t})=>t!==e.id));const a=t.findIndex((({id:t})=>t===e.id));if(-1===a)return t;const l=t.slice();return l[a]=i,r.set(e.id,i),l}))}},f=e=>d(e,(e=>o.setState("items",e)),!0);return At(Pt({},u),{registerItem:f,renderItem:e=>Dt(f(e),d(e,(e=>o.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=r.get(e);if(!t){const{items:n}=o.getState();t=n.find((t=>t.id===e)),t&&r.set(e,t)}return t||null},__unstablePrivateStore:o})}var hi={id:null};function gi(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function bi(e,t){return e.filter((e=>e.rowId===t))}function xi(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function wi(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}var yi=cn()&&Zt&&!!navigator.maxTouchPoints;function _i(e={}){var t=e,{tag:n}=t,i=Tt(t,["tag"]);const r=ai(i.store,function(e,...t){if(e)return Xn(e,"pick")(...t)}(n,["value","rtl"])),a=null==n?void 0:n.getState(),l=null==r?void 0:r.getState(),s=$t(i.activeId,null==l?void 0:l.activeId,i.defaultActiveId,null),o=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),i=pi(e),r=$t(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),a=Qn(At(Pt({},i.getState()),{id:$t(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:r,baseElement:$t(null==n?void 0:n.baseElement,null),includesBaseElement:$t(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===r),moves:$t(null==n?void 0:n.moves,0),orientation:$t(e.orientation,null==n?void 0:n.orientation,"both"),rtl:$t(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:$t(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:$t(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:$t(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:$t(e.focusShift,null==n?void 0:n.focusShift,!1)}),i,e.store);Jn(a,(()=>ni(a,["renderedItems","activeId"],(e=>{a.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=gi(e.renderedItems))?void 0:n.id}))}))));const l=(e="next",t={})=>{var n,i;const r=a.getState(),{skip:l=0,activeId:s=r.activeId,focusShift:o=r.focusShift,focusLoop:u=r.focusLoop,focusWrap:c=r.focusWrap,includesBaseElement:d=r.includesBaseElement,renderedItems:f=r.renderedItems,rtl:m=r.rtl}=t,v="up"===e||"down"===e,p="next"===e||"down"===e,h=p?m&&!v:!m||v,g=o&&!l;let b=v?mi(function(e,t,n){const i=wi(e);for(const r of e)for(let e=0;e<i;e+=1){const i=r[e];if(!i||n&&i.disabled){const i=0===e&&n?gi(r):r[e-1];r[e]=i&&t!==i.id&&n?i:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==i?void 0:i.rowId}}}return e}(xi(f),s,g)):f;if(b=h?vi(b):b,b=v?function(e){const t=xi(e),n=wi(t),i=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&i.push(At(Pt({},t),{rowId:t.rowId?`${e}`:void 0}))}return i}(b):b,null==s)return null==(n=gi(b))?void 0:n.id;const x=b.find((e=>e.id===s));if(!x)return null==(i=gi(b))?void 0:i.id;const w=b.some((e=>e.rowId)),y=b.indexOf(x),_=b.slice(y+1),j=bi(_,x.rowId);if(l){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(j,s),t=e.slice(l)[0]||e[e.length-1];return null==t?void 0:t.id}const C=u&&(v?"horizontal"!==u:"vertical"!==u),S=w&&c&&(v?"horizontal"!==c:"vertical"!==c),k=p?(!w||v)&&C&&d:!!v&&d;if(C){const e=function(e,t,n=!1){const i=e.findIndex((e=>e.id===t));return[...e.slice(i+1),...n?[hi]:[],...e.slice(0,i)]}(S&&!k?b:bi(b,x.rowId),s,k),t=gi(e,s);return null==t?void 0:t.id}if(S){const e=gi(k?j:_,s);return k?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const I=gi(j,s);return!I&&k?null:null==I?void 0:I.id};return At(Pt(Pt({},i),a),{setBaseElement:e=>a.setState("baseElement",e),setActiveId:e=>a.setState("activeId",e),move:e=>{void 0!==e&&(a.setState("activeId",e),a.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=gi(a.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=gi(vi(a.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("up",e))})}(At(Pt({},i),{activeId:s,includesBaseElement:$t(i.includesBaseElement,null==l?void 0:l.includesBaseElement,!0),orientation:$t(i.orientation,null==l?void 0:l.orientation,"vertical"),focusLoop:$t(i.focusLoop,null==l?void 0:l.focusLoop,!0),focusWrap:$t(i.focusWrap,null==l?void 0:l.focusWrap,!0),virtualFocus:$t(i.virtualFocus,null==l?void 0:l.virtualFocus,!0)})),u=function(e={}){var t=e,{popover:n}=t,i=Tt(t,["popover"]);const r=ai(i.store,ri(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),a=null==r?void 0:r.getState(),l=function(e={}){return function(e={}){const t=ai(e.store,ri(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),i=$t(e.open,null==n?void 0:n.open,e.defaultOpen,!1),r=$t(e.animated,null==n?void 0:n.animated,!1),a=Qn({open:i,animated:r,animating:!!r&&i,mounted:i,contentElement:$t(null==n?void 0:n.contentElement,null),disclosureElement:$t(null==n?void 0:n.disclosureElement,null)},t);return Jn(a,(()=>ni(a,["animated","animating"],(e=>{e.animated||a.setState("animating",!1)})))),Jn(a,(()=>ti(a,["open"],(()=>{a.getState().animated&&a.setState("animating",!0)})))),Jn(a,(()=>ni(a,["open","animating"],(e=>{a.setState("mounted",e.open||e.animating)})))),At(Pt({},a),{disclosure:e.disclosure,setOpen:e=>a.setState("open",e),show:()=>a.setState("open",!0),hide:()=>a.setState("open",!1),toggle:()=>a.setState("open",(e=>!e)),stopAnimation:()=>a.setState("animating",!1),setContentElement:e=>a.setState("contentElement",e),setDisclosureElement:e=>a.setState("disclosureElement",e)})}(e)}(At(Pt({},i),{store:r})),s=$t(i.placement,null==a?void 0:a.placement,"bottom"),o=Qn(At(Pt({},l.getState()),{placement:s,currentPlacement:s,anchorElement:$t(null==a?void 0:a.anchorElement,null),popoverElement:$t(null==a?void 0:a.popoverElement,null),arrowElement:$t(null==a?void 0:a.arrowElement,null),rendered:Symbol("rendered")}),l,r);return At(Pt(Pt({},l),o),{setAnchorElement:e=>o.setState("anchorElement",e),setPopoverElement:e=>o.setState("popoverElement",e),setArrowElement:e=>o.setState("arrowElement",e),render:()=>o.setState("rendered",Symbol("rendered"))})}(At(Pt({},i),{placement:$t(i.placement,null==l?void 0:l.placement,"bottom-start")})),c=$t(i.value,null==l?void 0:l.value,i.defaultValue,""),d=$t(i.selectedValue,null==l?void 0:l.selectedValue,null==a?void 0:a.values,i.defaultSelectedValue,""),f=Array.isArray(d),m=At(Pt(Pt({},o.getState()),u.getState()),{value:c,selectedValue:d,resetValueOnSelect:$t(i.resetValueOnSelect,null==l?void 0:l.resetValueOnSelect,f),resetValueOnHide:$t(i.resetValueOnHide,null==l?void 0:l.resetValueOnHide,f&&!n),activeValue:null==l?void 0:l.activeValue}),v=Qn(m,o,u,r);return yi&&Jn(v,(()=>ni(v,["virtualFocus"],(()=>{v.setState("virtualFocus",!1)})))),Jn(v,(()=>{if(n)return Dt(ni(v,["selectedValue"],(e=>{Array.isArray(e.selectedValue)&&n.setValues(e.selectedValue)})),ni(n,["values"],(e=>{v.setState("selectedValue",e.values)})))})),Jn(v,(()=>ni(v,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||v.setState("value",c))})))),Jn(v,(()=>ni(v,["open"],(e=>{e.open||(v.setState("activeId",s),v.setState("moves",0))})))),Jn(v,(()=>ni(v,["moves","activeId"],((e,t)=>{e.moves===t.moves&&v.setState("activeValue",void 0)})))),Jn(v,(()=>ii(v,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=v.getState(),i=o.item(n);v.setState("activeValue",null==i?void 0:i.value)})))),At(Pt(Pt(Pt({},u),o),v),{tag:n,setValue:e=>v.setState("value",e),resetValue:()=>v.setState("value",m.value),setSelectedValue:e=>v.setState("selectedValue",e)})}function ji(e={}){e=function(e){const t=Zn();return function(e){const t=Sn(e.id);return Ct({id:t},e)}(e=St(Ct({},e),{tag:void 0!==e.tag?e.tag:t}))}(e);const[t,n]=function(e,t){const[n,i]=Ut.useState((()=>e(t)));yn((()=>ei(n)),[n]);const r=Ut.useCallback((e=>oi(n,e)),[n]);return[Ut.useMemo((()=>St(Ct({},n),{useState:r})),[n,r]),jn((()=>{i((n=>e(Ct(Ct({},t),n.getState()))))}))]}(_i,e);return function(e,t,n){return kn(t,[n.tag]),ci(e,n,"value","setValue"),ci(e,n,"selectedValue","setSelectedValue"),ci(e,n,"resetValueOnHide"),ci(e,n,"resetValueOnSelect"),Object.assign(fi(function(e,t,n){return kn(t,[n.popover]),ci(e,n,"placement"),di(e,t,n)}(e,t,n),t,n),{tag:n.tag})}(t,n,e)}var Ci=Dn(),Si=(Ci.useContext,Ci.useScopedContext,Ci.useProviderContext),ki=Dn([Ci.ContextProvider],[Ci.ScopedContextProvider]),Ii=(ki.useContext,ki.useScopedContext,ki.useProviderContext,ki.ContextProvider),Vi=ki.ScopedContextProvider,Ei=((0,Ut.createContext)(void 0),(0,Ut.createContext)(void 0),Dn([Ii],[Vi])),Ni=(Ei.useContext,Ei.useScopedContext,Ei.useProviderContext),Fi=Ei.ContextProvider,Mi=Ei.ScopedContextProvider,Oi=(0,Ut.createContext)(void 0),Pi=Dn([Fi,$n],[Mi,Un]),Ai=Pi.useContext,Ti=Pi.useScopedContext,Li=Pi.useProviderContext,zi=Pi.ContextProvider,Di=Pi.ScopedContextProvider,Bi=(0,Ut.createContext)(void 0),Hi=(0,Ut.createContext)(!1);function qi(e={}){const t=ji(e);return(0,i.jsx)(zi,{value:t,children:e.children})}var Ri=zn((function(e){var t=e,{store:n}=t,i=kt(t,["store"]);const r=Li();qt(n=n||r,!1);const a=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return Wt(i=Ct({htmlFor:a},i))})),Wi=Tn(An((function(e){return Ln("label",Ri(e))})));function $i(e,t){return t&&e.item(t)||null}var Ui=Symbol("FOCUS_SILENTLY");function Ki(e,t,n){if(!t)return!1;if(t===n)return!1;const i=e.item(t.id);return!(!i||n&&i.element===n)}var Gi=(0,Ut.createContext)(!0),Yi="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function Zi(e){return!!e.matches(Yi)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function Xi(e){const t=Qt(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function Qi(e){const t=Qt(e);if(!t)return!1;if(Jt(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}var Ji=cn(),er=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],tr=Symbol("safariFocusAncestor");function nr(e,t){e&&(e[tr]=t)}function ir(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function rr(e,t,n,i,r){return e?t?n&&!i?-1:void 0:n?r:r||0:r}function ar(e,t){return jn((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var lr=!1,sr=!0;function or(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(sr=!1))}function ur(e){e.metaKey||e.ctrlKey||e.altKey||(sr=!0)}var cr=zn((function(e){var t=e,{focusable:n=!0,accessibleWhenDisabled:i,autoFocus:r,onFocusVisible:a}=t,l=kt(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const s=(0,Ut.useRef)(null);(0,Ut.useEffect)((()=>{n&&(lr||(gn("mousedown",or,!0),gn("keydown",ur,!0),lr=!0))}),[n]),Ji&&(0,Ut.useEffect)((()=>{if(!n)return;const e=s.current;if(!e)return;if(!ir(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const i=()=>queueMicrotask((()=>e.focus()));for(const e of t)e.addEventListener("mouseup",i);return()=>{for(const e of t)e.removeEventListener("mouseup",i)}}),[n]);const o=n&&Rt(l),u=!!o&&!i,[c,d]=(0,Ut.useState)(!1);(0,Ut.useEffect)((()=>{n&&u&&c&&d(!1)}),[n,u,c]),(0,Ut.useEffect)((()=>{if(!n)return;if(!c)return;const e=s.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{Zi(e)||d(!1)}));return t.observe(e),()=>t.disconnect()}),[n,c]);const f=ar(l.onKeyPressCapture,o),m=ar(l.onMouseDownCapture,o),v=ar(l.onClickCapture,o),p=l.onMouseDown,h=jn((e=>{if(null==p||p(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!Ji)return;if(dn(e))return;if(!en(t)&&!ir(t))return;let i=!1;const r=()=>{i=!0};t.addEventListener("focusin",r,{capture:!0,once:!0});const a=function(e){for(;e&&!Zi(e);)e=e.closest(Yi);return e||null}(t.parentElement);nr(a,!0),hn(t,"mouseup",(()=>{t.removeEventListener("focusin",r,!0),nr(a,!1),i||function(e){!Qi(e)&&Zi(e)&&e.focus()}(t)}))})),g=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const i=e.currentTarget;i&&Xi(i)&&(null==a||a(e),e.defaultPrevented||(i.dataset.focusVisible="true",d(!0)))},b=l.onKeyDownCapture,x=jn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!n)return;if(c)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!fn(e))return;const t=e.currentTarget;hn(t,"focusout",(()=>g(e,t)))})),w=l.onFocusCapture,y=jn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!n)return;if(!fn(e))return void d(!1);const t=e.currentTarget;sr||function(e){const{tagName:t,readOnly:n,type:i}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):er.includes(i))}(e.target)?hn(e.target,"focusout",(()=>g(e,t))):d(!1)})),_=l.onBlur,j=jn((e=>{null==_||_(e),n&&pn(e)&&(e.currentTarget.removeAttribute("data-focus-visible"),d(!1))})),C=(0,Ut.useContext)(Gi),S=jn((e=>{n&&r&&e&&C&&queueMicrotask((()=>{Xi(e)||Zi(e)&&e.focus()}))})),k=function(e,t){const n=e=>{if("string"==typeof e)return e},[i,r]=(0,Ut.useState)((()=>n(t)));return yn((()=>{const i=e&&"current"in e?e.current:e;r((null==i?void 0:i.tagName.toLowerCase())||n(t))}),[e,t]),i}(s),I=n&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(k),V=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(k),E=l.style,N=(0,Ut.useMemo)((()=>u?Ct({pointerEvents:"none"},E):E),[u,E]);return Wt(l=St(Ct({"data-focus-visible":n&&c||void 0,"data-autofocus":r||void 0,"aria-disabled":o||void 0},l),{ref:Cn(s,S,l.ref),style:N,tabIndex:rr(n,u,I,V,l.tabIndex),disabled:!(!V||!u)||void 0,contentEditable:o?void 0:l.contentEditable,onKeyPressCapture:f,onClickCapture:v,onMouseDownCapture:m,onMouseDown:h,onKeyDownCapture:x,onFocusCapture:y,onBlur:j}))}));function dr(e,t,n){return jn((i=>{var r;if(null==t||t(i),i.defaultPrevented)return;if(i.isPropagationStopped())return;if(!fn(i))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(i))return;if(function(e){const t=e.target;return!(t&&!nn(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(i))return;const a=e.getState(),l=null==(r=$i(e,a.activeId))?void 0:r.element;if(!l)return;const s=i,{view:o}=s,u=kt(s,["view"]);l!==(null==n?void 0:n.current)&&l.focus(),function(e,t,n){const i=new KeyboardEvent(t,n);return e.dispatchEvent(i)}(l,i.type,u)||i.preventDefault(),i.currentTarget.contains(l)&&i.stopPropagation()}))}An((function(e){return Ln("div",cr(e))}));var fr=zn((function(e){var t=e,{store:n,composite:r=!0,focusOnMove:a=r,moveOnKeyPress:l=!0}=t,s=kt(t,["store","composite","focusOnMove","moveOnKeyPress"]);const o=Wn();qt(n=n||o,!1);const u=(0,Ut.useRef)(null),c=(0,Ut.useRef)(null),d=function(e){const[t,n]=(0,Ut.useState)(!1),i=(0,Ut.useCallback)((()=>n(!0)),[]),r=e.useState((t=>$i(e,t.activeId)));return(0,Ut.useEffect)((()=>{const e=null==r?void 0:r.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[r,t]),i}(n),f=n.useState("moves"),[,m]=function(e){const[t,n]=(0,Ut.useState)(null);return yn((()=>{if(null==t)return;if(!e)return;let n=null;return e((e=>(n=e,t))),()=>{e(n)}}),[t,e]),[t,n]}(r?n.setBaseElement:null);(0,Ut.useEffect)((()=>{var e;if(!n)return;if(!f)return;if(!r)return;if(!a)return;const{activeId:t}=n.getState(),i=null==(e=$i(n,t))?void 0:e.element;var l;i&&("scrollIntoView"in(l=i)?(l.focus({preventScroll:!0}),l.scrollIntoView(Pt({block:"nearest",inline:"nearest"},undefined))):l.focus())}),[n,f,r,a]),yn((()=>{if(!n)return;if(!f)return;if(!r)return;const{baseElement:e,activeId:t}=n.getState();if(null!==t)return;if(!e)return;const i=c.current;c.current=null,i&&mn(i,{relatedTarget:e}),Xi(e)||e.focus()}),[n,f,r]);const v=n.useState("activeId"),p=n.useState("virtualFocus");yn((()=>{var e;if(!n)return;if(!r)return;if(!p)return;const t=c.current;if(c.current=null,!t)return;const i=(null==(e=$i(n,v))?void 0:e.element)||Qt(t);i!==t&&mn(t,{relatedTarget:i})}),[n,v,p,r]);const h=dr(n,s.onKeyDownCapture,c),g=dr(n,s.onKeyUpCapture,c),b=s.onFocusCapture,x=jn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:t}=n.getState();if(!t)return;const i=e.relatedTarget,r=function(e){const t=e[Ui];return delete e[Ui],t}(e.currentTarget);fn(e)&&r&&(e.stopPropagation(),c.current=i)})),w=s.onFocus,y=jn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!r)return;if(!n)return;const{relatedTarget:t}=e,{virtualFocus:i}=n.getState();i?fn(e)&&!Ki(n,t)&&queueMicrotask(d):fn(e)&&n.setActiveId(null)})),_=s.onBlurCapture,j=jn((e=>{var t;if(null==_||_(e),e.defaultPrevented)return;if(!n)return;const{virtualFocus:i,activeId:r}=n.getState();if(!i)return;const a=null==(t=$i(n,r))?void 0:t.element,l=e.relatedTarget,s=Ki(n,l),o=c.current;c.current=null,fn(e)&&s?(l===a?o&&o!==l&&mn(o,e):a?mn(a,e):o&&mn(o,e),e.stopPropagation()):!Ki(n,e.target)&&a&&mn(a,e)})),C=s.onKeyDown,S=In(l),k=jn((e=>{var t;if(null==C||C(e),e.nativeEvent.isComposing)return;if(e.defaultPrevented)return;if(!n)return;if(!fn(e))return;const{orientation:i,renderedItems:r,activeId:a}=n.getState(),l=$i(n,a);if(null==(t=null==l?void 0:l.element)?void 0:t.isConnected)return;const s="horizontal"!==i,o="vertical"!==i,u=r.some((e=>!!e.rowId));if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&nn(e.currentTarget))return;const c={ArrowUp:(u||s)&&(()=>{if(u){const e=function(e){return e.find((e=>!e.disabled))}(mi(vi(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(r))));return null==e?void 0:e.id}return null==n?void 0:n.last()}),ArrowRight:(u||o)&&n.first,ArrowDown:(u||s)&&n.first,ArrowLeft:(u||o)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last},d=c[e.key];if(d){const t=d();if(void 0!==t){if(!S(e))return;e.preventDefault(),n.move(t)}}}));s=Vn(s,(e=>(0,i.jsx)($n,{value:n,children:e})),[n]);const I=n.useState((e=>{var t;if(n&&r&&e.virtualFocus)return null==(t=$i(n,e.activeId))?void 0:t.id}));s=St(Ct({"aria-activedescendant":I},s),{ref:Cn(u,m,s.ref),onKeyDownCapture:h,onKeyUpCapture:g,onFocusCapture:x,onFocus:y,onBlurCapture:j,onKeyDown:k});const V=n.useState((e=>r&&(e.virtualFocus||null===e.activeId)));return cr(Ct({focusable:V},s))})),mr=(An((function(e){return Ln("div",fr(e))})),zn((function(e){var t=e,{store:n}=t,i=kt(t,["store"]);const r=Ni();return n=n||r,St(Ct({},i),{ref:Cn(null==n?void 0:n.setAnchorElement,i.ref)})})));function vr(e,t,n){if(!n)return!1;const i=e.find((e=>!e.disabled&&e.value));return(null==i?void 0:i.value)===t}function pr(e,t){return!!t&&null!=e&&(e=Bt(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}An((function(e){return Ln("div",mr(e))}));var hr=zn((function(e){var t=e,{store:n,focusable:i=!0,autoSelect:r=!1,getAutoSelectId:a,setValueOnChange:l,showMinLength:s=0,showOnChange:o,showOnMouseDown:u,showOnClick:c=u,showOnKeyDown:d,showOnKeyPress:f=d,blurActiveItemOnClick:m,setValueOnClick:v=!0,moveOnKeyPress:p=!0,autoComplete:h="list"}=t,g=kt(t,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const b=Li();qt(n=n||b,!1);const x=(0,Ut.useRef)(null),[w,y]=(0,Ut.useReducer)((()=>[]),[]),_=(0,Ut.useRef)(!1),j=(0,Ut.useRef)(!1),C=n.useState((e=>e.virtualFocus&&r)),S="inline"===h||"both"===h,[k,I]=(0,Ut.useState)(S);!function(e,t){const n=(0,Ut.useRef)(!1);yn((()=>{n.current?S&&I(!0):n.current=!0}),t),yn((()=>()=>{n.current=!1}),[])}(0,[S]);const V=n.useState("value"),E=(0,Ut.useRef)();(0,Ut.useEffect)((()=>ni(n,["selectedValue","activeId"],((e,t)=>{E.current=t.selectedValue}))),[]);const N=n.useState((e=>{var t;if(S&&k){if(e.activeValue&&Array.isArray(e.selectedValue)){if(e.selectedValue.includes(e.activeValue))return;if(null==(t=E.current)?void 0:t.includes(e.activeValue))return}return e.activeValue}})),F=n.useState("renderedItems"),M=n.useState("open"),O=n.useState("contentElement"),P=(0,Ut.useMemo)((()=>{if(!S)return V;if(!k)return V;if(vr(F,N,C)){if(pr(V,N)){const e=(null==N?void 0:N.slice(V.length))||"";return V+e}return V}return N||V}),[S,k,F,N,C,V]);(0,Ut.useEffect)((()=>{const e=x.current;if(!e)return;const t=()=>I(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,Ut.useEffect)((()=>{if(!S)return;if(!k)return;if(!N)return;if(!vr(F,N,C))return;if(!pr(V,N))return;let e=Lt;return queueMicrotask((()=>{const t=x.current;if(!t)return;const{start:n,end:i}=an(t),r=V.length,a=N.length;on(t,r,a),e=()=>{if(!Xi(t))return;const{start:e,end:l}=an(t);e===r&&l===a&&on(t,n,i)}})),()=>e()}),[w,S,k,N,F,C,V]);const A=(0,Ut.useRef)(null),T=jn(a),L=(0,Ut.useRef)(null);(0,Ut.useEffect)((()=>{if(!M)return;if(!O)return;const e=sn(O);if(!e)return;A.current=e;const t=()=>{_.current=!1},i=()=>{if(!n)return;if(!_.current)return;const{activeId:e}=n.getState();null!==e&&e!==L.current&&(_.current=!1)},r={passive:!0,capture:!0};return e.addEventListener("wheel",t,r),e.addEventListener("touchmove",t,r),e.addEventListener("scroll",i,r),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("touchmove",t,!0),e.removeEventListener("scroll",i,!0)}}),[M,O,n]),yn((()=>{V&&(j.current||(_.current=!0))}),[V]),yn((()=>{"always"!==C&&M||(_.current=M)}),[C,M]);const z=n.useState("resetValueOnSelect");kn((()=>{var e,t;const i=_.current;if(!n)return;if(!M)return;if(!i&&!z)return;const{baseElement:r,contentElement:a,activeId:l}=n.getState();if(!r||Xi(r)){if(null==a?void 0:a.hasAttribute("data-placing")){const e=new MutationObserver(y);return e.observe(a,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(C&&i){const t=T(F),i=void 0!==t?t:null!=(e=function(e){const t=e.find((e=>{var t;return!e.disabled&&"tab"!==(null==(t=e.element)?void 0:t.getAttribute("role"))}));return null==t?void 0:t.id}(F))?e:n.first();L.current=i,n.move(null!=i?i:null)}else{const e=null==(t=n.item(l||n.first()))?void 0:t.element;e&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[n,M,w,V,C,z,T,F]),(0,Ut.useEffect)((()=>{if(!S)return;const e=x.current;if(!e)return;const t=[e,O].filter((e=>!!e)),i=e=>{t.every((t=>pn(e,t)))&&(null==n||n.setValue(P))};for(const e of t)e.addEventListener("focusout",i);return()=>{for(const e of t)e.removeEventListener("focusout",i)}}),[S,O,n,P]);const D=e=>e.currentTarget.value.length>=s,B=g.onChange,H=In(null!=o?o:D),q=In(null!=l?l:!n.tag),R=jn((e=>{if(null==B||B(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget,{value:i,selectionStart:r,selectionEnd:a}=t,l=e.nativeEvent;if(_.current=!0,function(e){return"input"===e.type}(l)&&(l.isComposing&&(_.current=!1,j.current=!0),S)){const e="insertText"===l.inputType||"insertCompositionText"===l.inputType,t=r===i.length;I(e&&t)}if(q(e)){const e=i===n.getState().value;n.setValue(i),queueMicrotask((()=>{on(t,r,a)})),S&&C&&e&&y()}H(e)&&n.show(),C&&_.current||n.setActiveId(null)})),W=g.onCompositionEnd,$=jn((e=>{_.current=!0,j.current=!1,null==W||W(e),e.defaultPrevented||C&&y()})),U=g.onMouseDown,K=In(null!=m?m:()=>!!(null==n?void 0:n.getState().includesBaseElement)),G=In(v),Y=In(null!=c?c:D),Z=jn((e=>{null==U||U(e),e.defaultPrevented||e.button||e.ctrlKey||n&&(K(e)&&n.setActiveId(null),G(e)&&n.setValue(P),Y(e)&&hn(e.currentTarget,"mouseup",n.show))})),X=g.onKeyDown,Q=In(null!=f?f:D),J=jn((e=>{if(null==X||X(e),e.repeat||(_.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!n)return;const{open:t}=n.getState();t||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||Q(e)&&(e.preventDefault(),n.show())})),ee=g.onBlur,te=jn((e=>{_.current=!1,null==ee||ee(e),e.defaultPrevented})),ne=Sn(g.id),ie=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(h)?h:void 0,re=n.useState((e=>null===e.activeId));return g=St(Ct({id:ne,role:"combobox","aria-autocomplete":ie,"aria-haspopup":ln(O,"listbox"),"aria-expanded":M,"aria-controls":null==O?void 0:O.id,"data-active-item":re||void 0,value:P},g),{ref:Cn(x,g.ref),onChange:R,onCompositionEnd:$,onMouseDown:Z,onKeyDown:J,onBlur:te}),g=fr(St(Ct({store:n,focusable:i},g),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(p,e)&&(S&&I(!0),!0)})),g=mr(Ct({store:n},g)),Ct({autoComplete:"off"},g)})),gr=An((function(e){return Ln("input",hr(e))}));const br=window.ReactDOM;function xr(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function wr(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=t.endsWith("ms")?1:1e3,i=Number.parseFloat(t||"0s")*n;return i>e?i:e}),0)}function yr(e,t,n){return!(n||!1===t||e&&!t)}var _r=zn((function(e){var t=e,{store:n,alwaysVisible:r}=t,a=kt(t,["store","alwaysVisible"]);const l=Si();qt(n=n||l,!1);const s=(0,Ut.useRef)(null),o=Sn(a.id),[u,c]=(0,Ut.useState)(null),d=n.useState("open"),f=n.useState("mounted"),m=n.useState("animated"),v=n.useState("contentElement"),p=oi(n.disclosure,"contentElement");yn((()=>{s.current&&(null==n||n.setContentElement(s.current))}),[n]),yn((()=>{let e;return null==n||n.setState("animated",(t=>(e=t,!0))),()=>{void 0!==e&&(null==n||n.setState("animated",e))}}),[n]),yn((()=>{if(m){if(null==v?void 0:v.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{c(d?"enter":f?"leave":null)}));c(null)}}),[m,v,d,f]),yn((()=>{if(!n)return;if(!m)return;if(!u)return;if(!v)return;const e=()=>null==n?void 0:n.setState("animating",!1),t=()=>(0,br.flushSync)(e);if("leave"===u&&d)return;if("enter"===u&&!d)return;if("number"==typeof m)return xr(m,t);const{transitionDuration:i,animationDuration:r,transitionDelay:a,animationDelay:l}=getComputedStyle(v),{transitionDuration:s="0",animationDuration:o="0",transitionDelay:c="0",animationDelay:f="0"}=p?getComputedStyle(p):{},h=wr(a,l,c,f)+wr(i,r,s,o);return h?xr(Math.max(h-1e3/60,0),t):("enter"===u&&n.setState("animated",!1),void e())}),[n,m,v,p,d,u]),a=Vn(a,(e=>(0,i.jsx)(Vi,{value:n,children:e})),[n]);const h=yr(f,a.hidden,r),g=a.style,b=(0,Ut.useMemo)((()=>h?St(Ct({},g),{display:"none"}):g),[h,g]);return Wt(a=St(Ct({id:o,"data-open":d||void 0,"data-enter":"enter"===u||void 0,"data-leave":"leave"===u||void 0,hidden:h},a),{ref:Cn(o?n.setContentElement:null,s,a.ref),style:b}))})),jr=An((function(e){return Ln("div",_r(e))})),Cr=(An((function(e){var t=e,{unmountOnHide:n}=t,r=kt(t,["unmountOnHide"]);const a=Si();return!1===oi(r.store||a,(e=>!n||(null==e?void 0:e.mounted)))?null:(0,i.jsx)(jr,Ct({},r))})),zn((function(e){var t=e,{store:n,alwaysVisible:r}=t,a=kt(t,["store","alwaysVisible"]);const l=Ti(!0),s=Ai(),o=!!(n=n||s)&&n===l;qt(n,!1);const u=(0,Ut.useRef)(null),c=Sn(a.id),d=n.useState("mounted"),f=yr(d,a.hidden,r),m=f?St(Ct({},a.style),{display:"none"}):a.style,v=n.useState((e=>Array.isArray(e.selectedValue))),p=function(e,t,n){const i=function(e){const[t]=(0,Ut.useState)(e);return t}(n),[r,a]=(0,Ut.useState)(i);return(0,Ut.useEffect)((()=>{const n=e&&"current"in e?e.current:e;if(!n)return;const r=()=>{const e=n.getAttribute(t);a(null==e?i:e)},l=new MutationObserver(r);return l.observe(n,{attributeFilter:[t]}),r(),()=>l.disconnect()}),[e,t,i]),r}(u,"role",a.role),h=("listbox"===p||"tree"===p||"grid"===p)&&v||void 0,[g,b]=(0,Ut.useState)(!1),x=n.useState("contentElement");yn((()=>{if(!d)return;const e=u.current;if(!e)return;if(x!==e)return;const t=()=>{b(!!e.querySelector("[role='listbox']"))},n=new MutationObserver(t);return n.observe(e,{subtree:!0,childList:!0,attributeFilter:["role"]}),t(),()=>n.disconnect()}),[d,x]),g||(a=Ct({role:"listbox","aria-multiselectable":h},a)),a=Vn(a,(e=>(0,i.jsx)(Di,{value:n,children:(0,i.jsx)(Oi.Provider,{value:p,children:e})})),[n,p]);const w=!c||l&&o?null:n.setContentElement;return Wt(a=St(Ct({id:c,hidden:f},a),{ref:Cn(w,u,a.ref),style:m}))}))),Sr=An((function(e){return Ln("div",Cr(e))}));function kr(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var Ir=Symbol("composite-hover"),Vr=zn((function(e){var t=e,{store:n,focusOnHover:i=!0,blurOnHoverEnd:r=!!i}=t,a=kt(t,["store","focusOnHover","blurOnHoverEnd"]);const l=Rn();qt(n=n||l,!1);const s=((0,Ut.useEffect)((()=>{En||(gn("mousemove",On,!0),gn("mousedown",Pn,!0),gn("mouseup",Pn,!0),gn("keydown",Pn,!0),gn("scroll",Pn,!0),En=!0)}),[]),jn((()=>Nn))),o=a.onMouseMove,u=In(i),c=jn((e=>{if(null==o||o(e),!e.defaultPrevented&&s()&&u(e)){if(!Qi(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!Xi(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),d=a.onMouseLeave,f=In(r),m=jn((e=>{var t;null==d||d(e),e.defaultPrevented||s()&&(function(e){const t=kr(e);return!!t&&Jt(e.currentTarget,t)}(e)||function(e){let t=kr(e);if(!t)return!1;do{if(zt(t,Ir)&&t[Ir])return!0;t=t.parentElement}while(t);return!1}(e)||u(e)&&f(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),v=(0,Ut.useCallback)((e=>{e&&(e[Ir]=!0)}),[]);return Wt(a=St(Ct({},a),{ref:Cn(v,a.ref),onMouseMove:c,onMouseLeave:m}))})),Er=(Tn(An((function(e){return Ln("div",Vr(e))}))),zn((function(e){var t=e,{store:n,shouldRegisterItem:i=!0,getItem:r=Ht,element:a}=t,l=kt(t,["store","shouldRegisterItem","getItem","element"]);const s=Hn();n=n||s;const o=Sn(l.id),u=(0,Ut.useRef)(a);return(0,Ut.useEffect)((()=>{const e=u.current;if(!o)return;if(!e)return;if(!i)return;const t=r({id:o,element:e});return null==n?void 0:n.renderItem(t)}),[o,i,r,n]),Wt(l=St(Ct({},l),{ref:Cn(u,l.ref)}))})));function Nr(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?en(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(en(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}An((function(e){return Ln("div",Er(e))}));var Fr=Symbol("command"),Mr=zn((function(e){var t=e,{clickOnEnter:n=!0,clickOnSpace:i=!0}=t,r=kt(t,["clickOnEnter","clickOnSpace"]);const a=(0,Ut.useRef)(null),[l,s]=(0,Ut.useState)(!1);(0,Ut.useEffect)((()=>{a.current&&s(en(a.current))}),[]);const[o,u]=(0,Ut.useState)(!1),c=(0,Ut.useRef)(!1),d=Rt(r),[f,m]=function(e,t,n){const i=e.onLoadedMetadataCapture,r=(0,Ut.useMemo)((()=>Object.assign((()=>{}),St(Ct({},i),{[t]:n}))),[i,t,n]);return[null==i?void 0:i[t],{onLoadedMetadataCapture:r}]}(r,Fr,!0),v=r.onKeyDown,p=jn((e=>{null==v||v(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(f)return;if(d)return;if(!fn(e))return;if(nn(t))return;if(t.isContentEditable)return;const r=n&&"Enter"===e.key,a=i&&" "===e.key,l="Enter"===e.key&&!n,s=" "===e.key&&!i;if(l||s)e.preventDefault();else if(r||a){const n=Nr(e);if(r){if(!n){e.preventDefault();const n=e,{view:i}=n,r=kt(n,["view"]),a=()=>vn(t,r);Zt&&/firefox\//i.test(navigator.userAgent)?hn(t,"keyup",a):queueMicrotask(a)}}else a&&(c.current=!0,n||(e.preventDefault(),u(!0)))}})),h=r.onKeyUp,g=jn((e=>{if(null==h||h(e),e.defaultPrevented)return;if(f)return;if(d)return;if(e.metaKey)return;const t=i&&" "===e.key;if(c.current&&t&&(c.current=!1,!Nr(e))){e.preventDefault(),u(!1);const t=e.currentTarget,n=e,{view:i}=n,r=kt(n,["view"]);queueMicrotask((()=>vn(t,r)))}}));return r=St(Ct(Ct({"data-active":o||void 0,type:l?"button":void 0},m),r),{ref:Cn(a,r.ref),onKeyDown:p,onKeyUp:g}),cr(r)}));function Or(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function Pr(e,t,n,i=!1){var r;if(!t)return;if(!n)return;const{renderedItems:a}=t.getState(),l=sn(e);if(!l)return;const s=function(e,t=!1){const n=e.clientHeight,{top:i}=e.getBoundingClientRect(),r=1.5*Math.max(.875*n,n-40),a=t?n-r+i:r+i;return"HTML"===e.tagName?a+e.scrollTop:a}(l,i);let o,u;for(let e=0;e<a.length;e+=1){const a=o;if(o=n(e),!o)break;if(o===a)continue;const l=null==(r=$i(t,o))?void 0:r.element;if(!l)continue;const c=Or(l,i)-s,d=Math.abs(c);if(i&&c<=0||!i&&c>=0){void 0!==u&&u<d&&(o=a);break}u=d}return o}An((function(e){return Ln("button",Mr(e))}));var Ar=zn((function(e){var t=e,{store:n,rowId:r,preventScrollOnKeyDown:a=!1,moveOnKeyPress:l=!0,tabbable:s=!1,getItem:o,"aria-setsize":u,"aria-posinset":c}=t,d=kt(t,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const f=Rn();n=n||f;const m=Sn(d.id),v=(0,Ut.useRef)(null),p=(0,Ut.useContext)(Gn),h=Rt(d)&&!d.accessibleWhenDisabled,{rowId:g,baseElement:b,isActiveItem:x,ariaSetSize:w,ariaPosInSet:y,isTabbable:_}=ui(n,{rowId:e=>r||(e&&(null==p?void 0:p.baseElement)&&p.baseElement===e.baseElement?p.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===m,ariaSetSize:e=>null!=u?u:e&&(null==p?void 0:p.ariaSetSize)&&p.baseElement===e.baseElement?p.ariaSetSize:void 0,ariaPosInSet(e){if(null!=c)return c;if(!e)return;if(!(null==p?void 0:p.ariaPosInSet))return;if(p.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===g));return p.ariaPosInSet+t.findIndex((e=>e.id===m))},isTabbable(e){if(!(null==e?void 0:e.renderedItems.length))return!0;if(e.virtualFocus)return!1;if(s)return!0;if(null===e.activeId)return!1;const t=null==n?void 0:n.item(e.activeId);return!!(null==t?void 0:t.disabled)||!(null==t?void 0:t.element)||e.activeId===m}}),j=(0,Ut.useCallback)((e=>{var t;const n=St(Ct({},e),{id:m||e.id,rowId:g,disabled:!!h,children:null==(t=e.element)?void 0:t.textContent});return o?o(n):n}),[m,g,h,o]),C=d.onFocus,S=(0,Ut.useRef)(!1),k=jn((e=>{if(null==C||C(e),e.defaultPrevented)return;if(dn(e))return;if(!m)return;if(!n)return;if(function(e,t){return!fn(e)&&Ki(t,e.target)}(e,n))return;const{virtualFocus:t,baseElement:i}=n.getState();var r;(n.setActiveId(m),rn(e.currentTarget)&&function(e,t=!1){if(nn(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=Xt(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(e.currentTarget),t)&&(fn(e)&&(rn(r=e.currentTarget)||"INPUT"===r.tagName&&!en(r)||(null==i?void 0:i.isConnected)&&(cn()&&e.currentTarget.hasAttribute("data-autofocus")&&e.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),S.current=!0,e.relatedTarget===i||Ki(n,e.relatedTarget)?function(e){e[Ui]=!0,e.focus({preventScroll:!0})}(i):i.focus())))})),I=d.onBlurCapture,V=jn((e=>{if(null==I||I(e),e.defaultPrevented)return;const t=null==n?void 0:n.getState();(null==t?void 0:t.virtualFocus)&&S.current&&(S.current=!1,e.preventDefault(),e.stopPropagation())})),E=d.onKeyDown,N=In(a),F=In(l),M=jn((e=>{if(null==E||E(e),e.defaultPrevented)return;if(!fn(e))return;if(!n)return;const{currentTarget:t}=e,i=n.getState(),r=n.item(m),a=!!(null==r?void 0:r.rowId),l="horizontal"!==i.orientation,s="vertical"!==i.orientation,o=()=>!(!a&&!s&&i.baseElement&&nn(i.baseElement)),u={ArrowUp:(a||l)&&n.up,ArrowRight:(a||s)&&n.next,ArrowDown:(a||l)&&n.down,ArrowLeft:(a||s)&&n.previous,Home:()=>{if(o())return!a||e.ctrlKey?null==n?void 0:n.first():null==n?void 0:n.previous(-1)},End:()=>{if(o())return!a||e.ctrlKey?null==n?void 0:n.last():null==n?void 0:n.next(-1)},PageUp:()=>Pr(t,n,null==n?void 0:n.up,!0),PageDown:()=>Pr(t,n,null==n?void 0:n.down)}[e.key];if(u){if(rn(t)){const n=an(t),i=s&&"ArrowLeft"===e.key,r=s&&"ArrowRight"===e.key,a=l&&"ArrowUp"===e.key,o=l&&"ArrowDown"===e.key;if(r||o){const{length:e}=function(e){if(nn(e))return e.value;if(e.isContentEditable){const t=Xt(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(t);if(n.end!==e)return}else if((i||a)&&0!==n.start)return}const i=u();if(N(e)||void 0!==i){if(!F(e))return;e.preventDefault(),n.move(i)}}})),O=(0,Ut.useMemo)((()=>({id:m,baseElement:b})),[m,b]);return d=Vn(d,(e=>(0,i.jsx)(Kn.Provider,{value:O,children:e})),[O]),d=St(Ct({id:m,"data-active-item":x||void 0},d),{ref:Cn(v,d.ref),tabIndex:_?d.tabIndex:-1,onFocus:k,onBlurCapture:V,onKeyDown:M}),d=Mr(d),d=Er(St(Ct({store:n},d),{getItem:j,shouldRegisterItem:!!m&&d.shouldRegisterItem})),Wt(St(Ct({},d),{"aria-setsize":w,"aria-posinset":y}))}));function Tr(e){var t;return null!=(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])?t:"option"}Tn(An((function(e){return Ln("button",Ar(e))})));var Lr=zn((function(e){var t,n=e,{store:r,value:a,hideOnClick:l,setValueOnClick:s,selectValueOnClick:o=!0,resetValueOnSelect:u,focusOnHover:c=!1,moveOnKeyPress:d=!0,getItem:f}=n,m=kt(n,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]);const v=Ti();qt(r=r||v,!1);const{resetValueOnSelectState:p,multiSelectable:h,selected:g}=ui(r,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable:e=>Array.isArray(e.selectedValue),selected:e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,a)}),b=(0,Ut.useCallback)((e=>{const t=St(Ct({},e),{value:a});return f?f(t):t}),[a,f]);s=null!=s?s:!h,l=null!=l?l:null!=a&&!h;const x=m.onClick,w=In(s),y=In(o),_=In(null!=(t=null!=u?u:p)?t:h),j=In(l),C=jn((e=>{null==x||x(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=un();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const i=t.tagName.toLowerCase();return"a"===i||"button"===i&&"submit"===t.type||"input"===i&&"submit"===t.type}(e)||(null!=a&&(y(e)&&(_(e)&&(null==r||r.resetValue()),null==r||r.setSelectedValue((e=>Array.isArray(e)?e.includes(a)?e.filter((e=>e!==a)):[...e,a]:a))),w(e)&&(null==r||r.setValue(a))),j(e)&&(null==r||r.hide()))})),S=m.onKeyDown,k=jn((e=>{if(null==S||S(e),e.defaultPrevented)return;const t=null==r?void 0:r.getState().baseElement;t&&(Xi(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),nn(t)&&(null==r||r.setValue(t.value))))}));h&&null!=g&&(m=Ct({"aria-selected":g},m)),m=Vn(m,(e=>(0,i.jsx)(Bi.Provider,{value:a,children:(0,i.jsx)(Hi.Provider,{value:null!=g&&g,children:e})})),[a,g]);const I=(0,Ut.useContext)(Oi);m=St(Ct({role:Tr(I),children:a},m),{onClick:C,onKeyDown:k});const V=In(d);return m=Ar(St(Ct({store:r},m),{getItem:b,moveOnKeyPress:e=>{if(!V(e))return!1;const t=new Event("combobox-item-move"),n=null==r?void 0:r.getState().baseElement;return null==n||n.dispatchEvent(t),!0}})),Vr(Ct({store:r,focusOnHover:c},m))})),zr=Tn(An((function(e){return Ln("div",Lr(e))})));function Dr(e){return Bt(e).toLowerCase()}var Br=zn((function(e){var t=e,{store:n,value:r,userValue:a}=t,l=kt(t,["store","value","userValue"]);const s=Ti();n=n||s;const o=(0,Ut.useContext)(Bi),u=null!=r?r:o,c=oi(n,(e=>null!=a?a:null==e?void 0:e.value)),d=(0,Ut.useMemo)((()=>{if(u)return c?function(e,t){if(!e)return e;if(!t)return e;const n=(r=t,Array.isArray(r)?r:void 0!==r?[r]:[]).filter(Boolean).map(Dr);var r;const a=[],l=(e,t=!1)=>(0,i.jsx)("span",{"data-autocomplete-value":t?"":void 0,"data-user-value":t?void 0:"",children:e},a.length),s=function(e){return e.sort((([e],[t])=>e-t))}(function(e){return e.filter((([e,t],n,i)=>!i.some((([i,r],a)=>a!==n&&i<=e&&i+r>=e+t))))}(function(e,t){const n=[];for(const i of t){let t=0;const r=i.length;for(;-1!==e.indexOf(i,t);){const a=e.indexOf(i,t);-1!==a&&n.push([a,r]),t=a+1}}return n}(Dr(e),new Set(n))));if(!s.length)return a.push(l(e,!0)),a;const[o]=s[0],u=[e.slice(0,o),...s.flatMap((([t,n],i)=>{var r;const a=e.slice(t,t+n),l=null==(r=s[i+1])?void 0:r[0];return[a,e.slice(t+n,l)]}))];return u.forEach(((e,t)=>{e&&a.push(l(e,t%2==0))})),a}(u,c):u}),[u,c]);return Wt(l=Ct({children:d},l))})),Hr=An((function(e){return Ln("span",Br(e))})),qr=n(731),Rr=n.n(qr),Wr=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),$r=[],Ur=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:$r,Kr=[];function Gr({elements:e,getElements:t}){const n=Array.isArray(e)&&e.length>0?e:Kr,[i,r]=(0,s.useState)(n),[a,l]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{if(!t)return void r(n);let e=!1;return l(!0),t().then((t=>{if(!e){const e=Array.isArray(t)&&t.length>0?t:n;r(e)}})).catch((()=>{e||r(n)})).finally((()=>{e||l(!1)})),()=>{e=!0}}),[t,n]),{elements:i,isLoading:a}}function Yr(e=""){return Rr()(e.trim().toLowerCase())}var Zr=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter((e=>e!==n)):[...t.value,n]:[n];function Xr(e,t){return`${e}-${t}`}var Qr=({selected:e})=>(0,i.jsx)("span",{className:ne("dataviews-filters__search-widget-listitem-multi-selection",{"is-selected":e}),children:e&&(0,i.jsx)(l.Icon,{icon:He})}),Jr=({selected:e})=>(0,i.jsx)("span",{className:ne("dataviews-filters__search-widget-listitem-single-selection",{"is-selected":e})});function ea({view:e,filter:t,onChangeView:n}){const r=(0,m.useInstanceId)(ea,"dataviews-filter-list-box"),[a,o]=(0,s.useState)(1===t.operators?.length?void 0:null),u=e.filters?.find((e=>e.field===t.field)),d=Ur(t,u);return(0,i.jsx)(l.Composite,{virtualFocus:!0,focusLoop:!0,activeId:a,setActiveId:o,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,c.sprintf)(
/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,c.__)("List of: %1$s"),t.name),onFocusVisible:()=>{!a&&t.elements.length&&o(Xr(r,t.elements[0].value))},render:(0,i.jsx)(l.Composite.Typeahead,{}),children:t.elements.map((a=>(0,i.jsxs)(l.Composite.Hover,{render:(0,i.jsx)(l.Composite.Item,{id:Xr(r,a.value),render:(0,i.jsx)("div",{"aria-label":a.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{const i=u?[...(e.filters??[]).map((e=>e.field===t.field?{...e,operator:u.operator||t.operators[0],value:Zr(t,u,a.value)}:e))]:[...e.filters??[],{field:t.field,operator:t.operators[0],value:Zr(t,u,a.value)}];n({...e,page:1,filters:i})}}),children:[t.singleSelection&&(0,i.jsx)(Jr,{selected:d===a.value}),!t.singleSelection&&(0,i.jsx)(Qr,{selected:d.includes(a.value)}),(0,i.jsx)("span",{children:a.label})]},a.value)))})}function ta({view:e,filter:t,onChangeView:n}){const[r,a]=(0,s.useState)(""),o=(0,s.useDeferredValue)(r),u=e.filters?.find((e=>e.field===t.field)),d=Ur(t,u),f=(0,s.useMemo)((()=>{const e=Yr(o);return t.elements.filter((t=>Yr(t.label).includes(e)))}),[t.elements,o]);return(0,i.jsxs)(qi,{selectedValue:d,setSelectedValue:i=>{const r=u?[...(e.filters??[]).map((e=>e.field===t.field?{...e,operator:u.operator||t.operators[0],value:i}:e))]:[...e.filters??[],{field:t.field,operator:t.operators[0],value:i}];n({...e,page:1,filters:r})},setValue:a,children:[(0,i.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,i.jsx)(Wi,{render:(0,i.jsx)(l.VisuallyHidden,{children:(0,c.__)("Search items")}),children:(0,c.__)("Search items")}),(0,i.jsx)(gr,{autoSelect:"always",placeholder:(0,c.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,i.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,i.jsx)(l.Icon,{icon:Wr})})]}),(0,i.jsxs)(Sr,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[f.map((e=>(0,i.jsxs)(zr,{resetValueOnSelect:!1,value:e.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[t.singleSelection&&(0,i.jsx)(Jr,{selected:d===e.value}),!t.singleSelection&&(0,i.jsx)(Qr,{selected:d.includes(e.value)}),(0,i.jsxs)("span",{children:[(0,i.jsx)(Hr,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:e.label}),!!e.description&&(0,i.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:e.description})]})]},e.value))),!f.length&&(0,i.jsx)("p",{children:(0,c.__)("No results found")})]})]})}function na(e){const{elements:t,isLoading:n}=Gr({elements:e.filter.elements,getElements:e.filter.getElements});if(n)return(0,i.jsx)("div",{className:"dataviews-filters__search-widget-no-elements",children:(0,i.jsx)(l.Spinner,{})});if(0===t.length)return(0,i.jsx)("div",{className:"dataviews-filters__search-widget-no-elements",children:(0,c.__)("No elements found")});const r=t.length>10?ta:ea;return(0,i.jsx)(r,{...e,filter:{...e.filter,elements:t}})}var ia=n(252),ra=n.n(ia);function aa({filter:e,view:t,onChangeView:n,fields:r}){const a=t.filters?.find((t=>t.field===e.field)),o=Ur(e,a),u=(0,s.useMemo)((()=>{const t=r.find((t=>t.id===e.field));return t?{...t,isValid:{required:!1,custom:()=>null},getValue:({item:e})=>e[t.id],setValue:({value:e})=>({[t.id]:e})}:t}),[r,e.field]),c=(0,s.useMemo)((()=>(t.filters??[]).reduce(((e,t)=>(e[t.field]=t.value,e)),{})),[t.filters]),d=(0,m.useEvent)((i=>{if(!u||!a)return;const r=u.getValue({item:i});ra()(r,o)||n({...t,filters:(t.filters??[]).map((t=>t.field===e.field?{...t,operator:a.operator||e.operators[0],value:""===r?void 0:r}:t))})}));return u&&u.Edit&&a?(0,i.jsx)(l.Flex,{className:"dataviews-filters__user-input-widget",gap:2.5,direction:"column",children:(0,i.jsx)(u.Edit,{hideLabelFromVision:!0,data:c,field:u,operator:a.operator,onChange:d})}):null}Math.pow(10,8);const la=6048e5,sa=Symbol.for("constructDateFrom");function oa(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&sa in e?e[sa](t):e instanceof Date?new e.constructor(t):new Date(t)}function ua(e,t){return oa(t||e,e)}function ca(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+ua(e)));var t}const da=window.wp.date;function fa(e){if(!e)return null;const t=(0,da.getDate)(e);return t&&ca(t)?t:null}var ma="Enter",va=" ",pa=({activeElements:e,filterInView:t,filter:n})=>{if(void 0===e||0===e.length)return n.name;const r={Name:(0,i.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,i.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};if(t?.operator===x)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,c.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r);if(t?.operator===w)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,c.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r);if(t?.operator===y)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,c.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r);if(t?.operator===_)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,c.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),n.name,e.map((e=>e.label)).join(", ")),r);if(t?.operator===g)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */
(0,c.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===b)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */
(0,c.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===j)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */
(0,c.__)("<Name>%1$s is less than: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===C)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */
(0,c.__)("<Name>%1$s is greater than: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===S)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */
(0,c.__)("<Name>%1$s is less than or equal to: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===k)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */
(0,c.__)("<Name>%1$s is greater than or equal to: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===F)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */
(0,c.__)("<Name>%1$s contains: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===M)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */
(0,c.__)("<Name>%1$s doesn't contain: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===O)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */
(0,c.__)("<Name>%1$s starts with: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===I)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */
(0,c.__)("<Name>%1$s is before: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===V)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */
(0,c.__)("<Name>%1$s is after: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===E)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */
(0,c.__)("<Name>%1$s is on or before: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===N)return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */
(0,c.__)("<Name>%1$s is on or after: </Name><Value>%2$s</Value>"),n.name,e[0].label),r);if(t?.operator===P){const{label:t}=e[0];return(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10 and 180". */
/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10 and 180". */
(0,c.__)("<Name>%1$s between (inc): </Name><Value>%2$s and %3$s</Value>"),n.name,t[0],t[1]),r)}return t?.operator===A?(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */
(0,c.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),n.name,e[0].label),r):t?.operator===T?(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */
(0,c.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),n.name,e[0].label),r):t?.operator===L?(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */
(0,c.__)("<Name>%1$s is in the past: </Name><Value>%2$s</Value>"),n.name,`${e[0].value.value} ${e[0].value.unit}`),r):t?.operator===z?(0,s.createInterpolateElement)((0,c.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */
(0,c.__)("<Name>%1$s is over: </Name><Value>%2$s</Value> ago"),n.name,`${e[0].value.value} ${e[0].value.unit}`),r):(0,c.sprintf)(
/* translators: 1: Filter name e.g.: "Unknown status for Author". */
/* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,c.__)("Unknown status for %1$s"),n.name)};function ha({filter:e,view:t,onChangeView:n}){const r=e.operators?.map((e=>({value:e,label:H[e]?.label}))),a=t.filters?.find((t=>t.field===e.field)),s=a?.operator||e.operators[0];return r.length>1&&(0,i.jsxs)(l.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,i.jsx)(l.FlexItem,{className:"dataviews-filters__summary-operators-filter-name",children:e.name}),(0,i.jsx)(l.SelectControl,{className:"dataviews-filters__summary-operators-filter-select",label:(0,c.__)("Conditions"),value:s,options:r,onChange:i=>{const r=i,l=a?.operator,s=a?[...(t.filters??[]).map((t=>{if(t.field===e.field){const e=[P,L,z],n=l&&(e.includes(l)||e.includes(r));return{...t,value:n?void 0:t.value,operator:r}}return t}))]:[...t.filters??[],{field:e.field,operator:r,value:void 0}];n({...t,page:1,filters:s})},size:"small",variant:"minimal",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function ga({addFilterRef:e,openedFilter:t,fields:n,...r}){const a=(0,s.useRef)(null),{filter:o,view:u,onChangeView:d}=r,f=u.filters?.find((e=>e.field===o.field));let m=[];const{elements:v}=Gr({elements:o.elements,getElements:o.getElements});if(v.length>0)m=v.filter((e=>o.singleSelection?e.value===f?.value:f?.value?.includes(e.value)));else if(void 0!==f?.value){const e=n.find((e=>e.id===o.field));let t=f.value;if("datetime"===e?.type&&"string"==typeof t)try{const e=fa(t);null!==e&&(t=e.toLocaleString())}catch(e){t=f.value}m=[{value:f.value,label:t}]}const p=o.isPrimary,h=f?.isLocked,g=!h&&void 0!==f?.value,b=!h&&(!p||g);return(0,i.jsx)(l.Dropdown,{defaultOpen:t===o.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{a.current?.focus()},renderToggle:({isOpen:t,onToggle:n})=>(0,i.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,i.jsx)(l.Tooltip,{text:(0,c.sprintf)(
/* translators: 1: Filter name. */
/* translators: 1: Filter name. */
(0,c.__)("Filter by: %1$s"),o.name.toLowerCase()),placement:"top",children:(0,i.jsx)("div",{className:ne("dataviews-filters__summary-chip",{"has-reset":b,"has-values":g,"is-not-clickable":h}),role:"button",tabIndex:h?-1:0,onClick:()=>{h||n()},onKeyDown:e=>{!h&&[ma,va].includes(e.key)&&(n(),e.preventDefault())},"aria-disabled":h,"aria-pressed":t,"aria-expanded":t,ref:a,children:(0,i.jsx)(pa,{activeElements:m,filterInView:f,filter:o})})}),b&&(0,i.jsx)(l.Tooltip,{text:p?(0,c.__)("Reset"):(0,c.__)("Remove"),placement:"top",children:(0,i.jsx)("button",{className:ne("dataviews-filters__summary-chip-remove",{"has-values":g}),onClick:()=>{d({...u,page:1,filters:u.filters?.filter((e=>e.field!==o.field))}),p?a.current?.focus():e.current?.focus()},children:(0,i.jsx)(l.Icon,{icon:xe})})})]}),renderContent:()=>(0,i.jsxs)(l.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,i.jsx)(ha,{...r}),r.filter.hasElements?(0,i.jsx)(na,{...r,filter:{...r.filter,elements:v}}):(0,i.jsx)(aa,{...r,fields:n})]})})}function ba({filters:e,view:t,onChangeView:n}){const r=!t.search&&!t.filters?.some((t=>{return!(t.isLocked||void 0===t.value&&(n=t.field,e.some((e=>e.field===n&&e.isPrimary))));var n}));return(0,i.jsx)(l.Button,{disabled:r,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{n({...t,page:1,search:"",filters:t.filters?.filter((e=>!!e.isLocked))||[]})},children:(0,c.__)("Reset")})}var xa=function(e,t){return(0,s.useMemo)((()=>{const n=[];return e.forEach((e=>{if(!1===e.filterBy||!e.hasElements&&!e.Edit)return;const i=e.filterBy.operators,r=!!e.filterBy?.isPrimary,a=t.filters?.some((t=>t.field===e.id&&!!t.isLocked))??!1;n.push({field:e.id,name:e.label,elements:e.elements,getElements:e.getElements,hasElements:e.hasElements,singleSelection:i.some((e=>B.includes(e))),operators:i,isVisible:a||r||!!t.filters?.some((t=>t.field===e.id&&D.includes(t.operator))),isPrimary:r,isLocked:a})})),n.sort(((e,t)=>e.isLocked&&!t.isLocked?-1:!e.isLocked&&t.isLocked?1:e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name))),n}),[e,t])},wa=(0,s.memo)((function({className:e}){const{fields:t,view:n,onChangeView:r,openedFilter:a,setOpenedFilter:o}=(0,s.useContext)(Z),u=(0,s.useRef)(null),c=xa(t,n),d=(0,i.jsx)(vt,{filters:c,view:n,onChangeView:r,ref:u,setOpenedFilter:o},"add-filter"),f=c.filter((e=>e.isVisible));if(0===f.length)return null;const m=[...f.map((e=>(0,i.jsx)(ga,{filter:e,view:n,fields:t,onChangeView:r,addFilterRef:u,openedFilter:a},e.field))),d];return m.push((0,i.jsx)(ba,{filters:c,view:n,onChangeView:r},"reset-filters")),(0,i.jsx)(l.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0,className:e,children:m})})),ya=function(e){const{isShowingFilter:t}=(0,s.useContext)(Z);return t?(0,i.jsx)(wa,{...e}):null};function _a({className:e}){const{actions:t=[],data:n,fields:r,getItemId:a,getItemLevel:l,isLoading:o,view:u,onChangeView:d,selection:f,onChangeSelection:m,setOpenedFilter:v,onClickItem:p,isItemClickable:h,renderItemLink:g,defaultLayouts:b,empty:x=(0,i.jsx)("p",{children:(0,c.__)("No results")})}=(0,s.useContext)(Z),w=dt.find((e=>e.type===u.type&&b[e.type]))?.component;return(0,i.jsx)(w,{className:e,actions:t,data:n,fields:r,getItemId:a,getItemLevel:l,isLoading:o,onChangeView:d,onChangeSelection:m,selection:f,setOpenedFilter:v,onClickItem:p,renderItemLink:g,isItemClickable:h,view:u,empty:x})}var ja=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),Ca=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})});function Sa(){const{view:e,onChangeView:t,paginationInfo:{totalItems:n=0,totalPages:r}}=(0,s.useContext)(Z);if(!n||!r||e.infiniteScrollEnabled)return null;const a=e.page??1,o=Array.from(Array(r)).map(((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString(),"aria-label":a===n?(0,c.sprintf)(
// translators: 1: current page number. 2: total number of pages.
// translators: 1: current page number. 2: total number of pages.
(0,c.__)("Page %1$d of %2$d"),a,r):n.toString()}}));return!!n&&1!==r&&(0,i.jsxs)(l.__experimentalHStack,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,i.jsx)(l.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,s.createInterpolateElement)((0,c.sprintf)(
// translators: 1: Current page number, 2: Total number of pages.
// translators: 1: Current page number, 2: Total number of pages.
(0,c._x)("<div>Page</div>%1$s<div>of %2$d</div>","paging"),"<CurrentPage />",r),{div:(0,i.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,i.jsx)(l.SelectControl,{"aria-label":(0,c.__)("Current page"),value:a.toString(),options:o,onChange:n=>{t({...e,page:+n})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,i.jsxs)(l.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,i.jsx)(l.Button,{onClick:()=>t({...e,page:a-1}),disabled:1===a,accessibleWhenDisabled:!0,label:(0,c.__)("Previous page"),icon:(0,c.isRTL)()?ja:Ca,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,i.jsx)(l.Button,{onClick:()=>t({...e,page:a+1}),disabled:a>=r,accessibleWhenDisabled:!0,label:(0,c.__)("Next page"),icon:(0,c.isRTL)()?Ca:ja,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})}var ka=(0,s.memo)(Sa),Ia=[];function Va(){const{view:e,paginationInfo:{totalItems:t=0,totalPages:n},data:r,actions:a=Ia}=(0,s.useContext)(Z),o=_e(a,r)&&[K,G].includes(e.type);return!t||!n||n<=1&&!o?null:!!t&&(0,i.jsxs)(l.__experimentalHStack,{expanded:!1,justify:"end",className:"dataviews-footer",children:[o&&(0,i.jsx)(Ee,{}),(0,i.jsx)(ka,{})]})}var Ea=(0,s.memo)((function({label:e}){const{view:t,onChangeView:n}=(0,s.useContext)(Z),[r,a,o]=(0,m.useDebouncedInput)(t.search);(0,s.useEffect)((()=>{a(t.search??"")}),[t.search,a]);const u=(0,s.useRef)(n),d=(0,s.useRef)(t);(0,s.useEffect)((()=>{u.current=n,d.current=t}),[n,t]),(0,s.useEffect)((()=>{o!==d.current?.search&&u.current({...d.current,page:1,search:o})}),[o]);const f=e||(0,c.__)("Search");return(0,i.jsx)(l.SearchControl,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:a,value:r,label:f,placeholder:f,size:"compact"})})),Na=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})});const Fa=window.wp.warning;var Ma=n.n(Fa);function Oa(){const e=(0,s.useContext)(Z),{view:t,onChangeView:n}=e,r=t.infiniteScrollEnabled??!1;return e.hasInfiniteScrollHandler?(0,i.jsx)(l.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Enable infinite scroll"),help:(0,c.__)("Automatically load more content as you scroll, instead of showing pagination links."),checked:r,onChange:e=>{n({...t,infiniteScrollEnabled:e})}}):null}var{Menu:Pa}=ue(l.privateApis),Aa={className:"dataviews-config__popover",placement:"bottom-end",offset:9};function Ta(){const{view:e,onChangeView:t,defaultLayouts:n}=(0,s.useContext)(Z),r=Object.keys(n);if(r.length<=1)return null;const a=dt.find((t=>e.type===t.type));return(0,i.jsxs)(Pa,{children:[(0,i.jsx)(Pa.TriggerButton,{render:(0,i.jsx)(l.Button,{size:"compact",icon:a?.icon,label:(0,c.__)("Layout")})}),(0,i.jsx)(Pa.Popover,{children:r.map((r=>{const a=dt.find((e=>e.type===r));return a?(0,i.jsx)(Pa.RadioItem,{value:r,name:"view-actions-available-view",checked:r===e.type,hideOnClick:!0,onChange:i=>{switch(i.target.value){case"list":case"grid":case"table":case"pickerGrid":case"pickerTable":const r={...e};return"layout"in r&&delete r.layout,t({...r,type:i.target.value,...n[i.target.value]})}Ma()("Invalid dataview")},children:(0,i.jsx)(Pa.ItemLabel,{children:a.label})},r):null}))})]})}function La(){const{view:e,fields:t,onChangeView:n}=(0,s.useContext)(Z),r=(0,s.useMemo)((()=>t.filter((e=>!1!==e.enableSorting)).map((e=>({label:e.label,value:e.id})))),[t]);return(0,i.jsx)(l.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("Sort by"),value:e.sort?.field,options:r,onChange:t=>{n({...e,sort:{direction:e?.sort?.direction||"desc",field:t},showLevels:!1})}})}function za(){const{view:e,fields:t,onChangeView:n}=(0,s.useContext)(Z);if(0===t.filter((e=>!1!==e.enableSorting)).length)return null;let r=e.sort?.direction;return!r&&e.sort?.field&&(r="desc"),(0,i.jsx)(l.__experimentalToggleGroupControl,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,c.__)("Order"),value:r,onChange:i=>{"asc"!==i&&"desc"!==i?Ma()("Invalid direction"):n({...e,sort:{direction:i,field:e.sort?.field||t.find((e=>!1!==e.enableSorting))?.id||""},showLevels:!1})},children:q.map((e=>(0,i.jsx)(l.__experimentalToggleGroupControlOptionIcon,{value:e,icon:U[e],label:$[e]},e)))})}function Da(){const{view:e,config:t,onChangeView:n}=(0,s.useContext)(Z),{infiniteScrollEnabled:r}=e;return!t||!t.perPageSizes||t.perPageSizes.length<2||t.perPageSizes.length>6||r?null:(0,i.jsx)(l.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,c.__)("Items per page"),value:e.perPage||10,disabled:!e?.sort?.field,onChange:t=>{const i="number"==typeof t||void 0===t?t:parseInt(t,10);n({...e,perPage:i,page:1})},children:t.perPageSizes.map((e=>(0,i.jsx)(l.__experimentalToggleGroupControlOption,{value:e,label:e.toString()},e)))})}function Ba({title:e,description:t,children:n}){return(0,i.jsxs)(l.__experimentalGrid,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,i.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,i.jsx)(l.__experimentalHeading,{level:2,className:"dataviews-settings-section__title",children:e}),t&&(0,i.jsx)(l.__experimentalText,{variant:"muted",className:"dataviews-settings-section__description",children:t})]}),(0,i.jsx)(l.__experimentalGrid,{columns:8,gap:4,className:"dataviews-settings-section__content",children:n})]})}function Ha(){const{view:e}=(0,s.useContext)(Z),t=(0,m.useInstanceId)(qa,"dataviews-view-config-dropdown"),n=dt.find((t=>t.type===e.type));return(0,i.jsx)(l.Dropdown,{expandOnMobile:!0,popoverProps:{...Aa,id:t},renderToggle:({onToggle:e,isOpen:n})=>(0,i.jsx)(l.Button,{size:"compact",icon:Na,label:(0,c._x)("View options","View is used as a noun"),onClick:e,"aria-expanded":n?"true":"false","aria-controls":t}),renderContent:()=>(0,i.jsx)(l.__experimentalDropdownContentWrapper,{paddingSize:"medium",className:"dataviews-config__popover-content-wrapper",children:(0,i.jsx)(l.__experimentalVStack,{className:"dataviews-view-config",spacing:6,children:(0,i.jsxs)(Ba,{title:(0,c.__)("Appearance"),children:[(0,i.jsxs)(l.__experimentalHStack,{expanded:!0,className:"is-divided-in-two",children:[(0,i.jsx)(La,{}),(0,i.jsx)(za,{})]}),!!n?.viewConfigOptions&&(0,i.jsx)(n.viewConfigOptions,{}),(0,i.jsx)(Oa,{}),(0,i.jsx)(Da,{}),(0,i.jsx)(We,{})]})})})})}function qa(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ta,{}),(0,i.jsx)(Ha,{})]})}var Ra=(0,s.memo)(qa);function Wa({item:e,field:t}){const{elements:n,isLoading:i}=Gr({elements:t.elements,getElements:t.getElements}),r=t.getValue({item:e});return i||0===n.length?r:n?.find((e=>e.value===r))?.label||t.getValue({item:e})}var $a=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ua={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||$a.test(n)?null:(0,c.__)("Value must be a valid email address.")}},Edit:"email",render:({item:e,field:t})=>t.hasElements?(0,i.jsx)(Wa,{item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[x,w],validOperators:[g,b,F,M,O,x,w,y,_]}},Ka={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||Number.isInteger(n)?null:(0,c.__)("Value must be an integer.")}},Edit:"integer",render:({item:e,field:t})=>t.hasElements?(0,i.jsx)(Wa,{item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[g,b,j,C,S,k,P],validOperators:[g,b,j,C,S,k,P,x,w,y,_]}},Ga={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return function(e){return""===e||null==e}(n)||Number.isFinite(n)?null:(0,c.__)("Value must be a number.")}},Edit:"number",render:({item:e,field:t})=>{t.hasElements;const n=t.getValue({item:e});return[null,void 0].includes(n)?null:Number(n).toFixed(2)},enableSorting:!0,filterBy:{defaultOperators:[g,b,j,C,S,k,P],validOperators:[g,b,j,C,S,k,P,x,w,y,_]}},Ya={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:{elements:!0,custom:()=>null},Edit:"text",render:({item:e,field:t})=>t.hasElements?(0,i.jsx)(Wa,{item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[x,w],validOperators:[g,b,F,M,O,x,w,y,_]}},Za={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},isValid:{elements:!0,custom:()=>null},Edit:"datetime",render:({item:e,field:t})=>{if(t.elements)return(0,i.jsx)(Wa,{item:e,field:t});const n=t.getValue({item:e});if(["",void 0,null].includes(n))return null;try{const e=fa(n);return e?.toLocaleString()}catch(e){return null}},enableSorting:!0,filterBy:{defaultOperators:[A,T,I,V,E,N,L,z],validOperators:[A,T,I,V,E,N,L,z]}},Xa={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},Edit:"date",isValid:{elements:!0,custom:()=>null},render:({item:e,field:t})=>{if(t.hasElements)return(0,i.jsx)(Wa,{item:e,field:t});const n=t.getValue({item:e});return n?(r=n,(0,da.dateI18n)((0,da.getSettings)().formats.date,(0,da.getDate)(r))):"";var r},enableSorting:!0,filterBy:{defaultOperators:[A,T,I,V,E,N,L,z,P],validOperators:[A,T,I,V,E,N,L,z,P]}},Qa={sort:function(e,t,n){const i=Boolean(e);return i===Boolean(t)?0:"asc"===n?i?1:-1:i?-1:1},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||[!0,!1].includes(n)?null:(0,c.__)("Value must be true, false, or undefined")}},Edit:"checkbox",render:({item:e,field:t})=>t.hasElements?(0,i.jsx)(Wa,{item:e,field:t}):!0===t.getValue({item:e})?(0,c.__)("True"):!1===t.getValue({item:e})?(0,c.__)("False"):null,enableSorting:!0,filterBy:{defaultOperators:[g,b],validOperators:[g,b]}},Ja={sort:function(){return 0},isValid:{elements:!0,custom:()=>null},Edit:null,render:()=>null,enableSorting:!1,filterBy:!1},el={sort:function(e,t,n){const i=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[];if(i.length!==r.length)return"asc"===n?i.length-r.length:r.length-i.length;const a=i.join(","),l=r.join(",");return"asc"===n?a.localeCompare(l):l.localeCompare(a)},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||Array.isArray(n)?n.every((e=>"string"==typeof e))?null:(0,c.__)("Every value must be a string."):(0,c.__)("Value must be an array.")}},Edit:"array",render:function({item:e,field:t}){return(t.getValue({item:e})||[]).join(", ")},enableSorting:!0,filterBy:{defaultOperators:[x,w],validOperators:[x,w,y,_]}},tl=el,nl={sort:function(e,t,n){return 0},isValid:{elements:!0,custom:()=>null},Edit:"password",render:({item:e,field:t})=>t.hasElements?(0,i.jsx)(Wa,{item:e,field:t}):"••••••••",enableSorting:!1,filterBy:!1},il={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:{elements:!0,custom:()=>null},Edit:"telephone",render:({item:e,field:t})=>t.hasElements?(0,i.jsx)(Wa,{item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[x,w],validOperators:[g,b,F,M,O,x,w,y,_]}},rl={grad:.9,turn:360,rad:360/(2*Math.PI)},al=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},ll=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},sl=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},ol=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},ul=function(e){return{r:sl(e.r,0,255),g:sl(e.g,0,255),b:sl(e.b,0,255),a:sl(e.a)}},cl=function(e){return{r:ll(e.r),g:ll(e.g),b:ll(e.b),a:ll(e.a,3)}},dl=/^#([0-9a-f]{3,8})$/i,fl=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},ml=function(e){var t=e.r,n=e.g,i=e.b,r=e.a,a=Math.max(t,n,i),l=a-Math.min(t,n,i),s=l?a===t?(n-i)/l:a===n?2+(i-t)/l:4+(t-n)/l:0;return{h:60*(s<0?s+6:s),s:a?l/a*100:0,v:a/255*100,a:r}},vl=function(e){var t=e.h,n=e.s,i=e.v,r=e.a;t=t/360*6,n/=100,i/=100;var a=Math.floor(t),l=i*(1-n),s=i*(1-(t-a)*n),o=i*(1-(1-t+a)*n),u=a%6;return{r:255*[i,s,l,l,o,i][u],g:255*[o,i,i,s,l,l][u],b:255*[l,l,o,i,i,s][u],a:r}},pl=function(e){return{h:ol(e.h),s:sl(e.s,0,100),l:sl(e.l,0,100),a:sl(e.a)}},hl=function(e){return{h:ll(e.h),s:ll(e.s),l:ll(e.l),a:ll(e.a,3)}},gl=function(e){return vl((n=(t=e).s,{h:t.h,s:(n*=((i=t.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:t.a}));var t,n,i},bl=function(e){return{h:(t=ml(e)).h,s:(r=(200-(n=t.s))*(i=t.v)/100)>0&&r<200?n*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,n,i,r},xl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_l=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jl={string:[[function(e){var t=dl.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?ll(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?ll(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=yl.exec(e)||_l.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:ul({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=xl.exec(e)||wl.exec(e);if(!t)return null;var n,i,r=pl({h:(n=t[1],i=t[2],void 0===i&&(i="deg"),Number(n)*(rl[i]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return gl(r)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,r=e.a,a=void 0===r?1:r;return al(t)&&al(n)&&al(i)?ul({r:Number(t),g:Number(n),b:Number(i),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,r=e.a,a=void 0===r?1:r;if(!al(t)||!al(n)||!al(i))return null;var l=pl({h:Number(t),s:Number(n),l:Number(i),a:Number(a)});return gl(l)},"hsl"],[function(e){var t=e.h,n=e.s,i=e.v,r=e.a,a=void 0===r?1:r;if(!al(t)||!al(n)||!al(i))return null;var l=function(e){return{h:ol(e.h),s:sl(e.s,0,100),v:sl(e.v,0,100),a:sl(e.a)}}({h:Number(t),s:Number(n),v:Number(i),a:Number(a)});return vl(l)},"hsv"]]},Cl=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},Sl=function(e,t){var n=bl(e);return{h:n.h,s:sl(n.s+100*t,0,100),l:n.l,a:n.a}},kl=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Il=function(e,t){var n=bl(e);return{h:n.h,s:n.s,l:sl(n.l+100*t,0,100),a:n.a}},Vl=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Cl(e.trim(),jl.string):"object"==typeof e&&null!==e?Cl(e,jl.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return ll(kl(this.rgba),2)},e.prototype.isDark=function(){return kl(this.rgba)<.5},e.prototype.isLight=function(){return kl(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=cl(this.rgba)).r,n=e.g,i=e.b,a=(r=e.a)<1?fl(ll(255*r)):"","#"+fl(t)+fl(n)+fl(i)+a;var e,t,n,i,r,a},e.prototype.toRgb=function(){return cl(this.rgba)},e.prototype.toRgbString=function(){return t=(e=cl(this.rgba)).r,n=e.g,i=e.b,(r=e.a)<1?"rgba("+t+", "+n+", "+i+", "+r+")":"rgb("+t+", "+n+", "+i+")";var e,t,n,i,r},e.prototype.toHsl=function(){return hl(bl(this.rgba))},e.prototype.toHslString=function(){return t=(e=hl(bl(this.rgba))).h,n=e.s,i=e.l,(r=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+r+")":"hsl("+t+", "+n+"%, "+i+"%)";var e,t,n,i,r},e.prototype.toHsv=function(){return e=ml(this.rgba),{h:ll(e.h),s:ll(e.s),v:ll(e.v),a:ll(e.a,3)};var e},e.prototype.invert=function(){return El({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),El(Sl(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),El(Sl(this.rgba,-e))},e.prototype.grayscale=function(){return El(Sl(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),El(Il(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),El(Il(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?El({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):ll(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=bl(this.rgba);return"number"==typeof e?El({h:e,s:t.s,l:t.l,a:t.a}):ll(t.h)},e.prototype.isEqual=function(e){return this.toHex()===El(e).toHex()},e}(),El=function(e){return e instanceof Vl?e:new Vl(e)},Nl={sort:function(e,t,n){const i=El(e),r=El(t);if(!i.isValid()&&!r.isValid())return 0;if(!i.isValid())return"asc"===n?1:-1;if(!r.isValid())return"asc"===n?-1:1;const a=i.toHsl(),l=r.toHsl();return a.h!==l.h?"asc"===n?a.h-l.h:l.h-a.h:a.s!==l.s?"asc"===n?a.s-l.s:l.s-a.s:"asc"===n?a.l-l.l:l.l-a.l},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||El(n).isValid()?null:(0,c.__)("Value must be a valid color.")}},Edit:"color",render:({item:e,field:t})=>{if(t.hasElements)return(0,i.jsx)(Wa,{item:e,field:t});const n=t.getValue({item:e});return n&&El(n).isValid()?(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,i.jsx)("div",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:n,border:"1px solid #ddd",flexShrink:0}}),(0,i.jsx)("span",{children:n})]}):n},enableSorting:!0,filterBy:{defaultOperators:[x,w],validOperators:[g,b]}},Fl={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:{elements:!0,custom:()=>null},Edit:"url",render:({item:e,field:t})=>t.hasElements?(0,i.jsx)(Wa,{item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[x,w],validOperators:[g,b,F,M,O,x,w,y,_]}};function Ml(e,t){let n;return e?.required&&t?.required?n=t?.required?.message?t.required:void 0:e?.elements&&t?.elements?n=t.elements:t?.custom&&(n=t.custom),n}var{ValidatedCheckboxControl:Ol}=ue(l.privateApis);const Pl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Al(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Tl={date:Al({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Al({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Al({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ll={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function zl(e){return(t,n)=>{let i;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}return i[e.argumentCallback?e.argumentCallback(t):t]}}function Dl(e){return(t,n={})=>{const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const l=a[0],s=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(s)?function(e){for(let t=0;t<e.length;t++)if(e[t].test(l))return t}(s):function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(l))return t}(s);let u;return u=e.valueCallback?e.valueCallback(o):o,u=n.valueCallback?n.valueCallback(u):u,{value:u,rest:t.slice(l.length)}}}var Bl;const Hl={code:"en-US",formatDistance:(e,t,n)=>{let i;const r=Pl[e];return i="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:Tl,formatRelative:(e,t,n,i)=>Ll[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:zl({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:zl({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:zl({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:zl({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:zl({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Bl={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(Bl.matchPattern);if(!n)return null;const i=n[0],r=e.match(Bl.parsePattern);if(!r)return null;let a=Bl.valueCallback?Bl.valueCallback(r[0]):r[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(i.length)}}),era:Dl({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Dl({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Dl({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Dl({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Dl({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let ql={};function Rl(){return ql}function Wl(e){const t=ua(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function $l(e,t){const n=ua(e,t?.in);return n.setHours(0,0,0,0),n}function Ul(e,t){const n=ua(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Kl(e,t){const n=ua(e,t?.in);return function(e,t,n){const[i,r]=function(e,...t){const n=oa.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(n)}(n?.in,e,t),a=$l(i),l=$l(r),s=+a-Wl(a),o=+l-Wl(l);return Math.round((s-o)/864e5)}(n,Ul(n))+1}function Gl(e,t){const n=Rl(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ua(e,t?.in),a=r.getDay(),l=(a<i?7:0)+a-i;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function Yl(e,t){return Gl(e,{...t,weekStartsOn:1})}function Zl(e,t){const n=ua(e,t?.in),i=n.getFullYear(),r=oa(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const a=Yl(r),l=oa(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const s=Yl(l);return n.getTime()>=a.getTime()?i+1:n.getTime()>=s.getTime()?i:i-1}function Xl(e,t){const n=ua(e,t?.in),i=+Yl(n)-+function(e,t){const n=Zl(e,t),i=oa(t?.in||e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Yl(i)}(n);return Math.round(i/la)+1}function Ql(e,t){const n=ua(e,t?.in),i=n.getFullYear(),r=Rl(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=oa(t?.in||e,0);l.setFullYear(i+1,0,a),l.setHours(0,0,0,0);const s=Gl(l,t),o=oa(t?.in||e,0);o.setFullYear(i,0,a),o.setHours(0,0,0,0);const u=Gl(o,t);return+n>=+s?i+1:+n>=+u?i:i-1}function Jl(e,t){const n=ua(e,t?.in),i=+Gl(n,t)-+function(e,t){const n=Rl(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Ql(e,t),a=oa(t?.in||e,0);return a.setFullYear(r,0,i),a.setHours(0,0,0,0),Gl(a,t)}(n,t);return Math.round(i/la)+1}function es(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const ts={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return es("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):es(n+1,2)},d:(e,t)=>es(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>es(e.getHours()%12||12,t.length),H:(e,t)=>es(e.getHours(),t.length),m:(e,t)=>es(e.getMinutes(),t.length),s:(e,t)=>es(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds();return es(Math.trunc(i*Math.pow(10,n-3)),t.length)}},ns={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),i=t>0?t:1-t;return n.ordinalNumber(i,{unit:"year"})}return ts.y(e,t)},Y:function(e,t,n,i){const r=Ql(e,i),a=r>0?r:1-r;return"YY"===t?es(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):es(a,t.length)},R:function(e,t){return es(Zl(e),t.length)},u:function(e,t){return es(e.getFullYear(),t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return es(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return es(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return ts.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return es(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const r=Jl(e,i);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):es(r,t.length)},I:function(e,t,n){const i=Xl(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):es(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):ts.d(e,t)},D:function(e,t,n){const i=Kl(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):es(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const r=e.getDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return es(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const r=e.getDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return es(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),r=0===i?7:i;switch(t){case"i":return String(r);case"ii":return es(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let r;switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let r;switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return ts.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):ts.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):es(i,t.length)},k:function(e,t,n){let i=e.getHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):es(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ts.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ts.s(e,t)},S:function(e,t){return ts.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return rs(i);case"XXXX":case"XX":return as(i);default:return as(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return rs(i);case"xxxx":case"xx":return as(i);default:return as(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+is(i,":");default:return"GMT"+as(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+is(i,":");default:return"GMT"+as(i,":")}},t:function(e,t,n){return es(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return es(+e,t.length)}};function is(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Math.trunc(i/60),a=i%60;return 0===a?n+String(r):n+String(r)+t+es(a,2)}function rs(e,t){return e%60==0?(e>0?"-":"+")+es(Math.abs(e)/60,2):as(e,t)}function as(e,t=""){const n=e>0?"-":"+",i=Math.abs(e);return n+es(Math.trunc(i/60),2)+t+es(i%60,2)}const ls=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},ss=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},os={p:ss,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return ls(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",ls(i,t)).replace("{{time}}",ss(r,t))}},us=/^D+$/,cs=/^Y+$/,ds=["D","DD","YY","YYYY"],fs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ms=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vs=/^'([^]*?)'?$/,ps=/''/g,hs=/[a-zA-Z]/;function gs(e,t,n){const i=Rl(),r=n?.locale??i.locale??Hl,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,s=ua(e,n?.in);if(!ca(s))throw new RangeError("Invalid time value");let o=t.match(ms).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,os[t])(e,r.formatLong):e})).join("").match(fs).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:bs(e)};if(ns[t])return{isToken:!0,value:e};if(t.match(hs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));r.localize.preprocessor&&(o=r.localize.preprocessor(s,o));const u={firstWeekContainsDate:a,weekStartsOn:l,locale:r};return o.map((i=>{if(!i.isToken)return i.value;const a=i.value;return(!n?.useAdditionalWeekYearTokens&&function(e){return cs.test(e)}(a)||!n?.useAdditionalDayOfYearTokens&&function(e){return us.test(e)}(a))&&function(e,t,n){const i=function(e,t,n){const i="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(i),ds.includes(e))throw new RangeError(i)}(a,t,String(e)),(0,ns[a[0]])(s,a,r.localize,u)})).join("")}function bs(e){const t=e.match(vs);return t?t[1].replace(ps,"'"):e}var xs={[L]:[{value:"days",label:(0,c.__)("Days")},{value:"weeks",label:(0,c.__)("Weeks")},{value:"months",label:(0,c.__)("Months")},{value:"years",label:(0,c.__)("Years")}],[z]:[{value:"days",label:(0,c.__)("Days ago")},{value:"weeks",label:(0,c.__)("Weeks ago")},{value:"months",label:(0,c.__)("Months ago")},{value:"years",label:(0,c.__)("Years ago")}]};function ws({className:e,data:t,field:n,onChange:r,hideLabelFromVision:a,operator:o}){const u=xs[o===L?"inThePast":"over"],{id:d,label:f,getValue:m,setValue:v}=n,p=m({item:t}),{value:h="",unit:g=u[0].value}=p&&"object"==typeof p?p:{},b=(0,s.useCallback)((e=>r(v({item:t,value:{value:Number(e),unit:g}}))),[r,v,t,g]),x=(0,s.useCallback)((e=>r(v({item:t,value:{value:h,unit:e}}))),[r,v,t,h]);return(0,i.jsx)(l.BaseControl,{id:d,__nextHasNoMarginBottom:!0,className:ne(e,"dataviews-controls__relative-date"),label:f,hideLabelFromVision:a,children:(0,i.jsxs)(l.__experimentalHStack,{spacing:2.5,children:[(0,i.jsx)(l.__experimentalNumberControl,{__next40pxDefaultSize:!0,className:"dataviews-controls__relative-date-number",spinControls:"none",min:1,step:1,value:h,onChange:b}),(0,i.jsx)(l.SelectControl,{className:"dataviews-controls__relative-date-unit",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,c.__)("Unit"),value:g,options:u,onChange:x,hideLabelFromVision:!0})]})})}var{DateCalendar:ys,ValidatedInputControl:_s}=ue(l.privateApis);function js({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const{id:o,label:u,description:d,setValue:f,getValue:m,isValid:v}=t,p=m({item:e}),h="string"==typeof p?p:void 0,[g,b]=(0,s.useState)((()=>fa(h)||new Date)),x=(0,s.useRef)(null),w=(0,s.useRef)(),y=(0,s.useRef)(null),_=(0,s.useCallback)((t=>n(f({item:e,value:t}))),[e,n,f]);(0,s.useEffect)((()=>()=>{w.current&&clearTimeout(w.current)}),[]);const j=(0,s.useCallback)((e=>{let t;if(e){let n=e;if(h){const t=fa(h);t&&(n=new Date(e),n.setHours(t.getHours()),n.setMinutes(t.getMinutes()))}t=n.toISOString(),_(t),w.current&&clearTimeout(w.current)}else _(void 0);y.current=x.current&&x.current.ownerDocument.activeElement,w.current=setTimeout((()=>{x.current&&(x.current.focus(),x.current.blur(),_(t),y.current&&y.current instanceof HTMLElement&&y.current.focus())}),0)}),[_,h]),C=(0,s.useCallback)((e=>{if(e){const t=new Date(e);_(t.toISOString());const n=fa(t.toISOString());n&&b(n)}else _(void 0)}),[_]),{timezone:{string:S},l10n:{startOfWeek:k}}=(0,da.getSettings)(),I=v?.required&&!r?`${u} (${(0,c.__)("Required")})`:u;return(0,i.jsx)(l.BaseControl,{__nextHasNoMarginBottom:!0,id:o,label:I,help:d,hideLabelFromVision:r,children:(0,i.jsxs)(l.__experimentalVStack,{spacing:4,children:[(0,i.jsx)(ys,{style:{width:"100%"},selected:h&&fa(h)||void 0,onSelect:j,month:g,onMonthChange:b,timeZone:S||void 0,weekStartsOn:k}),(0,i.jsx)(_s,{ref:x,__next40pxDefaultSize:!0,required:!!v?.required,customValidity:Ml(v,a),type:"datetime-local",label:(0,c.__)("Date time"),hideLabelFromVision:!0,value:h?(V=fa(h)||void 0,V?"string"==typeof V?V:gs(V,"yyyy-MM-dd'T'HH:mm"):""):"",onChange:C})]})});var V}function Cs(e,t,n){return function(e,t,n){const i=ua(e,n?.in);return isNaN(t)?oa(n?.in||e,NaN):t?(i.setDate(i.getDate()+t),i):i}(e,-t,n)}function Ss(e,t,n){const i=ua(e,n?.in);if(isNaN(t))return oa(n?.in||e,NaN);if(!t)return i;const r=i.getDate(),a=oa(n?.in||e,i.getTime());return a.setMonth(i.getMonth()+t+1,0),r>=a.getDate()?a:(i.setFullYear(a.getFullYear(),a.getMonth(),r),i)}function ks(e,t){const n=ua(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Is(e,t,n){return function(e,t,n){return Ss(e,12*t,n)}(e,-t,n)}var Vs=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12.218 5.377a.25.25 0 0 0-.436 0l-7.29 12.96a.25.25 0 0 0 .218.373h14.58a.25.25 0 0 0 .218-.372l-7.29-12.96Zm-1.743-.735c.669-1.19 2.381-1.19 3.05 0l7.29 12.96a1.75 1.75 0 0 1-1.525 2.608H4.71a1.75 1.75 0 0 1-1.525-2.608l7.29-12.96ZM12.75 17.46h-1.5v-1.5h1.5v1.5Zm-1.5-3h1.5v-5h-1.5v5Z"})}),{DateCalendar:Es,DateRangeCalendar:Ns}=ue(l.privateApis),Fs=[{id:"today",label:(0,c.__)("Today"),getValue:()=>(0,da.getDate)(null)},{id:"yesterday",label:(0,c.__)("Yesterday"),getValue:()=>Cs((0,da.getDate)(null),1)},{id:"past-week",label:(0,c.__)("Past week"),getValue:()=>Cs((0,da.getDate)(null),7)},{id:"past-month",label:(0,c.__)("Past month"),getValue:()=>{return Ss((0,da.getDate)(null),-1,e);var e}}],Ms=[{id:"last-7-days",label:(0,c.__)("Last 7 days"),getValue:()=>{const e=(0,da.getDate)(null);return[Cs(e,7),e]}},{id:"last-30-days",label:(0,c.__)("Last 30 days"),getValue:()=>{const e=(0,da.getDate)(null);return[Cs(e,30),e]}},{id:"month-to-date",label:(0,c.__)("Month to date"),getValue:()=>{const e=(0,da.getDate)(null);return[ks(e),e]}},{id:"last-year",label:(0,c.__)("Last year"),getValue:()=>{const e=(0,da.getDate)(null);return[Is(e,1),e]}},{id:"year-to-date",label:(0,c.__)("Year to date"),getValue:()=>{const e=(0,da.getDate)(null);return[Ul(e),e]}}],Os=e=>{if(!e)return null;const t=(0,da.getDate)(e);return t&&ca(t)?t:null},Ps=e=>e?"string"==typeof e?e:gs(e,"yyyy-MM-dd"):"";function As({field:e,validity:t,inputRefs:n,isTouched:r,setIsTouched:a,children:o}){const{isValid:u}=e,[c,d]=(0,s.useState)(void 0),f=(0,s.useCallback)((()=>{const e=Array.isArray(n)?n:[n];for(const t of e){const e=t.current;if(e&&!e.validity.valid)return void d({type:"invalid",message:e.validationMessage})}d(void 0)}),[n]);return(0,s.useEffect)((()=>{if(r){const e=setTimeout((()=>{t?d(Ml(u,t)):f()}),0);return()=>clearTimeout(e)}}),[r,u,t,f]),(0,i.jsxs)("div",{onBlur:e=>{r||e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||a(!0)},children:[o,(0,i.jsx)("div",{"aria-live":"polite",children:c&&(0,i.jsxs)("p",{className:ne("components-validated-control__indicator","invalid"===c.type?"is-invalid":void 0,"valid"===c.type?"is-valid":void 0),children:[(0,i.jsx)(l.Icon,{className:"components-validated-control__indicator-icon",icon:Vs,size:16,fill:"currentColor"}),c.message]})})]})}function Ts({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const{id:o,label:u,setValue:d,getValue:f,isValid:m}=t,[v,p]=(0,s.useState)(null),h=f({item:e}),g="string"==typeof h?h:void 0,[b,x]=(0,s.useState)((()=>Os(g)||new Date)),[w,y]=(0,s.useState)(!1),_=(0,s.useRef)(null),j=(0,s.useCallback)((t=>n(d({item:e,value:t}))),[e,n,d]),C=(0,s.useCallback)((e=>{const t=e?gs(e,"yyyy-MM-dd"):void 0;j(t),p(null),y(!0)}),[j]),S=(0,s.useCallback)((e=>{const t=e.getValue(),n=Ps(t);x(t),j(n),p(e.id),y(!0)}),[j]),k=(0,s.useCallback)((e=>{if(j(e),e){const t=Os(e);t&&x(t)}p(null),y(!0)}),[j]),{timezone:{string:I},l10n:{startOfWeek:V}}=(0,da.getSettings)(),E=m?.required?`${u} (${(0,c.__)("Required")})`:u;return(0,i.jsx)(As,{field:t,validity:a,inputRefs:_,isTouched:w,setIsTouched:y,children:(0,i.jsx)(l.BaseControl,{__nextHasNoMarginBottom:!0,id:o,className:"dataviews-controls__date",label:E,hideLabelFromVision:r,children:(0,i.jsxs)(l.__experimentalVStack,{spacing:4,children:[(0,i.jsxs)(l.__experimentalHStack,{spacing:2,wrap:!0,justify:"flex-start",children:[Fs.map((e=>{const t=v===e.id;return(0,i.jsx)(l.Button,{className:"dataviews-controls__date-preset",variant:"tertiary",isPressed:t,size:"small",onClick:()=>S(e),children:e.label},e.id)})),(0,i.jsx)(l.Button,{className:"dataviews-controls__date-preset",variant:"tertiary",isPressed:!v,size:"small",disabled:!!v,accessibleWhenDisabled:!1,children:(0,c.__)("Custom")})]}),(0,i.jsx)(l.__experimentalInputControl,{__next40pxDefaultSize:!0,ref:_,type:"date",label:(0,c.__)("Date"),hideLabelFromVision:!0,value:g,onChange:k,required:!!t.isValid?.required}),(0,i.jsx)(Es,{style:{width:"100%"},selected:g&&Os(g)||void 0,onSelect:C,month:b,onMonthChange:x,timeZone:I||void 0,weekStartsOn:V})]})})})}function Ls({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const{id:o,label:u,getValue:d,setValue:f}=t;let m;const v=d({item:e});Array.isArray(v)&&2===v.length&&v.every((e=>"string"==typeof e))&&(m=v);const p=(0,s.useCallback)((t=>{n(f({item:e,value:t}))}),[e,n,f]),[h,g]=(0,s.useState)(null),b=(0,s.useMemo)((()=>{if(!m)return{from:void 0,to:void 0};const[e,t]=m;return{from:Os(e)||void 0,to:Os(t)||void 0}}),[m]),[x,w]=(0,s.useState)((()=>b.from||new Date)),[y,_]=(0,s.useState)(!1),j=(0,s.useRef)(null),C=(0,s.useRef)(null),S=(0,s.useCallback)(((e,t)=>{e&&t?p([Ps(e),Ps(t)]):e||t||p(void 0)}),[p]),k=(0,s.useCallback)((e=>{S(e?.from,e?.to),g(null),_(!0)}),[S]),I=(0,s.useCallback)((e=>{const[t,n]=e.getValue();w(t),S(t,n),g(e.id),_(!0)}),[S]),V=(0,s.useCallback)(((e,t)=>{const[n,i]=m||[void 0,void 0];if(S("from"===e?t:n,"to"===e?t:i),t){const e=Os(t);e&&w(e)}g(null),_(!0)}),[m,S]),{timezone:E,l10n:N}=(0,da.getSettings)(),F=t.isValid?.required?`${u} (${(0,c.__)("Required")})`:u;return(0,i.jsx)(As,{field:t,validity:a,inputRefs:[j,C],isTouched:y,setIsTouched:_,children:(0,i.jsx)(l.BaseControl,{__nextHasNoMarginBottom:!0,id:o,className:"dataviews-controls__date",label:F,hideLabelFromVision:r,children:(0,i.jsxs)(l.__experimentalVStack,{spacing:4,children:[(0,i.jsxs)(l.__experimentalHStack,{spacing:2,wrap:!0,justify:"flex-start",children:[Ms.map((e=>{const t=h===e.id;return(0,i.jsx)(l.Button,{className:"dataviews-controls__date-preset",variant:"tertiary",isPressed:t,size:"small",onClick:()=>I(e),children:e.label},e.id)})),(0,i.jsx)(l.Button,{className:"dataviews-controls__date-preset",variant:"tertiary",isPressed:!h,size:"small",accessibleWhenDisabled:!1,disabled:!!h,children:(0,c.__)("Custom")})]}),(0,i.jsxs)(l.__experimentalHStack,{spacing:2,children:[(0,i.jsx)(l.__experimentalInputControl,{__next40pxDefaultSize:!0,ref:j,type:"date",label:(0,c.__)("From"),hideLabelFromVision:!0,value:m?.[0],onChange:e=>V("from",e),required:!!t.isValid?.required}),(0,i.jsx)(l.__experimentalInputControl,{__next40pxDefaultSize:!0,ref:C,type:"date",label:(0,c.__)("To"),hideLabelFromVision:!0,value:m?.[1],onChange:e=>V("to",e),required:!!t.isValid?.required})]}),(0,i.jsx)(Ns,{style:{width:"100%"},selected:b,onSelect:k,month:x,onMonthChange:w,timeZone:E.string||void 0,weekStartsOn:N.startOfWeek})]})})})}var zs=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{d:"M12.5939 21C14.1472 21 16.1269 20.5701 17.0711 20.1975L16.6447 18.879C16.0964 19.051 14.3299 19.6242 12.6548 19.6242C7.4467 19.6242 4.67513 16.8726 4.67513 12C4.67513 7.21338 7.50762 4.34713 12.2893 4.34713C17.132 4.34713 19.4162 7.55732 19.4162 10.7675C19.4162 14.035 19.0508 15.4968 17.4975 15.4968C16.5838 15.4968 16.0964 14.7803 16.0964 13.9777V7.5H14.4822V8.30255H14.3909C14.1777 7.67198 12.9898 7.12739 11.467 7.2707C9.18274 7.5 7.4467 9.27707 7.4467 11.8567C7.4467 14.5796 8.81726 16.672 11.467 16.758C13.203 16.8153 14.1168 16.0127 14.4822 15.1815H14.5736C14.7563 16.414 16.401 16.8439 17.467 16.8439C20.6954 16.8439 21 13.5764 21 10.7962C21 6.86943 18.0761 3 12.3807 3C6.50254 3 3 6.3535 3 11.9427C3 17.7325 6.38071 21 12.5939 21ZM11.7107 15.2962C9.73096 15.2962 9.03046 13.6051 9.03046 11.7707C9.03046 10.1083 10.0355 8.67516 11.7716 8.67516C13.599 8.67516 14.5736 9.36306 14.5736 11.7707C14.5736 14.1497 13.7513 15.2962 11.7107 15.2962Z"})}),{ValidatedInputControl:Ds}=ue(l.privateApis);function Bs({data:e,field:t,onChange:n,hideLabelFromVision:r,type:a,prefix:l,suffix:o,validity:u}){const{label:c,placeholder:d,description:f,getValue:m,setValue:v,isValid:p}=t,h=m({item:e}),g=(0,s.useCallback)((t=>n(v({item:e,value:t}))),[e,v,n]);return(0,i.jsx)(Ds,{required:!!p?.required,customValidity:Ml(p,u),label:c,placeholder:d,value:h??"",help:f,onChange:g,hideLabelFromVision:r,type:a,prefix:l,suffix:o,__next40pxDefaultSize:!0})}var Hs=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),qs=(0,i.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(v.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),{ValidatedNumberControl:Rs}=ue(l.privateApis);function Ws(e){if(""===e||void 0===e)return"";const t=Number(e);return Number.isFinite(t)?t:""}function $s({value:e,onChange:t,hideLabelFromVision:n,step:r}){const[a="",o=""]=e,u=(0,s.useCallback)((e=>t([Ws(e),o])),[t,o]),d=(0,s.useCallback)((e=>t([a,Ws(e)])),[t,a]);return(0,i.jsx)(l.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,c.__)("The max. value must be greater than the min. value."),children:(0,i.jsxs)(l.Flex,{direction:"row",gap:4,children:[(0,i.jsx)(l.__experimentalNumberControl,{label:(0,c.__)("Min."),value:a,max:o?Number(o)-r:void 0,onChange:u,__next40pxDefaultSize:!0,hideLabelFromVision:n,step:r}),(0,i.jsx)(l.__experimentalNumberControl,{label:(0,c.__)("Max."),value:o,min:a?Number(a)+r:void 0,onChange:d,__next40pxDefaultSize:!0,hideLabelFromVision:n,step:r})]})})}function Us({data:e,field:t,onChange:n,hideLabelFromVision:r,operator:a,decimals:l,validity:o}){const u=Math.pow(10,-1*Math.abs(l)),{label:c,description:d,getValue:f,setValue:m,isValid:v}=t,p=f({item:e})??"",h=(0,s.useCallback)((t=>{n(m({item:e,value:["",void 0].includes(t)?void 0:Number(t)}))}),[e,n,m]),g=(0,s.useCallback)((t=>{n(m({item:e,value:t}))}),[e,n,m]);if(a===P){let e=["",""];return Array.isArray(p)&&2===p.length&&p.every((e=>"number"==typeof e||""===e))&&(e=p),(0,i.jsx)($s,{value:e,onChange:g,hideLabelFromVision:r,step:u})}return(0,i.jsx)(Rs,{required:!!v?.required,customValidity:Ml(v,o),label:c,help:d,value:p,onChange:h,__next40pxDefaultSize:!0,hideLabelFromVision:r,step:u})}var{ValidatedRadioControl:Ks}=ue(l.privateApis),{ValidatedSelectControl:Gs}=ue(l.privateApis),{ValidatedToggleControl:Ys}=ue(l.privateApis),{ValidatedTextareaControl:Zs}=ue(l.privateApis),{ValidatedToggleGroupControl:Xs}=ue(l.privateApis),{ValidatedFormTokenField:Qs}=ue(l.privateApis),{ValidatedInputControl:Js,Picker:eo}=ue(l.privateApis),to=({color:e,onColorChange:t})=>{const n=e&&El(e).isValid()?e:"#ffffff";return(0,i.jsx)(l.Dropdown,{renderToggle:({onToggle:e,isOpen:t})=>(0,i.jsx)(l.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,i.jsx)("button",{type:"button",onClick:e,style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:n,border:"1px solid #ddd",cursor:"pointer",outline:t?"2px solid #007cba":"none",outlineOffset:"2px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,margin:0},"aria-label":"Open color picker"})}),renderContent:()=>(0,i.jsx)("div",{style:{padding:"16px"},children:(0,i.jsx)(eo,{color:El(n),onChange:t,enableAlpha:!0})})})},no=(0,i.jsx)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(v.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})});function io(e){return Array.isArray(e.elements)&&e.elements.length>0||"function"==typeof e.getElements}var ro={array:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const{label:o,placeholder:u,getValue:c,setValue:d,isValid:f}=t,m=c({item:e}),{elements:v,isLoading:p}=Gr({elements:t.elements,getElements:t.getElements}),h=(0,s.useMemo)((()=>Array.isArray(m)?m.map((e=>{const t=v?.find((t=>t.value===e));return t||{value:e,label:e}})):[]),[m,v]),g=(0,s.useCallback)((t=>{const i=t.map((e=>"object"==typeof e&&"value"in e?e.value:e));n(d({item:e,value:i}))}),[n,d,e]);return p?(0,i.jsx)(l.Spinner,{}):(0,i.jsx)(Qs,{required:!!f?.required,customValidity:Ml(f,a),label:r?void 0:o,value:h,onChange:g,placeholder:u,suggestions:v?.map((e=>e.value)),__experimentalValidateInput:e=>!t.isValid?.elements||!v||v.some((t=>t.value===e||t.label===e)),__experimentalExpandOnFocus:v&&v.length>0,__experimentalShowHowTo:!t.isValid?.elements,displayTransform:e=>{if("object"==typeof e&&"label"in e)return e.label;if("string"==typeof e&&v){const t=v.find((t=>t.value===e));return t?.label||e}return e},__experimentalRenderItem:({item:e})=>{if("string"==typeof e&&v){const t=v.find((t=>t.value===e));return(0,i.jsx)("span",{children:t?.label||e})}return(0,i.jsx)("span",{children:e})}})},checkbox:function({field:e,onChange:t,data:n,hideLabelFromVision:r,validity:a}){const{getValue:l,setValue:o,label:u,description:c,isValid:d}=e,f=(0,s.useCallback)((()=>{t(o({item:n,value:!l({item:n})}))}),[n,l,t,o]);return(0,i.jsx)(Ol,{required:!!e.isValid?.required,customValidity:Ml(d,a),hidden:r,label:u,help:c,checked:l({item:n}),onChange:f})},color:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const{label:l,placeholder:o,description:u,setValue:c,isValid:d}=t,f=t.getValue({item:e})||"",m=(0,s.useCallback)((t=>{n(c({item:e,value:t.toHex()}))}),[e,n,c]),v=(0,s.useCallback)((t=>{n(c({item:e,value:t||""}))}),[e,n,c]);return(0,i.jsx)(Js,{required:!!t.isValid?.required,customValidity:Ml(d,a),label:l,placeholder:o,value:f,help:u,onChange:v,hideLabelFromVision:r,type:"text",prefix:(0,i.jsx)(to,{color:f,onColorChange:m})})},datetime:function({data:e,field:t,onChange:n,hideLabelFromVision:r,operator:a,validity:l}){return a===L||a===z?(0,i.jsx)(ws,{className:"dataviews-controls__datetime",data:e,field:t,onChange:n,hideLabelFromVision:r,operator:a}):(0,i.jsx)(js,{data:e,field:t,onChange:n,hideLabelFromVision:r,validity:l})},date:function({data:e,field:t,onChange:n,hideLabelFromVision:r,operator:a,validity:l}){return a===L||a===z?(0,i.jsx)(ws,{className:"dataviews-controls__date",data:e,field:t,onChange:n,hideLabelFromVision:r,operator:a}):a===P?(0,i.jsx)(Ls,{data:e,field:t,onChange:n,hideLabelFromVision:r,validity:l}):(0,i.jsx)(Ts,{data:e,field:t,onChange:n,hideLabelFromVision:r,validity:l})},email:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){return(0,i.jsx)(Bs,{data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a,type:"email",prefix:(0,i.jsx)(l.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,i.jsx)(l.Icon,{icon:zs})})})},telephone:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){return(0,i.jsx)(Bs,{data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a,type:"tel",prefix:(0,i.jsx)(l.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,i.jsx)(l.Icon,{icon:Hs})})})},url:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){return(0,i.jsx)(Bs,{data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a,type:"url",prefix:(0,i.jsx)(l.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,i.jsx)(l.Icon,{icon:qs})})})},integer:function(e){return(0,i.jsx)(Us,{...e,decimals:0})},number:function(e){return(0,i.jsx)(Us,{...e,decimals:2})},password:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const[o,u]=(0,s.useState)(!1),d=(0,s.useCallback)((()=>{u((e=>!e))}),[]);return(0,i.jsx)(Bs,{data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a,type:o?"text":"password",suffix:(0,i.jsx)(l.__experimentalInputControlSuffixWrapper,{variant:"control",children:(0,i.jsx)(l.Button,{icon:o?Oe:no,onClick:d,size:"small",label:o?(0,c.__)("Hide password"):(0,c.__)("Show password")})})})},radio:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const{label:o,description:u,getValue:c,setValue:d,isValid:f}=t,{elements:m,isLoading:v}=Gr({elements:t.elements,getElements:t.getElements}),p=c({item:e}),h=(0,s.useCallback)((t=>n(d({item:e,value:t}))),[e,n,d]);return v?(0,i.jsx)(l.Spinner,{}):(0,i.jsx)(Ks,{required:!!t.isValid?.required,customValidity:Ml(f,a),label:o,help:u,onChange:h,options:m,selected:p,hideLabelFromVision:r})},select:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const{type:o,label:u,description:c,getValue:d,setValue:f,isValid:m}=t,v="array"===o,p=d({item:e})??(v?[]:""),h=(0,s.useCallback)((t=>n(f({item:e,value:t}))),[e,n,f]),{elements:g,isLoading:b}=Gr({elements:t.elements,getElements:t.getElements});return b?(0,i.jsx)(l.Spinner,{}):(0,i.jsx)(Gs,{required:!!t.isValid?.required,customValidity:Ml(m,a),label:u,value:p,help:c,options:g,onChange:h,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:r,multiple:v})},text:function({data:e,field:t,onChange:n,hideLabelFromVision:r,config:a,validity:l}){const{prefix:o,suffix:u}=a||{};return(0,i.jsx)(Bs,{data:e,field:t,onChange:n,hideLabelFromVision:r,validity:l,prefix:o?(0,s.createElement)(o):void 0,suffix:u?(0,s.createElement)(u):void 0})},toggle:function({field:e,onChange:t,data:n,hideLabelFromVision:r,validity:a}){const{label:l,description:o,getValue:u,setValue:c,isValid:d}=e,f=(0,s.useCallback)((()=>{t(c({item:n,value:!u({item:n})}))}),[t,c,n,u]);return(0,i.jsx)(Ys,{required:!!d.required,customValidity:Ml(d,a),hidden:r,__nextHasNoMarginBottom:!0,label:l,help:o,checked:u({item:n}),onChange:f})},textarea:function({data:e,field:t,onChange:n,hideLabelFromVision:r,config:a,validity:l}){const{rows:o=4}=a||{},{label:u,placeholder:c,description:d,setValue:f,isValid:m}=t,v=t.getValue({item:e}),p=(0,s.useCallback)((t=>n(f({item:e,value:t}))),[e,n,f]);return(0,i.jsx)(Zs,{required:!!m?.required,customValidity:Ml(m,l),label:u,placeholder:c,value:v??"",help:d,onChange:p,rows:o,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:r})},toggleGroup:function({data:e,field:t,onChange:n,hideLabelFromVision:r,validity:a}){const{getValue:o,setValue:u,isValid:c}=t,d=o({item:e}),f=(0,s.useCallback)((t=>n(u({item:e,value:t}))),[e,n,u]),{elements:m,isLoading:v}=Gr({elements:t.elements,getElements:t.getElements});if(v)return(0,i.jsx)(l.Spinner,{});if(0===m.length)return null;const p=m.find((e=>e.value===d));return(0,i.jsx)(Xs,{required:!!t.isValid?.required,customValidity:Ml(c,a),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:t.label,help:p?.description||t.description,onChange:f,value:d,hideLabelFromVision:r,children:m.map((e=>(0,i.jsx)(l.__experimentalToggleGroupControlOption,{label:e.label,value:e.value},e.value)))})}};function ao(e){return e&&"object"==typeof e&&"string"==typeof e.control}function lo(e){const{control:t,...n}=e,r=so(t);return function(e){return(0,i.jsx)(r,{...e,config:n})}}function so(e){if(Object.keys(ro).includes(e))return ro[e];throw"Control "+e+" not found"}var oo=e=>e.id,uo=()=>!0,co=[],fo=dt.filter((e=>!e.isPicker));function mo({header:e,search:t=!0,searchLabel:n}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.__experimentalHStack,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,i.jsxs)(l.__experimentalHStack,{justify:"start",expanded:!1,className:"dataviews__search",children:[t&&(0,i.jsx)(Ea,{label:n}),(0,i.jsx)(ht,{})]}),(0,i.jsxs)(l.__experimentalHStack,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,i.jsx)(Ra,{}),e]})]}),(0,i.jsx)(ya,{className:"dataviews-filters__container"}),(0,i.jsx)(_a,{}),(0,i.jsx)(Va,{})]})}var vo=function({view:e,onChangeView:t,fields:n,search:r=!0,searchLabel:a,actions:l=co,data:o,getItemId:u=oo,getItemLevel:c,isLoading:d=!1,paginationInfo:f,defaultLayouts:v,selection:p,onChangeSelection:h,onClickItem:x,renderItemLink:w,isItemClickable:y=uo,header:_,children:j,config:C={perPageSizes:[10,20,50,100]},empty:S}){const{infiniteScrollHandler:k}=f,I=(0,s.useRef)(null),[V,E]=(0,s.useState)(0),N=(0,m.useResizeObserver)((e=>{E(e[0].borderBoxSize[0].inlineSize)}),{box:"border-box"}),[F,M]=(0,s.useState)([]),O=void 0===p||void 0===h,A=O?F:p,[T,L]=(0,s.useState)(null),z=(0,s.useMemo)((()=>function(e){return e.map((e=>{const t="email"===(n=e.type)?Ua:"integer"===n?Ka:"number"===n?Ga:"text"===n?Ya:"datetime"===n?Za:"date"===n?Xa:"boolean"===n?Qa:"media"===n?Ja:"array"===n?tl:"password"===n?nl:"telephone"===n?il:"color"===n?Nl:"url"===n?Fl:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:{elements:!0,custom:()=>null},Edit:null,render:({item:e,field:t})=>t.hasElements?(0,i.jsx)(Wa,{item:e,field:t}):t.getValue({item:e}),enableSorting:!0,filterBy:{defaultOperators:[g,b],validOperators:D}};var n;const r=e.getValue||(a=e.id,({item:e})=>{const t=a.split(".");let n=e;for(const e of t)n=n.hasOwnProperty(e)?n[e]:void 0;return n});var a;const l=e.setValue||(e=>({value:t})=>{const n=e.split("."),i={};let r=i;for(const e of n.slice(0,-1))r[e]={},r=r[e];return r[n.at(-1)]=t,i})(e.id),s=e.sort??function(e,n,i){return t.sort(r({item:e}),r({item:n}),i)},o={...t.isValid,...e.isValid},u=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?so(e.Edit):ao(e.Edit)?lo(e.Edit):io(e)&&"array"!==e.type?so("select"):"string"==typeof t.Edit?so(t.Edit):ao(t.Edit)?lo(t.Edit):t.Edit}(e,t),c=e.render??function({item:e,field:n}){return t.render({item:e,field:n})},d=function(e,t){if(!1===e.filterBy)return!1;if("object"==typeof e.filterBy){let n=e.filterBy.operators;n&&Array.isArray(n)||(n=t.filterBy?t.filterBy.defaultOperators:[]);let i=D;return"object"==typeof t.filterBy&&(i=t.filterBy.validOperators),n=n.filter((e=>i.includes(e))),io(e)&&n.includes(P)&&(n=n.filter((e=>e!==P))),n.some((e=>B.includes(e)))&&(n=n.filter((e=>[...B,P].includes(e)))),0!==n.length&&{isPrimary:!!e.filterBy.isPrimary,operators:n}}if(!1===t.filterBy)return!1;let n=t.filterBy.defaultOperators;return io(e)&&n.includes(P)&&(n=n.filter((e=>e!==P))),{operators:n}}(e,t);return{...e,label:e.label||e.id,header:e.header||e.label||e.id,getValue:r,setValue:l,render:c,sort:s,isValid:o,Edit:u,hasElements:io(e),enableHiding:e.enableHiding??!0,enableSorting:e.enableSorting??t.enableSorting??!0,filterBy:d,readOnly:e.readOnly??t.readOnly??!1}}))}(n)),[n]),H=(0,s.useMemo)((()=>A.filter((e=>o.some((t=>u(t)===e))))),[A,o,u]),q=xa(z,e),R=(0,s.useMemo)((()=>(q||[]).some((e=>e.isPrimary||e.isLocked))),[q]),[W,$]=(0,s.useState)(R);(0,s.useEffect)((()=>{R&&!W&&$(!0)}),[R,W]),(0,s.useEffect)((()=>{if(!e.infiniteScrollEnabled||!I.current)return;const t=(0,m.throttle)((e=>{const t=e.target,n=t.scrollTop,i=t.scrollHeight;n+t.clientHeight>=i-100&&k?.()}),100),n=I.current;return n.addEventListener("scroll",t),()=>{n.removeEventListener("scroll",t),t.cancel()}}),[k,e.infiniteScrollEnabled]);const U=(0,s.useMemo)((()=>Object.fromEntries(Object.entries(v).filter((([e])=>fo.some((t=>t.type===e)))))),[v]);return U[e.type]?(0,i.jsx)(Z.Provider,{value:{view:e,onChangeView:t,fields:z,actions:l,data:o,isLoading:d,paginationInfo:f,selection:H,onChangeSelection:function(e){const t="function"==typeof e?e(A):e;O&&M(t),h&&h(t)},openedFilter:T,setOpenedFilter:L,getItemId:u,getItemLevel:c,isItemClickable:y,onClickItem:x,renderItemLink:w,containerWidth:V,containerRef:I,resizeObserverRef:N,defaultLayouts:U,filters:q,isShowingFilter:W,setIsShowingFilter:$,config:C,empty:S,hasInfiniteScrollHandler:!!k},children:(0,i.jsx)("div",{className:"dataviews-wrapper",ref:I,children:j??(0,i.jsx)(mo,{header:_,search:r,searchLabel:a})})}):null};vo.BulkActionToolbar=Ee,vo.Filters=wa,vo.FiltersToggled=ya,vo.FiltersToggle=ht,vo.Layout=_a,vo.LayoutSwitcher=Ta,vo.Pagination=Sa,vo.Search=Ea,vo.ViewConfig=Ha,vo.Footer=Va;var po=vo;function ho({data:e,visibleFields:t,onToggleField:n,search:r=!1,emptyMessage:a}){const[o,u]=(0,s.useState)({type:"table",fields:["label","value","visibility"],perPage:10,page:1,filters:[],layout:{enableMoving:!1}}),d=(0,s.useCallback)((e=>t.includes(e)),[t]),f=(0,s.useMemo)((()=>[{id:"label",label:(0,c.__)("Field","rrze-faudir"),enableHiding:!1,enableSorting:!1,getValue:({item:e})=>e.label},{id:"value",label:(0,c.__)("API value","rrze-faudir"),enableSorting:!1,enableHiding:!1,render:({item:e})=>e.value?e.value:(0,i.jsx)("span",{className:"rrze-faudir__dataviews-empty",children:(0,c.__)("No data","rrze-faudir")})},{id:"visibility",label:(0,c.__)("Display","rrze-faudir"),enableSorting:!1,enableHiding:!1,render:({item:e})=>(0,i.jsx)(l.ToggleControl,{label:e.label,"aria-label":(0,c.sprintf)((0,c.__)("Toggle %s","rrze-faudir"),e.label),checked:d(e.id),onChange:()=>n(e.id)})}]),[d,n]),m=(0,s.useMemo)((()=>({totalItems:e.length,totalPages:1})),[e.length]);return(0,i.jsx)(po,{data:e,fields:f,view:o,onChangeView:u,paginationInfo:m,defaultLayouts:{table:{showMedia:!1}},getItemId:e=>e.id,empty:(0,i.jsx)("p",{children:null!=a?a:(0,c.__)("No API data fetched yet.","rrze-faudir")}),search:r,children:(0,i.jsx)(po.Layout,{})})}const go={1:(0,c.__)("Monday","rrze-faudir"),2:(0,c.__)("Tuesday","rrze-faudir"),3:(0,c.__)("Wednesday","rrze-faudir"),4:(0,c.__)("Thursday","rrze-faudir"),5:(0,c.__)("Friday","rrze-faudir"),6:(0,c.__)("Saturday","rrze-faudir"),7:(0,c.__)("Sunday","rrze-faudir")},bo={phone:"",mail:"",url:"",street:"",zip:"",city:""},xo=["name","street","zip","city","phone","mail","url","officeHours"],wo=JSON.parse('{"UU":"rrze-faudir/service"}');(0,r.registerBlockType)(wo.UU,{icon:{src:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"evenodd",children:(0,i.jsx)("path",{d:"M440-120v-80h320v-284q0-117-81.5-198.5T480-764q-117 0-198.5 81.5T200-484v244h-40q-33 0-56.5-23.5T80-320v-80q0-21 10.5-39.5T120-469l3-53q8-68 39.5-126t79-101q47.5-43 109-67T480-840q68 0 129 24t109 66.5Q766-707 797-649t40 126l3 52q19 9 29.5 27t10.5 38v92q0 20-10.5 38T840-249v49q0 33-23.5 56.5T760-120H440Zm-80-280q-17 0-28.5-11.5T320-440q0-17 11.5-28.5T360-480q17 0 28.5 11.5T400-440q0 17-11.5 28.5T360-400Zm240 0q-17 0-28.5-11.5T560-440q0-17 11.5-28.5T600-480q17 0 28.5 11.5T640-440q0 17-11.5 28.5T600-400Zm-359-62q-7-106 64-182t177-76q89 0 156.5 56.5T720-519q-91-1-167.5-49T435-698q-16 80-67.5 142.5T241-462Z"})})},edit:function({attributes:e,setAttributes:t}){var n;const r=(0,a.useBlockProps)(),{orgid:o="",visibleFields:m,imageId:v,imageURL:p="",imageWidth:h=0,imageHeight:g=0,displayText:b=""}=e,x=m&&m.length>0?m:xo,[w,y]=(0,s.useState)(!1),[_,j]=(0,s.useState)(""),[C,S]=(0,s.useState)(Object.assign({},bo)),[k,I]=(0,s.useState)([]),V=(0,s.useCallback)((()=>{j(""),S(Object.assign({},bo)),I([])}),[]);(0,s.useEffect)((()=>{if(V(),!o)return;const e=new AbortController;return u()({path:`/rrze-faudir/v1/organization?orgid=${encodeURIComponent(o)}`,signal:e.signal}).then((e=>{var t,n,i,r,a,l,s,o,u,c,d;const f=null!==(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.address)&&void 0!==n?n:{},m={phone:null!==(i=null==f?void 0:f.phone)&&void 0!==i?i:"",mail:null!==(r=null==f?void 0:f.mail)&&void 0!==r?r:"",url:null!==(a=null==f?void 0:f.url)&&void 0!==a?a:"",street:null!==(l=null==f?void 0:f.street)&&void 0!==l?l:"",zip:null!==(s=null==f?void 0:f.zip)&&void 0!==s?s:"",city:null!==(o=null==f?void 0:f.city)&&void 0!==o?o:""},v=null!==(c=null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.name)&&void 0!==c?c:"",p=Array.isArray(null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.officeHours)?e.data.officeHours.map((e=>{var t,n,i;return{weekday:null!==(t=null==e?void 0:e.weekday)&&void 0!==t?t:"",from:null!==(n=null==e?void 0:e.from)&&void 0!==n?n:"",to:null!==(i=null==e?void 0:e.to)&&void 0!==i?i:""}})):[];S(m),j(v),I(p)})).catch((e=>{"AbortError"!==(null==e?void 0:e.name)&&(console.error("FAUdir organization request failed",e),V())})),()=>e.abort()}),[o,V]);const{phone:E,mail:N,url:F,street:M,zip:O,city:P}=C,A=(0,s.useMemo)((()=>k.map((e=>(e=>{var t,n,i;if(!e)return"";const r=e.weekday,a="number"==typeof r?null!==(t=go[r])&&void 0!==t?t:`${r}`:null!=r?r:"",l=null!==(n=e.from)&&void 0!==n?n:"",s=null!==(i=e.to)&&void 0!==i?i:"";let o="";return o=l&&s?`${l} – ${s}`:l||s||"",[a,o].filter(Boolean).join(": ")})(e))).filter(Boolean)),[k]),T=(0,s.useCallback)((e=>{const n=x.includes(e)?x.filter((t=>t!==e)):[...x,e];t({visibleFields:n})}),[x,t]),L=(0,s.useCallback)((e=>x.includes(e)),[x]),z=(0,s.useMemo)((()=>[{id:"name",label:(0,c.__)("Name","rrze-faudir"),value:_||""},{id:"street",label:(0,c.__)("Street","rrze-faudir"),value:M||""},{id:"zip",label:(0,c.__)("ZIP","rrze-faudir"),value:O||""},{id:"city",label:(0,c.__)("City","rrze-faudir"),value:P||""},{id:"phone",label:(0,c.__)("Phone","rrze-faudir"),value:E||""},{id:"mail",label:(0,c.__)("Email","rrze-faudir"),value:N||""},{id:"url",label:(0,c.__)("Website","rrze-faudir"),value:F||""},{id:"officeHours",label:(0,c.__)("Office hours","rrze-faudir"),value:A.length?A.join("\n"):""}]),[_,M,O,P,E,N,F,A]),D=["phone","mail","url"].some((e=>L(e)&&C[e])),B=["street","zip","city"].some((e=>L(e)&&C[e])),H=L("officeHours"),q=(0,i.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"evenodd",children:(0,i.jsx)(l.Path,{d:"M440-240q116 0 198-81.5T720-520q0-116-82-198t-198-82q-117 0-198.5 82T160-520q0 117 81.5 198.5T440-240Zm0-280Zm0 160q-83 0-147.5-44.5T200-520q28-70 92.5-115T440-680q82 0 146.5 45T680-520q-29 71-93.5 115.5T440-360Zm0-60q55 0 101-26.5t72-73.5q-26-46-72-73t-101-27q-56 0-102 27t-72 73q26 47 72 73.5T440-420Zm0-40q25 0 42.5-17t17.5-43q0-25-17.5-42.5T440-580q-26 0-43 17.5T380-520q0 26 17 43t43 17Zm0 300q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T80-520q0-74 28.5-139.5t77-114.5q48.5-49 114-77.5T440-880q74 0 139.5 28.5T694-774q49 49 77.5 114.5T800-520q0 64-21 121t-58 104l159 159-57 56-159-158q-47 37-104 57.5T440-160Z"})});return(0,i.jsx)(i.Fragment,{children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.BlockControls,{children:[(0,i.jsx)(f,{mediaId:v,mediaURL:p,mediaWidth:h,mediaHeight:g,setAttributes:t}),(0,i.jsx)(l.ToolbarGroup,{children:(0,i.jsx)(l.ToolbarGroup,{children:(0,i.jsx)(l.ToolbarItem,{children:()=>(0,i.jsx)(l.ToolbarButton,{label:(0,c.__)("Manage Data Visibility","rrze-faudir"),icon:q,onClick:()=>y(!0)})})})})]}),w&&(0,i.jsxs)(l.Modal,{size:"large",onRequestClose:()=>y(!1),children:[(0,i.jsx)(l.Notice,{isDismissible:!1,spokenMessage:(0,c.__)("Please be aware, that all data displayed within the service block is in sync with the Portal FAUdir. You cannot change contact details from within your web page.","rrze-faudir"),status:"info",children:(0,c.__)("The data displayed below is in sync with FAUdir and cannot be changed from within your website. Contact data can only be edited within the FAUdir Portal.","rrze-faudir")}),(0,i.jsx)(ho,{data:z,visibleFields:x,onToggleField:T,search:!1})]}),(0,i.jsxs)(a.InspectorControls,{children:[(0,i.jsx)(l.PanelBody,{title:(0,c.__)("Organization","rrze-faudir"),initialOpen:!0,children:(0,i.jsx)(d,{attributes:e,setAttributes:t})}),(0,i.jsx)(l.PanelBody,{title:(0,c.__)("Available data","rrze-faudir"),initialOpen:!1,children:(0,i.jsx)(l.Button,{variant:"tertiary",onClick:()=>y(!0),disabled:w,children:(0,c.__)("Manage Data View","rrze-faudir")})})]}),(0,i.jsxs)("article",Object.assign({},r,{className:`faudir rrze-elements-blocks_service_card ${null!==(n=r.className)&&void 0!==n?n:""}`,"aria-labelledby":"service-title",children:[(0,i.jsx)("figure",{className:"rrze-elements-blocks_service__figure",children:(0,i.jsx)("img",{className:"rrze-elements-blocks_service__image",src:p,width:h,alt:"",height:g})}),_&&L("name")&&(0,i.jsxs)("header",{className:"rrze-elements-blocks_service__meta_headline",children:[(0,i.jsx)("h2",{id:"service-title",className:"meta-headline",children:_}),(0,i.jsx)(a.RichText,{value:b,tagName:"p",placeholder:(0,c.__)("Add your service description...","rrze-faudir"),onChange:e=>t({displayText:e})})]}),B&&(0,i.jsxs)("section",{className:"rrze-elements-blocks_service__information","aria-labelledby":"addr-h",children:[(0,i.jsx)("h3",{id:"addr-h",children:(0,c.__)("Adresse","rrze-faudir")}),(0,i.jsxs)("address",{children:[M&&L("street")&&(0,i.jsxs)("span",{children:[M,(0,i.jsx)("br",{})]}),(O||P)&&(0,i.jsx)("span",{children:[L("zip")?O:null,L("city")?P:null].filter(Boolean).join(" ")})]})]}),H&&0!==A.length&&(0,i.jsxs)("section",{"aria-labelledby":"hours-h",children:[(0,i.jsx)("h3",{id:"hours-h",children:(0,c.__)("Office hours","rrze-faudir")}),(0,i.jsx)("ul",{className:"list-icons",children:A.map(((e,t)=>(0,i.jsx)("li",{children:e},`office-hour-${t}`)))})]}),D&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("section",{"aria-labelledby":"contact-h",children:[(0,i.jsx)("h3",{id:"contact-h",children:(0,c.__)("Contact","rrze-faudir")}),(0,i.jsxs)("address",{children:[E&&L("phone")&&(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:`tel:${E.replace(/\s+/g,"")}`,children:E})}),N&&L("mail")&&(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:`mailto:${N}`,children:N})}),F&&L("url")&&(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:F,target:"_blank",rel:"noreferrer",children:F})})]})]})})]}))]}):(0,i.jsx)(l.Placeholder,{label:(0,c.__)("FAUdir Service-Block","rrze-faudir"),icon:(0,i.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"evenodd",children:(0,i.jsx)(l.Path,{d:"M440-120v-80h320v-284q0-117-81.5-198.5T480-764q-117 0-198.5 81.5T200-484v244h-40q-33 0-56.5-23.5T80-320v-80q0-21 10.5-39.5T120-469l3-53q8-68 39.5-126t79-101q47.5-43 109-67T480-840q68 0 129 24t109 66.5Q766-707 797-649t40 126l3 52q19 9 29.5 27t10.5 38v92q0 20-10.5 38T840-249v49q0 33-23.5 56.5T760-120H440Zm-80-280q-17 0-28.5-11.5T320-440q0-17 11.5-28.5T360-480q17 0 28.5 11.5T400-440q0 17-11.5 28.5T360-400Zm240 0q-17 0-28.5-11.5T560-440q0-17 11.5-28.5T600-480q17 0 28.5 11.5T640-440q0 17-11.5 28.5T600-400Zm-359-62q-7-106 64-182t177-76q89 0 156.5 56.5T720-519q-91-1-167.5-49T435-698q-16 80-67.5 142.5T241-462Z"})}),instructions:(0,c.__)("Insert your FAUdir Folder/Org Id to display service information.","rrze-faudir"),children:(0,i.jsx)(d,{attributes:e,setAttributes:t})})})},save:function(){return null}})},252:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,a;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;for(r of t.entries())if(!e(r[1],n.get(r[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(t[r]!==n[r])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=i;0!=r--;){var l=a[r];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n}},731:e=>{var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),i=new RegExp(n,"g"),r=new RegExp(n,"");function a(e){return t[e]}var l=function(e){return e.replace(i,a)};e.exports=l,e.exports.has=function(e){return!!e.match(r)},e.exports.remove=l},493:(e,t,n)=>{"use strict";var i=n(609),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useState,l=i.useEffect,s=i.useLayoutEffect,o=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=a({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return s((function(){r.value=n,r.getSnapshot=t,u(r)&&c({inst:r})}),[e,n,t]),l((function(){return u(r)&&c({inst:r}),e((function(){u(r)&&c({inst:r})}))}),[e]),o(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},888:(e,t,n)=>{"use strict";e.exports=n(493)},609:e=>{"use strict";e.exports=window.React}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e](n,n.exports,a),n.exports}a.m=i,e=[],a.O=(t,n,i,r)=>{if(!n){var l=1/0;for(c=0;c<e.length;c++){for(var[n,i,r]=e[c],s=!0,o=0;o<n.length;o++)(!1&r||l>=r)&&Object.keys(a.O).every((e=>a.O[e](n[o])))?n.splice(o--,1):(s=!1,r<l&&(l=r));if(s){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,i,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var r=Object.create(null);a.r(r);var l={};t=t||[null,n({}),n([]),n(n)];for(var s=2&i&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>l[t]=()=>e[t]));return l.default=()=>e,a.d(r,l),r},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={988:0,700:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[l,s,o]=n,u=0;if(l.some((t=>0!==e[t]))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(o)var c=o(a)}for(t&&t(n);u<l.length;u++)r=l[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},n=globalThis.webpackChunkrrze_faudir=globalThis.webpackChunkrrze_faudir||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[700],(()=>a(699)));l=a.O(l)})();