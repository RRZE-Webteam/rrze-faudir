(()=>{var e,t,n={252:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,a;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;for(r of t.entries())if(!e(r[1],n.get(r[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(r of t.entries())if(!n.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(t[r]!==n[r])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=i;0!=r--;){var l=a[r];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n}},731:e=>{var t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Ấ:"A",Ắ:"A",Ẳ:"A",Ẵ:"A",Ặ:"A",Æ:"AE",Ầ:"A",Ằ:"A",Ȃ:"A",Ả:"A",Ạ:"A",Ẩ:"A",Ẫ:"A",Ậ:"A",Ç:"C",Ḉ:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ế:"E",Ḗ:"E",Ề:"E",Ḕ:"E",Ḝ:"E",Ȇ:"E",Ẻ:"E",Ẽ:"E",Ẹ:"E",Ể:"E",Ễ:"E",Ệ:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ḯ:"I",Ȋ:"I",Ỉ:"I",Ị:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",Ố:"O",Ṍ:"O",Ṓ:"O",Ȏ:"O",Ỏ:"O",Ọ:"O",Ổ:"O",Ỗ:"O",Ộ:"O",Ờ:"O",Ở:"O",Ỡ:"O",Ớ:"O",Ợ:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ủ:"U",Ụ:"U",Ử:"U",Ữ:"U",Ự:"U",Ý:"Y",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",ấ:"a",ắ:"a",ẳ:"a",ẵ:"a",ặ:"a",æ:"ae",ầ:"a",ằ:"a",ȃ:"a",ả:"a",ạ:"a",ẩ:"a",ẫ:"a",ậ:"a",ç:"c",ḉ:"c",è:"e",é:"e",ê:"e",ë:"e",ế:"e",ḗ:"e",ề:"e",ḕ:"e",ḝ:"e",ȇ:"e",ẻ:"e",ẽ:"e",ẹ:"e",ể:"e",ễ:"e",ệ:"e",ì:"i",í:"i",î:"i",ï:"i",ḯ:"i",ȋ:"i",ỉ:"i",ị:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",ố:"o",ṍ:"o",ṓ:"o",ȏ:"o",ỏ:"o",ọ:"o",ổ:"o",ỗ:"o",ộ:"o",ờ:"o",ở:"o",ỡ:"o",ớ:"o",ợ:"o",ù:"u",ú:"u",û:"u",ü:"u",ủ:"u",ụ:"u",ử:"u",ữ:"u",ự:"u",ý:"y",ÿ:"y",Ā:"A",ā:"a",Ă:"A",ă:"a",Ą:"A",ą:"a",Ć:"C",ć:"c",Ĉ:"C",ĉ:"c",Ċ:"C",ċ:"c",Č:"C",č:"c",C̆:"C",c̆:"c",Ď:"D",ď:"d",Đ:"D",đ:"d",Ē:"E",ē:"e",Ĕ:"E",ĕ:"e",Ė:"E",ė:"e",Ę:"E",ę:"e",Ě:"E",ě:"e",Ĝ:"G",Ǵ:"G",ĝ:"g",ǵ:"g",Ğ:"G",ğ:"g",Ġ:"G",ġ:"g",Ģ:"G",ģ:"g",Ĥ:"H",ĥ:"h",Ħ:"H",ħ:"h",Ḫ:"H",ḫ:"h",Ĩ:"I",ĩ:"i",Ī:"I",ī:"i",Ĭ:"I",ĭ:"i",Į:"I",į:"i",İ:"I",ı:"i",Ĳ:"IJ",ĳ:"ij",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",Ḱ:"K",ḱ:"k",K̆:"K",k̆:"k",Ĺ:"L",ĺ:"l",Ļ:"L",ļ:"l",Ľ:"L",ľ:"l",Ŀ:"L",ŀ:"l",Ł:"l",ł:"l",Ḿ:"M",ḿ:"m",M̆:"M",m̆:"m",Ń:"N",ń:"n",Ņ:"N",ņ:"n",Ň:"N",ň:"n",ŉ:"n",N̆:"N",n̆:"n",Ō:"O",ō:"o",Ŏ:"O",ŏ:"o",Ő:"O",ő:"o",Œ:"OE",œ:"oe",P̆:"P",p̆:"p",Ŕ:"R",ŕ:"r",Ŗ:"R",ŗ:"r",Ř:"R",ř:"r",R̆:"R",r̆:"r",Ȓ:"R",ȓ:"r",Ś:"S",ś:"s",Ŝ:"S",ŝ:"s",Ş:"S",Ș:"S",ș:"s",ş:"s",Š:"S",š:"s",Ţ:"T",ţ:"t",ț:"t",Ț:"T",Ť:"T",ť:"t",Ŧ:"T",ŧ:"t",T̆:"T",t̆:"t",Ũ:"U",ũ:"u",Ū:"U",ū:"u",Ŭ:"U",ŭ:"u",Ů:"U",ů:"u",Ű:"U",ű:"u",Ų:"U",ų:"u",Ȗ:"U",ȗ:"u",V̆:"V",v̆:"v",Ŵ:"W",ŵ:"w",Ẃ:"W",ẃ:"w",X̆:"X",x̆:"x",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Y̆:"Y",y̆:"y",Ź:"Z",ź:"z",Ż:"Z",ż:"z",Ž:"Z",ž:"z",ſ:"s",ƒ:"f",Ơ:"O",ơ:"o",Ư:"U",ư:"u",Ǎ:"A",ǎ:"a",Ǐ:"I",ǐ:"i",Ǒ:"O",ǒ:"o",Ǔ:"U",ǔ:"u",Ǖ:"U",ǖ:"u",Ǘ:"U",ǘ:"u",Ǚ:"U",ǚ:"u",Ǜ:"U",ǜ:"u",Ứ:"U",ứ:"u",Ṹ:"U",ṹ:"u",Ǻ:"A",ǻ:"a",Ǽ:"AE",ǽ:"ae",Ǿ:"O",ǿ:"o",Þ:"TH",þ:"th",Ṕ:"P",ṕ:"p",Ṥ:"S",ṥ:"s",X́:"X",x́:"x",Ѓ:"Г",ѓ:"г",Ќ:"К",ќ:"к",A̋:"A",a̋:"a",E̋:"E",e̋:"e",I̋:"I",i̋:"i",Ǹ:"N",ǹ:"n",Ồ:"O",ồ:"o",Ṑ:"O",ṑ:"o",Ừ:"U",ừ:"u",Ẁ:"W",ẁ:"w",Ỳ:"Y",ỳ:"y",Ȁ:"A",ȁ:"a",Ȅ:"E",ȅ:"e",Ȉ:"I",ȉ:"i",Ȍ:"O",ȍ:"o",Ȑ:"R",ȑ:"r",Ȕ:"U",ȕ:"u",B̌:"B",b̌:"b",Č̣:"C",č̣:"c",Ê̌:"E",ê̌:"e",F̌:"F",f̌:"f",Ǧ:"G",ǧ:"g",Ȟ:"H",ȟ:"h",J̌:"J",ǰ:"j",Ǩ:"K",ǩ:"k",M̌:"M",m̌:"m",P̌:"P",p̌:"p",Q̌:"Q",q̌:"q",Ř̩:"R",ř̩:"r",Ṧ:"S",ṧ:"s",V̌:"V",v̌:"v",W̌:"W",w̌:"w",X̌:"X",x̌:"x",Y̌:"Y",y̌:"y",A̧:"A",a̧:"a",B̧:"B",b̧:"b",Ḑ:"D",ḑ:"d",Ȩ:"E",ȩ:"e",Ɛ̧:"E",ɛ̧:"e",Ḩ:"H",ḩ:"h",I̧:"I",i̧:"i",Ɨ̧:"I",ɨ̧:"i",M̧:"M",m̧:"m",O̧:"O",o̧:"o",Q̧:"Q",q̧:"q",U̧:"U",u̧:"u",X̧:"X",x̧:"x",Z̧:"Z",z̧:"z",й:"и",Й:"И",ё:"е",Ё:"Е"},n=Object.keys(t).join("|"),i=new RegExp(n,"g"),r=new RegExp(n,"");function a(e){return t[e]}var l=function(e){return e.replace(i,a)};e.exports=l,e.exports.has=function(e){return!!e.match(r)},e.exports.remove=l},493:(e,t,n)=>{"use strict";var i=n(609),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useState,l=i.useEffect,s=i.useLayoutEffect,o=i.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=a({inst:{value:n,getSnapshot:t}}),r=i[0].inst,c=i[1];return s((function(){r.value=n,r.getSnapshot=t,u(r)&&c({inst:r})}),[e,n,t]),l((function(){return u(r)&&c({inst:r}),e((function(){u(r)&&c({inst:r})}))}),[e]),o(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},888:(e,t,n)=>{"use strict";e.exports=n(493)},609:e=>{"use strict";e.exports=window.React}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"==typeof n.then)return n}var a=Object.create(null);r.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,r.d(a,l),a},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.ReactJSXRuntime,t=window.wp.blocks,n=window.wp.blockEditor,i=window.wp.components,a=window.wp.element,l=window.wp.apiFetch;var s=r.n(l);const o=window.wp.i18n;function u({attributes:t,setAttributes:n,label:r,helpText:l}){const[s,u]=(0,a.useState)(t.orgid||""),[c,d]=(0,a.useState)("");return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.__experimentalHeading,{level:3,children:(0,o.__)("Select organization by FAUdir Identifier","rrze-faudir")}),(0,e.jsx)(i.TextControl,{label:r||(0,o.__)("Via FAUdir-ID or FAUdir-URL","rrze-faudir"),value:s,onChange:e=>{const t=e.trim(),i=t.match(/^https?:\/\/faudir\.fau\.de\/public\/org\/([^/]+)\/?$/);let r=i?i[1]:t;!r||r.length<10?(n({orgid:""}),d((0,o.__)("Please enter a valid FAUdir-URL or the FAUdir-identifier.","rrze-faudir"))):(n({orgid:r}),d("")),u(e)},type:"text",help:c||l||(0,o.__)('Please enter either the complete FAUdir-URL ("https://faudir.fau.de/public/org/…"), or the FAUdir-Identifier (the last part of the URL after "org/".',"rrze-faudir")})]})}function c({mediaId:t,mediaURL:i,mediaHeight:r,mediaWidth:a,setAttributes:l}){const s=()=>{l({imageURL:null,imageWidth:null,imageHeight:null,imageId:null})};return(0,e.jsx)(n.MediaReplaceFlow,{mediaId:t,mediaURL:i,allowedTypes:["image"],accept:"image/*",onSelect:e=>{return t=this,n=void 0,r=function*(){var t;const n=(i=e)&&i.url?{url:i.url,id:i.id,alt:null==i?void 0:i.alt,height:i.height,width:i.width}:{url:""};var i;l({imageURL:n.url,imageId:null!==(t=n.id)&&void 0!==t?t:null,imageWidth:n.width,imageHeight:n.height})},new((i=void 0)||(i=Promise))((function(e,a){function l(e){try{o(r.next(e))}catch(e){a(e)}}function s(e){try{o(r.throw(e))}catch(e){a(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(l,s)}o((r=r.apply(t,n||[])).next())}));var t,n,i,r},onToggleFeaturedImage:()=>{},name:i?(0,o.__)("Replace"):(0,o.__)("Add media"),onReset:()=>s(),onError:()=>s()})}const d=window.wp.compose,f=window.wp.primitives;var m=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),v=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),p="is",h="isNot",g="isAny",b="isNone",x="isAll",w="isNotAll",y="lessThan",_="greaterThan",j="lessThanOrEqual",C="greaterThanOrEqual",S="before",k="after",I="beforeInc",V="afterInc",E="contains",N="notContains",F="startsWith",M="between",O="on",P="notOn",A="inThePast",T="over",L=[p,h,g,b,x,w,y,_,j,C,S,k,I,V,E,N,F,M,O,P,A,T],z=[p,h,y,_,j,C,S,k,I,V,E,N,F,O,P],D={[p]:{key:"is-filter",label:(0,o.__)("Is")},[h]:{key:"is-not-filter",label:(0,o.__)("Is not")},[g]:{key:"is-any-filter",label:(0,o.__)("Is any")},[b]:{key:"is-none-filter",label:(0,o.__)("Is none")},[x]:{key:"is-all-filter",label:(0,o.__)("Is all")},[w]:{key:"is-not-all-filter",label:(0,o.__)("Is not all")},[y]:{key:"less-than-filter",label:(0,o.__)("Less than")},[_]:{key:"greater-than-filter",label:(0,o.__)("Greater than")},[j]:{key:"less-than-or-equal-filter",label:(0,o.__)("Less than or equal")},[C]:{key:"greater-than-or-equal-filter",label:(0,o.__)("Greater than or equal")},[S]:{key:"before-filter",label:(0,o.__)("Before")},[k]:{key:"after-filter",label:(0,o.__)("After")},[I]:{key:"before-inc-filter",label:(0,o.__)("Before (inc)")},[V]:{key:"after-inc-filter",label:(0,o.__)("After (inc)")},[E]:{key:"contains-filter",label:(0,o.__)("Contains")},[N]:{key:"not-contains-filter",label:(0,o.__)("Doesn't contain")},[F]:{key:"starts-with-filter",label:(0,o.__)("Starts with")},[M]:{key:"between-filter",label:(0,o.__)("Between (inc)")},[O]:{key:"on-filter",label:(0,o.__)("On")},[P]:{key:"not-on-filter",label:(0,o.__)("Not on")},[A]:{key:"in-the-past-filter",label:(0,o.__)("In the past")},[T]:{key:"over-filter",label:(0,o.__)("Over")}},B=["asc","desc"],H={asc:"↑",desc:"↓"},q={asc:"ascending",desc:"descending"},R={asc:(0,o.__)("Sort ascending"),desc:(0,o.__)("Sort descending")},W={asc:m,desc:v},$="table",U="grid",K=(0,a.createContext)({view:{type:$},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:e=>e.id,isItemClickable:()=>!0,renderItemLink:void 0,containerWidth:0,containerRef:(0,a.createRef)(),resizeObserverRef:()=>{},defaultLayouts:{list:{},grid:{},table:{}},filters:[],isShowingFilter:!1,setIsShowingFilter:()=>{},hasInfiniteScrollHandler:!1,config:{perPageSizes:[]}});K.displayName="DataViewsContext";var G=K,Y=(0,e.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)(f.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})}),Z=(0,e.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)(f.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),X=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),Q=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});function J(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=J(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const ee=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=J(e))&&(i&&(i+=" "),i+=t);return i},te=window.wp.keycodes;function ne({selection:t,onChangeSelection:n,item:r,getItemId:a,titleField:l,disabled:s,...u}){const c=a(r),d=!s&&t.includes(c),f=l?.getValue?.({item:r})||(0,o.__)("(no title)");return(0,e.jsx)(i.CheckboxControl,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":f,"aria-disabled":s,checked:d,onChange:()=>{s||n(t.includes(c)?t.filter((e=>c!==e)):[...t,c])},...u})}var ie=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})});const re=window.wp.data,ae=window.wp.privateApis;var{lock:le,unlock:se}=(0,ae.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews"),{Menu:oe,kebabCase:ue}=se(i.privateApis);function ce({action:t,onClick:n,items:r}){const a="string"==typeof t.label?t.label:t.label(r);return(0,e.jsx)(i.Button,{disabled:!!t.disabled,accessibleWhenDisabled:!0,size:"compact",onClick:n,children:a})}function de({action:t,onClick:n,items:i}){const r="string"==typeof t.label?t.label:t.label(i);return(0,e.jsx)(oe.Item,{disabled:t.disabled,onClick:n,children:(0,e.jsx)(oe.ItemLabel,{children:r})})}function fe({action:t,items:n,closeModal:r}){const a="string"==typeof t.label?t.label:t.label(n),l="function"==typeof t.modalHeader?t.modalHeader(n):t.modalHeader;return(0,e.jsx)(i.Modal,{title:l||a,__experimentalHideHeader:!!t.hideModalHeader,onRequestClose:r,focusOnMount:t.modalFocusOnMount??!0,size:t.modalSize||"medium",overlayClassName:`dataviews-action-modal dataviews-action-modal__${ue(t.id)}`,children:(0,e.jsx)(t.RenderModal,{items:n,closeModal:r})})}function me({actions:t,item:n,registry:i,setActiveModalAction:r}){const{primaryActions:l,regularActions:s}=(0,a.useMemo)((()=>t.reduce(((e,t)=>((t.isPrimary?e.primaryActions:e.regularActions).push(t),e)),{primaryActions:[],regularActions:[]})),[t]),o=t=>t.map((t=>(0,e.jsx)(de,{action:t,onClick:()=>{"RenderModal"in t?r(t):t.callback([n],{registry:i})},items:[n]},t.id)));return(0,e.jsxs)(oe.Group,{children:[o(l),l.length>0&&s.length>0&&(0,e.jsx)(oe.Separator,{}),o(s)]})}function ve({item:t,actions:n,isCompact:r}){const l=(0,re.useRegistry)(),{primaryActions:s,eligibleActions:o}=(0,a.useMemo)((()=>{const e=n.filter((e=>!e.isEligible||e.isEligible(t)));return{primaryActions:e.filter((e=>e.isPrimary)),eligibleActions:e}}),[n,t]);return r?(0,e.jsx)(pe,{item:t,actions:o,isSmall:!0,registry:l}):(0,e.jsxs)(i.__experimentalHStack,{spacing:0,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:0,width:"auto"},children:[(0,e.jsx)(he,{item:t,actions:s,registry:l}),s.length<o.length&&(0,e.jsx)(pe,{item:t,actions:o,registry:l})]})}function pe({item:t,actions:n,isSmall:r,registry:l}){const[s,u]=(0,a.useState)(null);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(oe,{placement:"bottom-end",children:[(0,e.jsx)(oe.TriggerButton,{render:(0,e.jsx)(i.Button,{size:r?"small":"compact",icon:ie,label:(0,o.__)("Actions"),accessibleWhenDisabled:!0,disabled:!n.length,className:"dataviews-all-actions-button"})}),(0,e.jsx)(oe.Popover,{children:(0,e.jsx)(me,{actions:n,item:t,registry:l,setActiveModalAction:u})})]}),!!s&&(0,e.jsx)(fe,{action:s,items:[t],closeModal:()=>u(null)})]})}function he({item:t,actions:n,registry:i}){const[r,l]=(0,a.useState)(null);return(0,d.useViewportMatch)("medium","<")?null:Array.isArray(n)&&0!==n.length?(0,e.jsxs)(e.Fragment,{children:[n.map((n=>(0,e.jsx)(ce,{action:n,onClick:()=>{"RenderModal"in n?l(n):n.callback([t],{registry:i})},items:[t]},n.id))),!!r&&(0,e.jsx)(fe,{action:r,items:[t],closeModal:()=>l(null)})]}):null}var ge=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function be({action:t,items:n,ActionTriggerComponent:i}){const[r,l]=(0,a.useState)(!1),s={action:t,onClick:()=>{l(!0)},items:n};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i,{...s}),r&&(0,e.jsx)(fe,{action:t,items:n,closeModal:()=>l(!1)})]})}function xe(e,t){return(0,a.useMemo)((()=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))),[e,t])}function we(e,t){return(0,a.useMemo)((()=>t.some((t=>e.some((e=>e.supportsBulk&&(!e.isEligible||e.isEligible(t))))))),[e,t])}function ye({selection:t,onChangeSelection:n,data:r,actions:l,getItemId:s}){const u=(0,a.useMemo)((()=>r.filter((e=>l.some((t=>t.supportsBulk&&(!t.isEligible||t.isEligible(e))))))),[r,l]),c=r.filter((e=>t.includes(s(e))&&u.includes(e))),d=c.length===u.length;return(0,e.jsx)(i.CheckboxControl,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:d,indeterminate:!d&&!!c.length,onChange:()=>{n(d?[]:u.map((e=>s(e))))},"aria-label":d?(0,o.__)("Deselect all"):(0,o.__)("Select all")})}function _e({action:t,onClick:n,isBusy:r,items:a}){const l="string"==typeof t.label?t.label:t.label(a);return(0,d.useViewportMatch)("medium","<")?(0,e.jsx)(i.Button,{disabled:r,accessibleWhenDisabled:!0,label:l,icon:t.icon,size:"compact",onClick:n,isBusy:r}):(0,e.jsx)(i.Button,{disabled:r,accessibleWhenDisabled:!0,size:"compact",onClick:n,isBusy:r,children:l})}var je=[];function Ce({action:t,selectedItems:n,actionInProgress:i,setActionInProgress:r}){const l=(0,re.useRegistry)(),s=(0,a.useMemo)((()=>n.filter((e=>!t.isEligible||t.isEligible(e)))),[t,n]);return"RenderModal"in t?(0,e.jsx)(be,{action:t,items:s,ActionTriggerComponent:_e},t.id):(0,e.jsx)(_e,{action:t,onClick:async()=>{r(t.id),await t.callback(n,{registry:l}),r(null)},items:s,isBusy:i===t.id},t.id)}function Se(t,n,r,a,l,s,u,c,d){const f=s.length>0?(0,o.sprintf)(
/* translators: %d: number of items. */
/* translators: %d: number of items. */
(0,o._n)("%d Item selected","%d Items selected",s.length),s.length):(0,o.sprintf)(
/* translators: %d: number of items. */
/* translators: %d: number of items. */
(0,o._n)("%d Item","%d Items",t.length),t.length);return(0,e.jsxs)(i.__experimentalHStack,{expanded:!1,className:"dataviews-bulk-actions-footer__container",spacing:3,children:[(0,e.jsx)(ye,{selection:a,onChangeSelection:d,data:t,actions:n,getItemId:r}),(0,e.jsx)("span",{className:"dataviews-bulk-actions-footer__item-count",children:f}),(0,e.jsxs)(i.__experimentalHStack,{className:"dataviews-bulk-actions-footer__action-buttons",expanded:!1,spacing:1,children:[l.map((t=>(0,e.jsx)(Ce,{action:t,selectedItems:s,actionInProgress:u,setActionInProgress:c},t.id))),s.length>0&&(0,e.jsx)(i.Button,{icon:ge,showTooltip:!0,tooltipPosition:"top",size:"compact",label:(0,o.__)("Cancel"),disabled:!!u,accessibleWhenDisabled:!1,onClick:()=>{d(je)}})]})]})}function ke({selection:e,actions:t,onChangeSelection:n,data:i,getItemId:r}){const[l,s]=(0,a.useState)(null),o=(0,a.useRef)(null),u=(0,d.useViewportMatch)("medium","<"),c=(0,a.useMemo)((()=>t.filter((e=>e.supportsBulk))),[t]),f=(0,a.useMemo)((()=>i.filter((e=>c.some((t=>!t.isEligible||t.isEligible(e)))))),[i,c]),m=(0,a.useMemo)((()=>i.filter((t=>e.includes(r(t))&&f.includes(t)))),[e,i,r,f]),v=(0,a.useMemo)((()=>t.filter((e=>e.supportsBulk&&(!u||e.icon)&&m.some((t=>!e.isEligible||e.isEligible(t)))))),[t,m,u]);return l?(o.current||(o.current=Se(i,t,r,e,v,m,l,s,n)),o.current):(o.current&&(o.current=null),Se(i,t,r,e,v,m,l,s,n))}function Ie(){const{data:t,selection:n,actions:i=je,onChangeSelection:r,getItemId:l}=(0,a.useContext)(G);return(0,e.jsx)(ke,{selection:n,onChangeSelection:r,data:t,actions:i,getItemId:l})}var Ve=(0,e.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)(f.Path,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})}),Ee=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),Ne=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),Fe=(0,e.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)(f.Path,{d:"M20.7 12.7s0-.1-.1-.2c0-.2-.2-.4-.4-.6-.3-.5-.9-1.2-1.6-1.8-.7-.6-1.5-1.3-2.6-1.8l-.6 1.4c.9.4 1.6 1 2.1 1.5.6.6 1.1 1.2 1.4 1.6.1.2.3.4.3.5v.1l.7-.3.7-.3Zm-5.2-9.3-1.8 4c-.5-.1-1.1-.2-1.7-.2-3 0-5.2 1.4-6.6 2.7-.7.7-1.2 1.3-1.6 1.8-.2.3-.3.5-.4.6 0 0 0 .1-.1.2s0 0 .7.3l.7.3V13c0-.1.2-.3.3-.5.3-.4.7-1 1.4-1.6 1.2-1.2 3-2.3 5.5-2.3H13v.3c-.4 0-.8-.1-1.1-.1-1.9 0-3.5 1.6-3.5 3.5s.6 2.3 1.6 2.9l-2 4.4.9.4 7.6-16.2-.9-.4Zm-3 12.6c1.7-.2 3-1.7 3-3.5s-.2-1.4-.6-1.9L12.4 16Z"})}),{Menu:Me}=se(i.privateApis);function Oe({children:t}){return a.Children.toArray(t).filter(Boolean).map(((t,n)=>(0,e.jsxs)(a.Fragment,{children:[n>0&&(0,e.jsx)(Me.Separator,{}),t]},n)))}var Pe=(0,a.forwardRef)((function({fieldId:t,view:n,fields:r,onChangeView:a,onHide:l,setOpenedFilter:s,canMove:u=!0},c){const d=n.fields??[],f=d?.indexOf(t),m=n.sort?.field===t;let v=!1,p=!1,h=!1,g=[];const b=r.find((e=>e.id===t));if(!b)return null;v=!1!==b.enableHiding,p=!1!==b.enableSorting;const x=b.header;return g=!!b.filterBy&&b.filterBy?.operators||[],h=!(n.filters?.some((e=>t===e.field))||!b.hasElements&&!b.Edit||!1===b.filterBy||b.filterBy?.isPrimary),p||u||v||h?(0,e.jsxs)(Me,{children:[(0,e.jsxs)(Me.TriggerButton,{render:(0,e.jsx)(i.Button,{size:"compact",className:"dataviews-view-table-header-button",ref:c,variant:"tertiary"}),children:[x,n.sort&&m&&(0,e.jsx)("span",{"aria-hidden":"true",children:H[n.sort.direction]})]}),(0,e.jsx)(Me.Popover,{style:{minWidth:"240px"},children:(0,e.jsxs)(Oe,{children:[p&&(0,e.jsx)(Me.Group,{children:B.map((i=>{const r=n.sort&&m&&n.sort.direction===i,l=`${t}-${i}`;return(0,e.jsx)(Me.RadioItem,{name:"view-table-sorting",value:l,checked:r,onChange:()=>{a({...n,sort:{field:t,direction:i},showLevels:!1})},children:(0,e.jsx)(Me.ItemLabel,{children:R[i]})},l)}))}),h&&(0,e.jsx)(Me.Group,{children:(0,e.jsx)(Me.Item,{prefix:(0,e.jsx)(i.Icon,{icon:Ve}),onClick:()=>{s(t),a({...n,page:1,filters:[...n.filters||[],{field:t,value:void 0,operator:g[0]}]})},children:(0,e.jsx)(Me.ItemLabel,{children:(0,o.__)("Add filter")})})}),(u||v)&&b&&(0,e.jsxs)(Me.Group,{children:[u&&(0,e.jsx)(Me.Item,{prefix:(0,e.jsx)(i.Icon,{icon:Ee}),disabled:f<1,onClick:()=>{a({...n,fields:[...d.slice(0,f-1)??[],t,d[f-1],...d.slice(f+1)]})},children:(0,e.jsx)(Me.ItemLabel,{children:(0,o.__)("Move left")})}),u&&(0,e.jsx)(Me.Item,{prefix:(0,e.jsx)(i.Icon,{icon:Ne}),disabled:f>=d.length-1,onClick:()=>{a({...n,fields:[...d.slice(0,f)??[],d[f+1],t,...d.slice(f+2)]})},children:(0,e.jsx)(Me.ItemLabel,{children:(0,o.__)("Move right")})}),v&&b&&(0,e.jsx)(Me.Item,{prefix:(0,e.jsx)(i.Icon,{icon:Fe}),onClick:()=>{l(b),a({...n,fields:d.filter((e=>e!==t))})},children:(0,e.jsx)(Me.ItemLabel,{children:(0,o.__)("Hide column")})})]})]})})]}):x})),Ae=Pe;function Te({item:t,isItemClickable:n,onClickItem:i,renderItemLink:r,className:l,children:s,...o}){if(!n(t))return(0,e.jsx)("div",{className:l,...o,children:s});if(r){const e=r({item:t,className:`${l} ${l}--clickable`,...o,children:s});return(0,a.cloneElement)(e,{onClick:t=>{t.stopPropagation(),e.props.onClick&&e.props.onClick(t)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),e.props.onKeyDown&&e.props.onKeyDown(t))}})}const u=function({item:e,isItemClickable:t,onClickItem:n,className:i}){return t(e)&&n?{className:i?`${i} ${i}--clickable`:void 0,role:"button",tabIndex:0,onClick:t=>{t.stopPropagation(),n(e)},onKeyDown:t=>{"Enter"!==t.key&&""!==t.key&&" "!==t.key||(t.stopPropagation(),n(e))}}:{className:i}}({item:t,isItemClickable:n,onClickItem:i,className:l});return(0,e.jsx)("div",{...u,...o,children:s})}var Le=function({item:t,level:n,titleField:r,mediaField:a,descriptionField:l,onClickItem:s,renderItemLink:o,isItemClickable:u}){return(0,e.jsxs)(i.__experimentalHStack,{spacing:3,justify:"flex-start",children:[a&&(0,e.jsx)(Te,{item:t,isItemClickable:u,onClickItem:s,renderItemLink:o,className:"dataviews-view-table__cell-content-wrapper dataviews-column-primary__media","aria-label":u(t)&&(s||o)&&r?r.getValue?.({item:t}):void 0,children:(0,e.jsx)(a.render,{item:t,field:a,config:{sizes:"32px"}})}),(0,e.jsxs)(i.__experimentalVStack,{spacing:0,alignment:"flex-start",className:"dataviews-view-table__primary-column-content",children:[r&&(0,e.jsxs)(Te,{item:t,isItemClickable:u,onClickItem:s,renderItemLink:o,className:"dataviews-view-table__cell-content-wrapper dataviews-title-field",children:[void 0!==n&&n>0&&(0,e.jsxs)("span",{className:"dataviews-view-table__level",children:["—".repeat(n)," "]}),(0,e.jsx)(r.render,{item:t,field:r})]}),l&&(0,e.jsx)(l.render,{item:t,field:l})]})]})};function ze(e,t){return e.reduce(((e,n)=>{const i=t.getValue({item:n});return e.has(i)||e.set(i,[]),e.get(i)?.push(n),e}),new Map)}var De=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})});function Be({field:t,isVisible:n,onToggleVisibility:r}){return(0,e.jsx)(i.__experimentalItem,{onClick:t.enableHiding?r:void 0,children:(0,e.jsxs)(i.__experimentalHStack,{expanded:!0,justify:"flex-start",alignment:"center",children:[(0,e.jsx)("div",{style:{height:24,width:24},children:n&&(0,e.jsx)(i.Icon,{icon:De})}),(0,e.jsx)("span",{className:"dataviews-view-config__label",children:t.label})]})})}function He(e){return!!e}function qe({showLabel:t=!0}){const{view:n,fields:r,onChangeView:l}=(0,a.useContext)(G),s=[n?.titleField,n?.mediaField,n?.descriptionField].filter(Boolean),u=r.filter((e=>!s.includes(e.id)&&"media"!==e.type&&!1!==e.enableHiding));if(!u?.length)return null;const c=r.find((e=>e.id===n.titleField)),d=r.find((e=>e.id===n.mediaField)),f=r.find((e=>e.id===n.descriptionField)),m=[{field:c,isVisibleFlag:"showTitle"},{field:d,isVisibleFlag:"showMedia"},{field:f,isVisibleFlag:"showDescription"}].filter((({field:e})=>He(e))),v=n.fields??[],p=u.filter((e=>v.includes(e.id))).length;let h=m.filter((({field:e,isVisibleFlag:t})=>He(e)&&(n[t]??!0)));const g=h.length+p;1===g&&1===h.length&&(h=h.map((e=>({...e,field:{...e.field,enableHiding:!1}}))));const b=m.filter((({field:e,isVisibleFlag:t})=>He(e)&&!(n[t]??1)));return(0,e.jsxs)(i.__experimentalVStack,{className:"dataviews-field-control",spacing:0,children:[t&&(0,e.jsx)(i.BaseControl.VisualLabel,{children:(0,o.__)("Properties")}),(0,e.jsx)(i.__experimentalVStack,{className:"dataviews-view-config__properties",spacing:0,children:(0,e.jsxs)(i.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,size:"medium",children:[h.map((({field:t,isVisibleFlag:i})=>(0,e.jsx)(Be,{field:t,isVisible:!0,onToggleVisibility:()=>{l({...n,[i]:!1})}},t.id))),b.map((({field:t,isVisibleFlag:i})=>(0,e.jsx)(Be,{field:t,isVisible:!1,onToggleVisibility:()=>{l({...n,[i]:!0})}},t.id))),u.map((t=>{const i=v.includes(t.id),r=1===g&&i?{...t,enableHiding:!1}:t;return(0,e.jsx)(Be,{field:r,isVisible:i,onToggleVisibility:()=>{l({...n,fields:i?v.filter((e=>e!==t.id)):[...v,t.id]})}},t.id)}))]})})]})}function Re({item:t,fields:n,column:i,align:r}){const a=n.find((e=>e.id===i));if(!a)return null;const l=ee("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__cell-align-end":"end"===r,"dataviews-view-table__cell-align-center":"center"===r});return(0,e.jsx)("div",{className:l,children:(0,e.jsx)(a.render,{item:t,field:a})})}function We({hasBulkActions:t,item:n,level:i,actions:r,fields:l,id:s,view:o,titleField:u,mediaField:c,descriptionField:d,selection:f,getItemId:m,isItemClickable:v,onClickItem:p,renderItemLink:h,onChangeSelection:g,isActionsColumnSticky:b,posinset:x}){const{paginationInfo:w}=(0,a.useContext)(G),y=xe(r,n),_=y&&f.includes(s),[j,C]=(0,a.useState)(!1),{showTitle:S=!0,showMedia:k=!0,showDescription:I=!0,infiniteScrollEnabled:V}=o,E=(0,a.useRef)(!1),N=o.fields??[],F=u&&S||c&&k||d&&I;return(0,e.jsxs)("tr",{className:ee("dataviews-view-table__row",{"is-selected":y&&_,"is-hovered":j,"has-bulk-actions":y}),onMouseEnter:()=>{C(!0)},onMouseLeave:()=>{C(!1)},onTouchStart:()=>{E.current=!0},"aria-setsize":V?w.totalItems:void 0,"aria-posinset":x,role:V?"article":void 0,onClick:e=>{y&&(E.current||"Range"===document.getSelection()?.type||(((0,te.isAppleOS)()?e.metaKey:e.ctrlKey)?g(f.includes(s)?f.filter((e=>s!==e)):[...f,s]):g(f.includes(s)?f.filter((e=>s!==e)):[s])))},children:[t&&(0,e.jsx)("td",{className:"dataviews-view-table__checkbox-column",children:(0,e.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,e.jsx)(ne,{item:n,selection:f,onChangeSelection:g,getItemId:m,titleField:u,disabled:!y})})}),F&&(0,e.jsx)("td",{children:(0,e.jsx)(Le,{item:n,level:i,titleField:S?u:void 0,mediaField:k?c:void 0,descriptionField:I?d:void 0,isItemClickable:v,onClickItem:p,renderItemLink:h})}),N.map((t=>{const{width:i,maxWidth:r,minWidth:a,align:s}=o.layout?.styles?.[t]??{};return(0,e.jsx)("td",{style:{width:i,maxWidth:r,minWidth:a},children:(0,e.jsx)(Re,{fields:l,item:n,column:t,align:s})},t)})),!!r?.length&&(0,e.jsx)("td",{className:ee("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":b}),onClick:e=>e.stopPropagation(),children:(0,e.jsx)(ve,{item:n,actions:r})})]})}var $e=(0,a.forwardRef)((({className:t,previewSize:n,...i},r)=>(0,e.jsx)("div",{ref:r,className:ee("dataviews-view-grid-items",t),style:{gridTemplateColumns:n&&`repeat(auto-fill, minmax(${n}px, 1fr))`},...i}))),{Badge:Ue}=se(i.privateApis);function Ke({view:t,selection:n,onChangeSelection:r,onClickItem:l,isItemClickable:s,renderItemLink:u,getItemId:c,item:f,actions:m,mediaField:v,titleField:p,descriptionField:h,regularFields:g,badgeFields:b,hasBulkActions:x,config:w,posinset:y}){const{showTitle:_=!0,showMedia:j=!0,showDescription:C=!0,infiniteScrollEnabled:S}=t,k=xe(m,f),I=c(f),V=(0,d.useInstanceId)(Ke),E=n.includes(I),N=v?.render?(0,e.jsx)(v.render,{item:f,field:v,config:w}):null,F=_&&p?.render?(0,e.jsx)(p.render,{item:f,field:p}):null,M=j&&N;let O,P;s(f)&&l&&(F?(O={"aria-labelledby":`dataviews-view-grid__title-field-${V}`},P={id:`dataviews-view-grid__title-field-${V}`}):O={"aria-label":(0,o.__)("Navigate to item")});const{paginationInfo:A}=(0,a.useContext)(G);return(0,e.jsxs)(i.__experimentalVStack,{spacing:0,className:ee("dataviews-view-grid__card",{"is-selected":k&&E}),onClickCapture:e=>{if((0,te.isAppleOS)()?e.metaKey:e.ctrlKey){if(e.stopPropagation(),e.preventDefault(),!k)return;r(n.includes(I)?n.filter((e=>I!==e)):[...n,I])}},role:S?"article":void 0,"aria-setsize":S?A.totalItems:void 0,"aria-posinset":y,children:[M&&(0,e.jsx)(Te,{item:f,isItemClickable:s,onClickItem:l,renderItemLink:u,className:"dataviews-view-grid__media",...O,children:N}),x&&M&&(0,e.jsx)(ne,{item:f,selection:n,onChangeSelection:r,getItemId:c,titleField:p,disabled:!k}),!_&&M&&!!m?.length&&(0,e.jsx)("div",{className:"dataviews-view-grid__media-actions",children:(0,e.jsx)(ve,{item:f,actions:m,isCompact:!0})}),_&&(0,e.jsxs)(i.__experimentalHStack,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,e.jsx)(Te,{item:f,isItemClickable:s,onClickItem:l,renderItemLink:u,className:"dataviews-view-grid__title-field dataviews-title-field",...P,children:F}),!!m?.length&&(0,e.jsx)(ve,{item:f,actions:m,isCompact:!0})]}),(0,e.jsxs)(i.__experimentalVStack,{spacing:1,children:[C&&h?.render&&(0,e.jsx)(h.render,{item:f,field:h}),!!b?.length&&(0,e.jsx)(i.__experimentalHStack,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:b.map((t=>(0,e.jsx)(Ue,{className:"dataviews-view-grid__field-value",children:(0,e.jsx)(t.render,{item:f,field:t})},t.id)))}),!!g?.length&&(0,e.jsx)(i.__experimentalVStack,{className:"dataviews-view-grid__fields",spacing:1,children:g.map((t=>(0,e.jsx)(i.Flex,{className:"dataviews-view-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Tooltip,{text:t.label,children:(0,e.jsx)(i.FlexItem,{className:"dataviews-view-grid__field-name",children:t.header})}),(0,e.jsx)(i.FlexItem,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,e.jsx)(t.render,{item:f,field:t})})]})},t.id)))})]})]},I)}var{Menu:Ge}=se(i.privateApis);function Ye(e){return`${e}-item-wrapper`}function Ze(e){return`${e}-dropdown`}function Xe({idPrefix:t,primaryAction:n,item:r}){const l=(0,re.useRegistry)(),[s,o]=(0,a.useState)(!1),u=function(e,t){return`${e}-primary-action-${t}`}(t,n.id),c="string"==typeof n.label?n.label:n.label([r]);return"RenderModal"in n?(0,e.jsx)("div",{role:"gridcell",children:(0,e.jsx)(i.Composite.Item,{id:u,render:(0,e.jsx)(i.Button,{disabled:!!n.disabled,accessibleWhenDisabled:!0,text:c,size:"small",onClick:()=>o(!0)}),children:s&&(0,e.jsx)(fe,{action:n,items:[r],closeModal:()=>o(!1)})})},n.id):(0,e.jsx)("div",{role:"gridcell",children:(0,e.jsx)(i.Composite.Item,{id:u,render:(0,e.jsx)(i.Button,{disabled:!!n.disabled,accessibleWhenDisabled:!0,size:"small",onClick:()=>{n.callback([r],{registry:l})},children:c})})},n.id)}function Qe({view:t,actions:n,idPrefix:r,isSelected:l,item:s,titleField:u,mediaField:c,descriptionField:d,onSelect:f,otherFields:m,onDropdownTriggerKeyDown:v,posinset:p}){const{showTitle:h=!0,showMedia:g=!0,showDescription:b=!0,infiniteScrollEnabled:x}=t,w=(0,a.useRef)(null),y=`${r}-label`,_=`${r}-description`,j=(0,re.useRegistry)(),[C,S]=(0,a.useState)(!1),[k,I]=(0,a.useState)(null),V=({type:e})=>{S("mouseenter"===e)},{paginationInfo:E}=(0,a.useContext)(G);(0,a.useEffect)((()=>{l&&w.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[l]);const{primaryAction:N,eligibleActions:F}=(0,a.useMemo)((()=>{const e=n.filter((e=>!e.isEligible||e.isEligible(s)));return{primaryAction:e.filter((e=>e.isPrimary))[0],eligibleActions:e}}),[n,s]),M=N&&1===n.length,O=g&&c?.render?(0,e.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:(0,e.jsx)(c.render,{item:s,field:c,config:{sizes:"52px"}})}):null,P=h&&u?.render?(0,e.jsx)(u.render,{item:s,field:u}):null,A=F?.length>0&&(0,e.jsxs)(i.__experimentalHStack,{spacing:3,className:"dataviews-view-list__item-actions",children:[N&&(0,e.jsx)(Xe,{idPrefix:r,primaryAction:N,item:s}),!M&&(0,e.jsxs)("div",{role:"gridcell",children:[(0,e.jsxs)(Ge,{placement:"bottom-end",children:[(0,e.jsx)(Ge.TriggerButton,{render:(0,e.jsx)(i.Composite.Item,{id:Ze(r),render:(0,e.jsx)(i.Button,{size:"small",icon:ie,label:(0,o.__)("Actions"),accessibleWhenDisabled:!0,disabled:!n.length,onKeyDown:v})})}),(0,e.jsx)(Ge.Popover,{children:(0,e.jsx)(me,{actions:F,item:s,registry:j,setActiveModalAction:I})})]}),!!k&&(0,e.jsx)(fe,{action:k,items:[s],closeModal:()=>I(null)})]})]});return(0,e.jsx)(i.Composite.Row,{ref:w,render:(0,e.jsx)("div",{"aria-posinset":p,"aria-setsize":x?E.totalItems:void 0}),role:x?"article":"row",className:ee({"is-selected":l,"is-hovered":C}),onMouseEnter:V,onMouseLeave:V,children:(0,e.jsxs)(i.__experimentalHStack,{className:"dataviews-view-list__item-wrapper",spacing:0,children:[(0,e.jsx)("div",{role:"gridcell",children:(0,e.jsx)(i.Composite.Item,{id:Ye(r),"aria-pressed":l,"aria-labelledby":y,"aria-describedby":_,className:"dataviews-view-list__item",onClick:()=>f(s)})}),(0,e.jsxs)(i.__experimentalHStack,{spacing:3,justify:"start",alignment:"flex-start",children:[O,(0,e.jsxs)(i.__experimentalVStack,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,e.jsxs)(i.__experimentalHStack,{spacing:0,children:[(0,e.jsx)("div",{className:"dataviews-title-field",id:y,children:P}),A]}),b&&d?.render&&(0,e.jsx)("div",{className:"dataviews-view-list__field",children:(0,e.jsx)(d.render,{item:s,field:d})}),(0,e.jsx)("div",{className:"dataviews-view-list__fields",id:_,children:m.map((t=>(0,e.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,e.jsx)(i.VisuallyHidden,{as:"span",className:"dataviews-view-list__field-label",children:t.label}),(0,e.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,e.jsx)(t.render,{item:s,field:t})})]},t.id)))})]})]})]})})}function Je(e){return!!e}function et(e){return(0,a.useMemo)((()=>e?.every((e=>e.supportsBulk))),[e])}var{Badge:tt}=se(i.privateApis);function nt({view:t,multiselect:n,selection:r,onChangeSelection:a,getItemId:l,item:s,mediaField:u,titleField:c,descriptionField:d,regularFields:f,badgeFields:m,config:v,posinset:p,setsize:h}){const{showTitle:g=!0,showMedia:b=!0,showDescription:x=!0}=t,w=l(s),y=r.includes(w),_=u?.render?(0,e.jsx)(u.render,{item:s,field:u,config:v}):null,j=g&&c?.render?(0,e.jsx)(c.render,{item:s,field:c}):null;return(0,e.jsxs)(i.Composite.Item,{"aria-label":c?c.getValue({item:s})||(0,o.__)("(no title)"):void 0,render:({children:t,...n})=>(0,e.jsx)(i.__experimentalVStack,{spacing:0,children:t,...n}),role:"option","aria-posinset":p,"aria-setsize":h,className:ee("dataviews-view-picker-grid__card",{"is-selected":y}),"aria-selected":y,onClick:()=>{if(y)a(r.filter((e=>w!==e)));else{const e=n?[...r,w]:[w];a(e)}},children:[b&&_&&(0,e.jsx)("div",{className:"dataviews-view-picker-grid__media",children:_}),b&&_&&(0,e.jsx)(ne,{item:s,selection:r,onChangeSelection:a,getItemId:l,titleField:c,disabled:!1,"aria-hidden":!0,tabIndex:-1}),g&&(0,e.jsx)(i.__experimentalHStack,{justify:"space-between",className:"dataviews-view-picker-grid__title-actions",children:(0,e.jsx)("div",{className:"dataviews-view-picker-grid__title-field dataviews-title-field",children:j})}),(0,e.jsxs)(i.__experimentalVStack,{spacing:1,children:[x&&d?.render&&(0,e.jsx)(d.render,{item:s,field:d}),!!m?.length&&(0,e.jsx)(i.__experimentalHStack,{className:"dataviews-view-picker-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:m.map((t=>(0,e.jsx)(tt,{className:"dataviews-view-picker-grid__field-value",children:(0,e.jsx)(t.render,{item:s,field:t})},t.id)))}),!!f?.length&&(0,e.jsx)(i.__experimentalVStack,{className:"dataviews-view-picker-grid__fields",spacing:1,children:f.map((t=>(0,e.jsx)(i.Flex,{className:"dataviews-view-picker-grid__field",gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:"row",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.FlexItem,{className:"dataviews-view-picker-grid__field-name",children:t.header}),(0,e.jsx)(i.FlexItem,{className:"dataviews-view-picker-grid__field-value",style:{maxHeight:"none"},children:(0,e.jsx)(t.render,{item:s,field:t})})]})},t.id)))})]})]},w)}function it({groupName:t,groupField:n,children:r}){const a=(0,d.useInstanceId)(it,"dataviews-view-picker-grid-group__header");return(0,e.jsxs)(i.__experimentalVStack,{spacing:2,role:"group","aria-labelledby":a,children:[(0,e.jsx)("h3",{className:"dataviews-view-picker-grid-group__header",id:a,children:(0,o.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,o.__)("%1$s: %2$s"),n.label,t)}),r]},t)}function rt({item:t,fields:n,column:i,align:r}){const a=n.find((e=>e.id===i));if(!a)return null;const l=ee("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__cell-align-end":"end"===r,"dataviews-view-table__cell-align-center":"center"===r});return(0,e.jsx)("div",{className:l,children:(0,e.jsx)(a.render,{item:t,field:a})})}function at({item:t,fields:n,id:r,view:l,titleField:s,mediaField:o,descriptionField:u,selection:c,getItemId:d,onChangeSelection:f,multiselect:m,posinset:v}){const{paginationInfo:p}=(0,a.useContext)(G),h=c.includes(r),[g,b]=(0,a.useState)(!1),{showTitle:x=!0,showMedia:w=!0,showDescription:y=!0,infiniteScrollEnabled:_}=l,j=()=>{b(!0)},C=()=>{b(!1)},S=l.fields??[],k=s&&x||o&&w||u&&y;return(0,e.jsxs)(i.Composite.Item,{render:({children:t,...n})=>(0,e.jsx)("tr",{className:ee("dataviews-view-table__row",{"is-selected":h,"is-hovered":g}),onMouseEnter:j,onMouseLeave:C,children:t,...n}),"aria-selected":h,"aria-setsize":p.totalItems||void 0,"aria-posinset":v,role:_?"article":"option",onClick:()=>{if(h)f(c.filter((e=>r!==e)));else{const e=m?[...c,r]:[r];f(e)}},children:[(0,e.jsx)("td",{className:"dataviews-view-table__checkbox-column",role:"presentation",children:(0,e.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,e.jsx)(ne,{item:t,selection:c,onChangeSelection:f,getItemId:d,titleField:s,disabled:!1,"aria-hidden":!0,tabIndex:-1})})}),k&&(0,e.jsx)("td",{role:"presentation",children:(0,e.jsx)(Le,{item:t,titleField:x?s:void 0,mediaField:w?o:void 0,descriptionField:y?u:void 0,isItemClickable:()=>!1})}),S.map((i=>{const{width:r,maxWidth:a,minWidth:s,align:o}=l.layout?.styles?.[i]??{};return(0,e.jsx)("td",{style:{width:r,maxWidth:a,minWidth:s},role:"presentation",children:(0,e.jsx)(rt,{fields:n,item:t,column:i,align:o})},i)}))]},r)}var lt=[{value:120,breakpoint:1},{value:170,breakpoint:1},{value:230,breakpoint:1},{value:290,breakpoint:1112},{value:350,breakpoint:1636},{value:430,breakpoint:588}];function st(){const t=(0,a.useContext)(G),n=t.view,r=lt.filter((e=>t.containerWidth>=e.breakpoint)),l=n.layout?.previewSize??230,s=r.map(((e,t)=>({...e,index:t}))).filter((e=>e.value<=l)).sort(((e,t)=>t.value-e.value))[0]?.index??0,u=r.map(((e,t)=>({value:t})));return(0,e.jsx)(i.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,showTooltip:!1,label:(0,o.__)("Preview size"),value:s,min:0,max:r.length-1,withInputField:!1,onChange:(e=0)=>{t.onChangeView({...n,layout:{...n.layout,previewSize:r[e].value}})},step:1,marks:u})}function ot(){const t=(0,a.useContext)(G),n=t.view;return(0,e.jsxs)(i.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,size:"__unstable-large",label:(0,o.__)("Density"),value:n.layout?.density||"balanced",onChange:e=>{t.onChangeView({...n,layout:{...n.layout,density:e}})},isBlock:!0,children:[(0,e.jsx)(i.__experimentalToggleGroupControlOption,{value:"comfortable",label:(0,o._x)("Comfortable","Density option for DataView layout")},"comfortable"),(0,e.jsx)(i.__experimentalToggleGroupControlOption,{value:"balanced",label:(0,o._x)("Balanced","Density option for DataView layout")},"balanced"),(0,e.jsx)(i.__experimentalToggleGroupControlOption,{value:"compact",label:(0,o._x)("Compact","Density option for DataView layout")},"compact")]})}var ut=[{type:$,label:(0,o.__)("Table"),component:function({actions:t,data:n,fields:r,getItemId:l,getItemLevel:s,isLoading:u=!1,onChangeView:c,onChangeSelection:f,selection:m,setOpenedFilter:v,onClickItem:p,isItemClickable:h,renderItemLink:g,view:b,className:x,empty:w}){const{containerRef:y}=(0,a.useContext)(G),_=(0,a.useRef)(new Map),j=(0,a.useRef)(),[C,S]=(0,a.useState)(),k=we(t,n),[I,V]=(0,a.useState)(null);(0,a.useEffect)((()=>{j.current&&(j.current.focus(),j.current=void 0)}));const E=(0,a.useId)(),N=function({scrollContainerRef:e,enabled:t=!1}){const[n,i]=(0,a.useState)(!1),r=(0,d.useDebounce)((0,a.useCallback)((()=>{const t=e.current;var n;t&&i((n=t,(0,o.isRTL)()?Math.abs(n.scrollLeft)<=1:n.scrollLeft+n.clientWidth>=n.scrollWidth-1))}),[e,i]),200);return(0,a.useEffect)((()=>"undefined"!=typeof window&&t&&e.current?(r(),e.current.addEventListener("scroll",r),window.addEventListener("resize",r),()=>{e.current?.removeEventListener("scroll",r),window.removeEventListener("resize",r)}):()=>{}),[e,t]),n}({scrollContainerRef:y,enabled:!!t?.length});if(C)return j.current=C,void S(void 0);const F=e=>{const t=_.current.get(e.id),n=t?_.current.get(t.fallback):void 0;S(n?.node)},M=e=>{e.preventDefault(),e.stopPropagation();const t={getBoundingClientRect:()=>({x:e.clientX,y:e.clientY,top:e.clientY,left:e.clientX,right:e.clientX,bottom:e.clientY,width:0,height:0,toJSON:()=>({})})};window.requestAnimationFrame((()=>{V(t)}))},O=!!n?.length,P=r.find((e=>e.id===b.titleField)),A=r.find((e=>e.id===b.mediaField)),T=r.find((e=>e.id===b.descriptionField)),L=b.groupByField?r.find((e=>e.id===b.groupByField)):null,z=L?ze(n,L):null,{showTitle:D=!0,showMedia:B=!0,showDescription:H=!0}=b,R=P&&D||A&&B||T&&H,W=b.fields??[],$=(e,t)=>n=>{n?_.current.set(e,{node:n,fallback:W[t>0?t-1:1]}):_.current.delete(e)},U=b.infiniteScrollEnabled&&!z;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("table",{className:ee("dataviews-view-table",x,{[`has-${b.layout?.density}-density`]:b.layout?.density&&["compact","comfortable"].includes(b.layout.density)}),"aria-busy":u,"aria-describedby":E,role:U?"feed":void 0,children:[(0,e.jsxs)("colgroup",{children:[k&&(0,e.jsx)("col",{className:"dataviews-view-table__col-checkbox"}),R&&(0,e.jsx)("col",{className:"dataviews-view-table__col-primary"}),W.map((t=>(0,e.jsx)("col",{className:`dataviews-view-table__col-${t}`},`col-${t}`))),!!t?.length&&(0,e.jsx)("col",{className:"dataviews-view-table__col-actions"})]}),I&&(0,e.jsx)(i.Popover,{anchor:I,onClose:()=>V(null),placement:"bottom-start",children:(0,e.jsx)(qe,{showLabel:!1})}),(0,e.jsx)("thead",{onContextMenu:M,children:(0,e.jsxs)("tr",{className:"dataviews-view-table__row",children:[k&&(0,e.jsx)("th",{className:"dataviews-view-table__checkbox-column",scope:"col",onContextMenu:M,children:(0,e.jsx)(ye,{selection:m,onChangeSelection:f,data:n,actions:t,getItemId:l})}),R&&(0,e.jsx)("th",{scope:"col",children:P&&(0,e.jsx)(Ae,{ref:$(P.id,0),fieldId:P.id,view:b,fields:r,onChangeView:c,onHide:F,setOpenedFilter:v,canMove:!1})}),W.map(((t,n)=>{const{width:i,maxWidth:a,minWidth:l,align:s}=b.layout?.styles?.[t]??{};return(0,e.jsx)("th",{style:{width:i,maxWidth:a,minWidth:l,textAlign:s},"aria-sort":b.sort?.direction&&b.sort?.field===t?q[b.sort.direction]:void 0,scope:"col",children:(0,e.jsx)(Ae,{ref:$(t,n),fieldId:t,view:b,fields:r,onChangeView:c,onHide:F,setOpenedFilter:v,canMove:b.layout?.enableMoving??!0})},t)})),!!t?.length&&(0,e.jsx)("th",{className:ee("dataviews-view-table__actions-column",{"dataviews-view-table__actions-column--sticky":!0,"dataviews-view-table__actions-column--stuck":!N}),children:(0,e.jsx)("span",{className:"dataviews-view-table-header",children:(0,o.__)("Actions")})})]})}),O&&L&&z?Array.from(z.entries()).map((([n,i])=>(0,e.jsxs)("tbody",{children:[(0,e.jsx)("tr",{className:"dataviews-view-table__group-header-row",children:(0,e.jsx)("td",{colSpan:W.length+(R?1:0)+(k?1:0)+(t?.length?1:0),className:"dataviews-view-table__group-header-cell",children:(0,o.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,o.__)("%1$s: %2$s"),L.label,n)})}),i.map(((n,i)=>(0,e.jsx)(We,{item:n,level:b.showLevels&&"function"==typeof s?s(n):void 0,hasBulkActions:k,actions:t,fields:r,id:l(n)||i.toString(),view:b,titleField:P,mediaField:A,descriptionField:T,selection:m,getItemId:l,onChangeSelection:f,onClickItem:p,renderItemLink:g,isItemClickable:h,isActionsColumnSticky:!N},l(n))))]},`group-${n}`))):(0,e.jsx)("tbody",{children:O&&n.map(((n,i)=>(0,e.jsx)(We,{item:n,level:b.showLevels&&"function"==typeof s?s(n):void 0,hasBulkActions:k,actions:t,fields:r,id:l(n)||i.toString(),view:b,titleField:P,mediaField:A,descriptionField:T,selection:m,getItemId:l,onChangeSelection:f,onClickItem:p,renderItemLink:g,isItemClickable:h,isActionsColumnSticky:!N,posinset:U?i+1:void 0},l(n))))})]}),(0,e.jsxs)("div",{className:ee({"dataviews-loading":u,"dataviews-no-results":!O&&!u}),id:E,children:[!O&&(u?(0,e.jsx)("p",{children:(0,e.jsx)(i.Spinner,{})}):w),O&&u&&(0,e.jsx)("p",{className:"dataviews-loading-more",children:(0,e.jsx)(i.Spinner,{})})]})]})},icon:Y,viewConfigOptions:ot},{type:U,label:(0,o.__)("Grid"),component:function({actions:t,data:n,fields:r,getItemId:l,isLoading:s,onChangeSelection:u,onClickItem:c,isItemClickable:d,renderItemLink:f,selection:m,view:v,className:p,empty:h}){const{resizeObserverRef:g}=(0,a.useContext)(G),b=r.find((e=>e.id===v?.titleField)),x=r.find((e=>e.id===v?.mediaField)),w=r.find((e=>e.id===v?.descriptionField)),y=v.fields??[],{regularFields:_,badgeFields:j}=y.reduce(((e,t)=>{const n=r.find((e=>e.id===t));return n?(e[v.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(n),e):e}),{regularFields:[],badgeFields:[]}),C=!!n?.length,S=we(t,n),k=v.layout?.previewSize,I="900px",V=v.groupByField?r.find((e=>e.id===v.groupByField)):null,E=V?ze(n,V):null,N=v.infiniteScrollEnabled&&!E;return(0,e.jsxs)(e.Fragment,{children:[C&&V&&E&&(0,e.jsx)(i.__experimentalVStack,{spacing:4,children:Array.from(E.entries()).map((([n,r])=>(0,e.jsxs)(i.__experimentalVStack,{spacing:2,children:[(0,e.jsx)("h3",{className:"dataviews-view-grid__group-header",children:(0,o.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,o.__)("%1$s: %2$s"),V.label,n)}),(0,e.jsx)($e,{className:ee("dataviews-view-grid",p),previewSize:k,"aria-busy":s,ref:g,children:r.map((n=>(0,e.jsx)(Ke,{view:v,selection:m,onChangeSelection:u,onClickItem:c,isItemClickable:d,renderItemLink:f,getItemId:l,item:n,actions:t,mediaField:x,titleField:b,descriptionField:w,regularFields:_,badgeFields:j,hasBulkActions:S,config:{sizes:I}},l(n))))})]},n)))}),C&&!E&&(0,e.jsx)($e,{className:ee("dataviews-view-grid",p),previewSize:k,"aria-busy":s,ref:g,role:N?"feed":void 0,children:n.map(((n,i)=>(0,e.jsx)(Ke,{view:v,selection:m,onChangeSelection:u,onClickItem:c,isItemClickable:d,renderItemLink:f,getItemId:l,item:n,actions:t,mediaField:x,titleField:b,descriptionField:w,regularFields:_,badgeFields:j,hasBulkActions:S,config:{sizes:I},posinset:N?i+1:void 0},l(n))))}),!C&&(0,e.jsx)("div",{className:ee({"dataviews-loading":s,"dataviews-no-results":!s}),children:s?(0,e.jsx)("p",{children:(0,e.jsx)(i.Spinner,{})}):h}),C&&s&&(0,e.jsx)("p",{className:"dataviews-loading-more",children:(0,e.jsx)(i.Spinner,{})})]})},icon:Z,viewConfigOptions:st},{type:"list",label:(0,o.__)("List"),component:function t(n){const{actions:r,data:l,fields:s,getItemId:u,isLoading:c,onChangeSelection:f,selection:m,view:v,className:p,empty:h}=n,g=(0,d.useInstanceId)(t,"view-list"),b=l?.findLast((e=>m.includes(u(e)))),x=s.find((e=>e.id===v.titleField)),w=s.find((e=>e.id===v.mediaField)),y=s.find((e=>e.id===v.descriptionField)),_=(v?.fields??[]).map((e=>s.find((t=>e===t.id)))).filter(Je),j=e=>f([u(e)]),C=(0,a.useCallback)((e=>`${g}-${u(e)}`),[g,u]),S=(0,a.useCallback)(((e,t)=>t.startsWith(C(e))),[C]),[k,I]=(0,a.useState)(void 0);(0,a.useEffect)((()=>{b&&I(Ye(C(b)))}),[b,C]);const V=l.findIndex((e=>S(e,k??""))),E=(0,d.usePrevious)(V),N=-1!==V,F=(0,a.useCallback)(((e,t)=>{const n=Math.min(l.length-1,Math.max(0,e));if(!l[n])return;const i=t(C(l[n]));I(i),document.getElementById(i)?.focus()}),[l,C]);(0,a.useEffect)((()=>{!N&&void 0!==E&&-1!==E&&F(E,Ye)}),[N,F,E]);const M=(0,a.useCallback)((e=>{"ArrowDown"===e.key&&(e.preventDefault(),F(V+1,Ze)),"ArrowUp"===e.key&&(e.preventDefault(),F(V-1,Ze))}),[F,V]),O=l?.length;if(!O)return(0,e.jsx)("div",{className:ee({"dataviews-loading":c,"dataviews-no-results":!O&&!c}),children:!O&&(c?(0,e.jsx)("p",{children:(0,e.jsx)(i.Spinner,{})}):h)});const P=v.groupByField?s.find((e=>e.id===v.groupByField)):null,A=P?ze(l,P):null;return O&&P&&A?(0,e.jsx)(i.Composite,{id:`${g}`,render:(0,e.jsx)("div",{}),className:"dataviews-view-list__group",role:"grid",activeId:k,setActiveId:I,children:(0,e.jsx)(i.__experimentalVStack,{spacing:4,className:ee("dataviews-view-list",p),children:Array.from(A.entries()).map((([t,n])=>(0,e.jsxs)(i.__experimentalVStack,{spacing:2,children:[(0,e.jsx)("h3",{className:"dataviews-view-list__group-header",children:(0,o.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,o.__)("%1$s: %2$s"),P.label,t)}),n.map((t=>{const n=C(t);return(0,e.jsx)(Qe,{view:v,idPrefix:n,actions:r,item:t,isSelected:t===b,onSelect:j,mediaField:w,titleField:x,descriptionField:y,otherFields:_,onDropdownTriggerKeyDown:M},n)}))]},t)))})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.Composite,{id:g,render:(0,e.jsx)("div",{}),className:ee("dataviews-view-list",p),role:v.infiniteScrollEnabled?"feed":"grid",activeId:k,setActiveId:I,children:l.map(((t,n)=>{const i=C(t);return(0,e.jsx)(Qe,{view:v,idPrefix:i,actions:r,item:t,isSelected:t===b,onSelect:j,mediaField:w,titleField:x,descriptionField:y,otherFields:_,onDropdownTriggerKeyDown:M,posinset:v.infiniteScrollEnabled?n+1:void 0},i)}))}),O&&c&&(0,e.jsx)("p",{className:"dataviews-loading-more",children:(0,e.jsx)(i.Spinner,{})})]})},icon:(0,o.isRTL)()?X:Q},{type:"pickerGrid",label:(0,o.__)("Grid"),component:function({actions:t,data:n,fields:r,getItemId:l,isLoading:s,onChangeSelection:o,selection:u,view:c,className:d,empty:f}){const{resizeObserverRef:m,paginationInfo:v,itemListLabel:p}=(0,a.useContext)(G),h=r.find((e=>e.id===c?.titleField)),g=r.find((e=>e.id===c?.mediaField)),b=r.find((e=>e.id===c?.descriptionField)),x=c.fields??[],{regularFields:w,badgeFields:y}=x.reduce(((e,t)=>{const n=r.find((e=>e.id===t));return n?(e[c.layout?.badgeFields?.includes(t)?"badgeFields":"regularFields"].push(n),e):e}),{regularFields:[],badgeFields:[]}),_=!!n?.length,j=c.layout?.previewSize,C=et(t),S="900px",k=c.groupByField?r.find((e=>e.id===c.groupByField)):null,I=k?ze(n,k):null,V=c.infiniteScrollEnabled&&!I,E=c?.page??1,N=c?.perPage??0,F=V?v?.totalItems:void 0;return(0,e.jsxs)(e.Fragment,{children:[_&&k&&I&&(0,e.jsx)(i.Composite,{virtualFocus:!0,orientation:"horizontal",role:"listbox","aria-multiselectable":C,className:ee("dataviews-view-picker-grid",d),"aria-label":p,render:({children:t,...n})=>(0,e.jsx)(i.__experimentalVStack,{spacing:4,children:t,...n}),children:Array.from(I.entries()).map((([t,i])=>(0,e.jsx)(it,{groupName:t,groupField:k,children:(0,e.jsx)($e,{previewSize:j,style:{gridTemplateColumns:j&&`repeat(auto-fill, minmax(${j}px, 1fr))`},"aria-busy":s,ref:m,children:i.map((t=>{const i=(E-1)*N+n.indexOf(t)+1;return(0,e.jsx)(nt,{view:c,multiselect:C,selection:u,onChangeSelection:o,getItemId:l,item:t,mediaField:g,titleField:h,descriptionField:b,regularFields:w,badgeFields:y,config:{sizes:S},posinset:i,setsize:F},l(t))}))})},t)))}),_&&!I&&(0,e.jsx)(i.Composite,{render:(0,e.jsx)($e,{className:ee("dataviews-view-picker-grid",d),previewSize:j,"aria-busy":s,ref:m}),virtualFocus:!0,orientation:"horizontal",role:"listbox","aria-multiselectable":C,"aria-label":p,children:n.map(((t,n)=>{let i=V?n+1:void 0;return V||(i=(E-1)*N+n+1),(0,e.jsx)(nt,{view:c,multiselect:C,selection:u,onChangeSelection:o,getItemId:l,item:t,mediaField:g,titleField:h,descriptionField:b,regularFields:w,badgeFields:y,config:{sizes:S},posinset:i,setsize:F},l(t))}))}),!_&&(0,e.jsx)("div",{className:ee({"dataviews-loading":s,"dataviews-no-results":!s}),children:s?(0,e.jsx)("p",{children:(0,e.jsx)(i.Spinner,{})}):f}),_&&s&&(0,e.jsx)("p",{className:"dataviews-loading-more",children:(0,e.jsx)(i.Spinner,{})})]})},icon:Z,viewConfigOptions:st,isPicker:!0},{type:"pickerTable",label:(0,o.__)("Table"),component:function({actions:t,data:n,fields:r,getItemId:l,isLoading:s=!1,onChangeView:u,onChangeSelection:c,selection:d,setOpenedFilter:f,view:m,className:v,empty:p}){const h=(0,a.useRef)(new Map),g=(0,a.useRef)(),[b,x]=(0,a.useState)(),w=et(t)??!1;(0,a.useEffect)((()=>{g.current&&(g.current.focus(),g.current=void 0)}));const y=(0,a.useId)();if(b)return g.current=b,void x(void 0);const _=e=>{const t=h.current.get(e.id),n=t?h.current.get(t.fallback):void 0;x(n?.node)},j=!!n?.length,C=r.find((e=>e.id===m.titleField)),S=r.find((e=>e.id===m.mediaField)),k=r.find((e=>e.id===m.descriptionField)),I=m.groupByField?r.find((e=>e.id===m.groupByField)):null,V=I?ze(n,I):null,{showTitle:E=!0,showMedia:N=!0,showDescription:F=!0}=m,M=C&&E||S&&N||k&&F,O=m.fields??[],P=(e,t)=>n=>{n?h.current.set(e,{node:n,fallback:O[t>0?t-1:1]}):h.current.delete(e)},A=m.infiniteScrollEnabled&&!V;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("table",{className:ee("dataviews-view-table","dataviews-view-picker-table",v,{[`has-${m.layout?.density}-density`]:m.layout?.density&&["compact","comfortable"].includes(m.layout.density)}),"aria-busy":s,"aria-describedby":y,role:A?"feed":"listbox",children:[(0,e.jsx)("thead",{role:"presentation",children:(0,e.jsxs)("tr",{className:"dataviews-view-table__row",role:"presentation",children:[(0,e.jsx)("th",{className:"dataviews-view-table__checkbox-column",children:w&&(0,e.jsx)(ye,{selection:d,onChangeSelection:c,data:n,actions:t,getItemId:l})}),M&&(0,e.jsx)("th",{children:C&&(0,e.jsx)(Ae,{ref:P(C.id,0),fieldId:C.id,view:m,fields:r,onChangeView:u,onHide:_,setOpenedFilter:f,canMove:!1})}),O.map(((t,n)=>{const{width:i,maxWidth:a,minWidth:l,align:s}=m.layout?.styles?.[t]??{};return(0,e.jsx)("th",{style:{width:i,maxWidth:a,minWidth:l,textAlign:s},"aria-sort":m.sort?.direction&&m.sort?.field===t?q[m.sort.direction]:void 0,scope:"col",children:(0,e.jsx)(Ae,{ref:P(t,n),fieldId:t,view:m,fields:r,onChangeView:u,onHide:_,setOpenedFilter:f,canMove:m.layout?.enableMoving??!0})},t)}))]})}),j&&I&&V?Array.from(V.entries()).map((([t,n])=>(0,e.jsxs)(i.Composite,{virtualFocus:!0,orientation:"vertical",render:(0,e.jsx)("tbody",{role:"group"}),children:[(0,e.jsx)("tr",{className:"dataviews-view-table__group-header-row",role:"presentation",children:(0,e.jsx)("td",{colSpan:O.length+(M?1:0)+1,className:"dataviews-view-table__group-header-cell",role:"presentation",children:(0,o.sprintf)(
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
// translators: 1: The label of the field e.g. "Date". 2: The value of the field, e.g.: "May 2022".
(0,o.__)("%1$s: %2$s"),I.label,t)})}),n.map(((t,n)=>(0,e.jsx)(at,{item:t,fields:r,id:l(t)||n.toString(),view:m,titleField:C,mediaField:S,descriptionField:k,selection:d,getItemId:l,onChangeSelection:c,multiselect:w},l(t))))]},`group-${t}`))):(0,e.jsx)(i.Composite,{render:(0,e.jsx)("tbody",{role:"presentation"}),virtualFocus:!0,orientation:"vertical",children:j&&n.map(((t,n)=>(0,e.jsx)(at,{item:t,fields:r,id:l(t)||n.toString(),view:m,titleField:C,mediaField:S,descriptionField:k,selection:d,getItemId:l,onChangeSelection:c,multiselect:w,posinset:n+1},l(t))))})]}),(0,e.jsxs)("div",{className:ee({"dataviews-loading":s,"dataviews-no-results":!j&&!s}),id:y,children:[!j&&(s?(0,e.jsx)("p",{children:(0,e.jsx)(i.Spinner,{})}):p),j&&s&&(0,e.jsx)("p",{className:"dataviews-loading-more",children:(0,e.jsx)(i.Spinner,{})})]})]})},icon:Y,viewConfigOptions:ot,isPicker:!0}],{Menu:ct}=se(i.privateApis);function dt({filters:t,view:n,onChangeView:i,setOpenedFilter:r,triggerProps:a}){const l=t.filter((e=>!e.isVisible));return(0,e.jsxs)(ct,{children:[(0,e.jsx)(ct.TriggerButton,{...a}),(0,e.jsx)(ct.Popover,{children:l.map((t=>(0,e.jsx)(ct.Item,{onClick:()=>{r(t.field),i({...n,page:1,filters:[...n.filters||[],{field:t.field,value:void 0,operator:t.operators[0]}]})},children:(0,e.jsx)(ct.ItemLabel,{children:t.name})},t.field)))})]})}var ft=(0,a.forwardRef)((function({filters:t,view:n,onChangeView:r,setOpenedFilter:a},l){if(!t.length||t.every((({isPrimary:e})=>e)))return null;const s=t.filter((e=>!e.isVisible));return(0,e.jsx)(dt,{triggerProps:{render:(0,e.jsx)(i.Button,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters-button",variant:"tertiary",disabled:!s.length,ref:l}),children:(0,o.__)("Add filter")},filters:t,view:n,onChangeView:r,setOpenedFilter:a})}));function mt({buttonRef:t,filtersCount:n,children:i}){return(0,a.useEffect)((()=>()=>{t.current?.focus()}),[t]),(0,e.jsxs)(e.Fragment,{children:[i,!!n&&(0,e.jsx)("span",{className:"dataviews-filters-toggle__count",children:n})]})}var vt=function(){const{filters:t,view:n,onChangeView:r,setOpenedFilter:l,isShowingFilter:s,setIsShowingFilter:u}=(0,a.useContext)(G),c=(0,a.useRef)(null),d=(0,a.useCallback)((e=>{r(e),u(!0)}),[r,u]),f=!!t.filter((e=>e.isVisible)).length;if(0===t.length)return null;const m={label:(0,o.__)("Add filter"),"aria-expanded":!1,isPressed:!1},v={label:(0,o._x)("Filter","verb"),"aria-expanded":s,isPressed:s,onClick:()=>{s||l(null),u(!s)}},p=(0,e.jsx)(i.Button,{ref:c,className:"dataviews-filters__visibility-toggle",size:"compact",icon:Ve,...f?v:m});return(0,e.jsx)("div",{className:"dataviews-filters__container-visibility-toggle",children:f?(0,e.jsx)(mt,{buttonRef:c,filtersCount:n.filters?.length,children:p}):(0,e.jsx)(dt,{filters:t,view:n,onChangeView:d,setOpenedFilter:l,triggerProps:{render:p}})})},pt=Object.defineProperty,ht=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,xt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,yt=(e,t,n)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_t=(e,t)=>{for(var n in t||(t={}))xt.call(t,n)&&yt(e,n,t[n]);if(bt)for(var n of bt(t))wt.call(t,n)&&yt(e,n,t[n]);return e},jt=(e,t)=>ht(e,gt(t)),Ct=(e,t)=>{var n={};for(var i in e)xt.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&bt)for(var i of bt(e))t.indexOf(i)<0&&wt.call(e,i)&&(n[i]=e[i]);return n},St=Object.defineProperty,kt=Object.defineProperties,It=Object.getOwnPropertyDescriptors,Vt=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Ft=(e,t,n)=>t in e?St(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mt=(e,t)=>{for(var n in t||(t={}))Et.call(t,n)&&Ft(e,n,t[n]);if(Vt)for(var n of Vt(t))Nt.call(t,n)&&Ft(e,n,t[n]);return e},Ot=(e,t)=>kt(e,It(t)),Pt=(e,t)=>{var n={};for(var i in e)Et.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Vt)for(var i of Vt(e))t.indexOf(i)<0&&Nt.call(e,i)&&(n[i]=e[i]);return n};function At(...e){}function Tt(e,t){return"function"==typeof Object.hasOwn?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function Lt(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function zt(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Dt(e){return e}function Bt(e,t){if(!e){if("string"!=typeof t)throw new Error("Invariant failed");throw new Error(t)}}function Ht(e){return e.disabled||!0===e["aria-disabled"]||"true"===e["aria-disabled"]}function qt(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}function Rt(...e){for(const t of e)if(void 0!==t)return t}var Wt=r(609),$t=r.t(Wt,2);function Ut(e,t){"function"==typeof e?e(t):e&&(e.current=t)}var Kt,Gt="undefined"!=typeof window&&!!(null==(Kt=window.document)?void 0:Kt.createElement);function Yt(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function Zt(e,t=!1){const{activeElement:n}=Yt(e);if(!(null==n?void 0:n.nodeName))return null;if("IFRAME"===n.tagName&&n.contentDocument)return Zt(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=Yt(n).getElementById(e);if(t)return t}}return n}function Xt(e,t){return e===t||e.contains(t)}function Qt(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==Jt.indexOf(e.type)}var Jt=["button","color","file","image","reset","submit"];function en(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}function tn(e){return e.isContentEditable||en(e)}function nn(e){let t=0,n=0;if(en(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const i=Yt(e).getSelection();if((null==i?void 0:i.rangeCount)&&i.anchorNode&&Xt(e,i.anchorNode)&&i.focusNode&&Xt(e,i.focusNode)){const r=i.getRangeAt(0),a=r.cloneRange();a.selectNodeContents(e),a.setEnd(r.startContainer,r.startOffset),t=a.toString().length,a.setEnd(r.endContainer,r.endOffset),n=a.toString().length}}return{start:t,end:n}}function rn(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==["dialog","menu","listbox","tree","grid"].indexOf(n)?n:t}function an(e){if(!e)return null;const t=e=>"auto"===e||"scroll"===e;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:n}=getComputedStyle(e);if(t(n))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:n}=getComputedStyle(e);if(t(n))return e}return an(e.parentElement)||document.scrollingElement||document.body}function ln(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function sn(){return!!Gt&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}function on(){return Gt&&sn()&&/apple/i.test(navigator.vendor)}function un(e){return Boolean(e.currentTarget&&!Xt(e.currentTarget,e.target))}function cn(e){return e.target===e.currentTarget}function dn(e,t){const n=new FocusEvent("blur",t),i=e.dispatchEvent(n),r=Ot(Mt({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",r)),i}function fn(e,t){const n=new MouseEvent("click",t);return e.dispatchEvent(n)}function mn(e,t){const n=t||e.currentTarget,i=e.relatedTarget;return!i||!Xt(n,i)}function vn(e,t,n,i){const r=(e=>{if(i){const t=setTimeout(e,i);return()=>clearTimeout(t)}const t=requestAnimationFrame(e);return()=>cancelAnimationFrame(t)})((()=>{e.removeEventListener(t,a,!0),n()})),a=()=>{r(),n()};return e.addEventListener(t,a,{once:!0,capture:!0}),r}function pn(e,t,n,i=window){const r=[];try{i.document.addEventListener(e,t,n);for(const a of Array.from(i.frames))r.push(pn(e,t,n,a))}catch(e){}return()=>{try{i.document.removeEventListener(e,t,n)}catch(e){}for(const e of r)e()}}var hn=_t({},$t),gn=hn.useId,bn=(hn.useDeferredValue,hn.useInsertionEffect),xn=Gt?Wt.useLayoutEffect:Wt.useEffect;function wn(e){const t=(0,Wt.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return bn?bn((()=>{t.current=e})):t.current=e,(0,Wt.useCallback)(((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}function yn(...e){return(0,Wt.useMemo)((()=>{if(e.some(Boolean))return t=>{for(const n of e)Ut(n,t)}}),e)}function jn(e){if(gn){const t=gn();return e||t}const[t,n]=(0,Wt.useState)(e);return xn((()=>{if(e||t)return;const i=Math.random().toString(36).slice(2,8);n(`id-${i}`)}),[e,t]),e||t}function Cn(e,t){const n=(0,Wt.useRef)(!1);(0,Wt.useEffect)((()=>{if(n.current)return e();n.current=!0}),t),(0,Wt.useEffect)((()=>()=>{n.current=!1}),[])}function Sn(e){return wn("function"==typeof e?e:()=>e)}function kn(e,t,n=[]){const i=(0,Wt.useCallback)((n=>(e.wrapElement&&(n=e.wrapElement(n)),t(n))),[...n,e.wrapElement]);return jt(_t({},e),{wrapElement:i})}var In=!1,Vn=!1,En=0,Nn=0;function Fn(e){(function(e){const t=e.movementX||e.screenX-En,n=e.movementY||e.screenY-Nn;return En=e.screenX,Nn=e.screenY,t||n||!1})(e)&&(Vn=!0)}function Mn(){Vn=!1}function On(e){const t=Wt.forwardRef(((t,n)=>e(jt(_t({},t),{ref:n}))));return t.displayName=e.displayName||e.name,t}function Pn(e,t){return Wt.memo(e,t)}function An(t,n){const i=n,{wrapElement:r,render:a}=i,l=Ct(i,["wrapElement","render"]),s=yn(n.ref,function(e){return function(e){return!!e&&!!(0,Wt.isValidElement)(e)&&("ref"in e.props||"ref"in e)}(e)?_t({},e.props).ref||e.ref:null}(a));let o;if(Wt.isValidElement(a)){const e=jt(_t({},a.props),{ref:s});o=Wt.cloneElement(a,function(e,t){const n=_t({},e);for(const i in t){if(!Tt(t,i))continue;if("className"===i){const i="className";n[i]=e[i]?`${e[i]} ${t[i]}`:t[i];continue}if("style"===i){const i="style";n[i]=e[i]?_t(_t({},e[i]),t[i]):t[i];continue}const r=t[i];if("function"==typeof r&&i.startsWith("on")){const t=e[i];if("function"==typeof t){n[i]=(...e)=>{r(...e),t(...e)};continue}}n[i]=r}return n}(l,e))}else o=a?a(l):(0,e.jsx)(t,_t({},l));return r?r(o):o}function Tn(e){const t=(t={})=>e(t);return t.displayName=e.name,t}function Ln(t=[],n=[]){const i=Wt.createContext(void 0),r=Wt.createContext(void 0),a=()=>Wt.useContext(i),l=n=>t.reduceRight(((t,i)=>(0,e.jsx)(i,jt(_t({},n),{children:t}))),(0,e.jsx)(i.Provider,_t({},n)));return{context:i,scopedContext:r,useContext:a,useScopedContext:(e=!1)=>{const t=Wt.useContext(r),n=a();return e?t:t||n},useProviderContext:()=>{const e=Wt.useContext(r),t=a();if(!e||e!==t)return t},ContextProvider:l,ScopedContextProvider:t=>(0,e.jsx)(l,jt(_t({},t),{children:n.reduceRight(((n,i)=>(0,e.jsx)(i,jt(_t({},t),{children:n}))),(0,e.jsx)(r.Provider,_t({},t)))}))}}var zn=Ln(),Dn=zn.useContext,Bn=(zn.useScopedContext,zn.useProviderContext,Ln([zn.ContextProvider],[zn.ScopedContextProvider])),Hn=Bn.useContext,qn=(Bn.useScopedContext,Bn.useProviderContext),Rn=Bn.ContextProvider,Wn=Bn.ScopedContextProvider,$n=(0,Wt.createContext)(void 0),Un=(0,Wt.createContext)(void 0),Kn=((0,Wt.createContext)(null),(0,Wt.createContext)(null),Ln([Rn],[Wn])),Gn=Kn.useContext;function Yn(e,t){const n=e.__unstableInternals;return Bt(n,"Invalid store"),n[t]}function Zn(e,...t){let n=e,i=n,r=Symbol(),a=At;const l=new Set,s=new Set,o=new Set,u=new Set,c=new Set,d=new WeakMap,f=new WeakMap,m=(e,t,n=u)=>(n.add(t),f.set(t,e),()=>{var e;null==(e=d.get(t))||e(),d.delete(t),f.delete(t),n.delete(t)}),v=(e,a,l=!1)=>{var o;if(!Tt(n,e))return;const m=(v=a,p=n[e],function(e){return"function"==typeof e}(v)?v(function(e){return"function"==typeof e}(p)?p():p):v);var v,p;if(m===n[e])return;if(!l)for(const n of t)null==(o=null==n?void 0:n.setState)||o.call(n,e,m);const h=n;n=Ot(Mt({},n),{[e]:m});const g=Symbol();r=g,s.add(e);const b=(t,i,r)=>{var a;const l=f.get(t);l&&!l.some((t=>r?r.has(t):t===e))||(null==(a=d.get(t))||a(),d.set(t,t(n,i)))};for(const e of u)b(e,h);queueMicrotask((()=>{if(r!==g)return;const e=n;for(const e of c)b(e,i,s);i=e,s.clear()}))},p={getState:()=>n,setState:v,__unstableInternals:{setup:e=>(o.add(e),()=>o.delete(e)),init:()=>{const e=l.size,i=Symbol();l.add(i);const r=()=>{l.delete(i),l.size||a()};if(e)return r;const s=(u=n,Object.keys(u)).map((e=>Lt(...t.map((t=>{var n;const i=null==(n=null==t?void 0:t.getState)?void 0:n.call(t);if(i&&Tt(i,e))return ei(t,[e],(t=>{v(e,t[e],!0)}))})))));var u;const c=[];for(const e of o)c.push(e());const d=t.map(Qn);return a=Lt(...s,...c,...d),r},subscribe:(e,t)=>m(e,t),sync:(e,t)=>(d.set(t,t(n,n)),m(e,t)),batch:(e,t)=>(d.set(t,t(n,i)),m(e,t,c)),pick:e=>Zn(function(e,t){const n={};for(const i of t)Tt(e,i)&&(n[i]=e[i]);return n}(n,e),p),omit:e=>Zn(function(e,t){const n=Mt({},e);for(const e of t)Tt(n,e)&&delete n[e];return n}(n,e),p)}};return p}function Xn(e,...t){if(e)return Yn(e,"setup")(...t)}function Qn(e,...t){if(e)return Yn(e,"init")(...t)}function Jn(e,...t){if(e)return Yn(e,"subscribe")(...t)}function ei(e,...t){if(e)return Yn(e,"sync")(...t)}function ti(e,...t){if(e)return Yn(e,"batch")(...t)}function ni(e,...t){if(e)return Yn(e,"omit")(...t)}function ii(...e){var t;const n={};for(const i of e){const e=null==(t=null==i?void 0:i.getState)?void 0:t.call(i);e&&Object.assign(n,e)}const i=Zn(n,...e);return Object.assign({},...e,i)}Kn.useScopedContext,Kn.useProviderContext,Kn.ContextProvider,Kn.ScopedContextProvider;var ri=r(888),{useSyncExternalStore:ai}=ri;function li(e,t=Dt){const n=Wt.useCallback((t=>e?Jn(e,null,t):()=>{}),[e]),i=()=>{const n="string"==typeof t?t:null,i="function"==typeof t?t:null,r=null==e?void 0:e.getState();return i?i(r):r&&n&&Tt(r,n)?r[n]:void 0};return ai(n,i,i)}function si(e,t){const n=Wt.useRef({}),i=Wt.useCallback((t=>e?Jn(e,null,t):()=>{}),[e]),r=()=>{const i=null==e?void 0:e.getState();let r=!1;const a=n.current;for(const e in t){const n=t[e];if("function"==typeof n){const t=n(i);t!==a[e]&&(a[e]=t,r=!0)}if("string"==typeof n){if(!i)continue;if(!Tt(i,n))continue;const t=i[n];t!==a[e]&&(a[e]=t,r=!0)}}return r&&(n.current=_t({},a)),n.current};return ai(i,r,r)}function oi(e,t,n,i){const r=Tt(t,n)?t[n]:void 0,a=i?t[i]:void 0,l=function(e){const t=(0,Wt.useRef)(e);return xn((()=>{t.current=e})),t}({value:r,setValue:a});xn((()=>ei(e,[n],((e,t)=>{const{value:i,setValue:r}=l.current;r&&e[n]!==t[n]&&e[n]!==i&&r(e[n])}))),[e,n]),xn((()=>{if(void 0!==r)return e.setState(n,r),ti(e,[n],(()=>{void 0!==r&&e.setState(n,r)}))}))}function ui(e,t,n){return function(e,t,n){return Cn(t,[n.store,n.disclosure]),oi(e,n,"open","setOpen"),oi(e,n,"mounted","setMounted"),oi(e,n,"animated"),Object.assign(e,{disclosure:n.disclosure})}(e,t,n)}function ci(e,t,n){return oi(e=function(e,t,n){return Cn(t,[n.store]),oi(e,n,"items","setItems"),e}(e,t,n),n,"activeId","setActiveId"),oi(e,n,"includesBaseElement"),oi(e,n,"virtualFocus"),oi(e,n,"orientation"),oi(e,n,"rtl"),oi(e,n,"focusLoop"),oi(e,n,"focusWrap"),oi(e,n,"focusShift"),e}function di(e){const t=[];for(const n of e)t.push(...n);return t}function fi(e){return e.slice().reverse()}function mi(e={}){var t;e.store;const n=null==(t=e.store)?void 0:t.getState(),i=Rt(e.items,null==n?void 0:n.items,e.defaultItems,[]),r=new Map(i.map((e=>[e.id,e]))),a={items:i,renderedItems:Rt(null==n?void 0:n.renderedItems,[])},l=null==(s=e.store)?void 0:s.__unstablePrivateStore;var s;const o=Zn({items:i,renderedItems:a.renderedItems},l),u=Zn(a,e.store),c=e=>{const t=function(e,t){const n=e.map(((e,t)=>[t,e]));let i=!1;return n.sort((([e,n],[r,a])=>{const l=t(n),s=t(a);return l===s?0:l&&s?function(e,t){return Boolean(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}(l,s)?(e>r&&(i=!0),-1):(e<r&&(i=!0),1):0})),i?n.map((([e,t])=>t)):e}(e,(e=>e.element));o.setState("renderedItems",t),u.setState("renderedItems",t)};Xn(u,(()=>Qn(o))),Xn(o,(()=>ti(o,["items"],(e=>{u.setState("items",e.items)})))),Xn(o,(()=>ti(o,["renderedItems"],(e=>{let t=!0,n=requestAnimationFrame((()=>{const{renderedItems:t}=u.getState();e.renderedItems!==t&&c(e.renderedItems)}));if("function"!=typeof IntersectionObserver)return()=>cancelAnimationFrame(n);const i=function(e){var t;const n=e.find((e=>!!e.element)),i=[...e].reverse().find((e=>!!e.element));let r=null==(t=null==n?void 0:n.element)?void 0:t.parentElement;for(;r&&(null==i?void 0:i.element);){if(i&&r.contains(i.element))return r;r=r.parentElement}return Yt(r).body}(e.renderedItems),r=new IntersectionObserver((()=>{t?t=!1:(cancelAnimationFrame(n),n=requestAnimationFrame((()=>c(e.renderedItems))))}),{root:i});for(const t of e.renderedItems)t.element&&r.observe(t.element);return()=>{cancelAnimationFrame(n),r.disconnect()}}))));const d=(e,t,n=!1)=>{let i;return t((t=>{const n=t.findIndex((({id:t})=>t===e.id)),a=t.slice();if(-1!==n){i=t[n];const l=Mt(Mt({},i),e);a[n]=l,r.set(e.id,l)}else a.push(e),r.set(e.id,e);return a})),()=>{t((t=>{if(!i)return n&&r.delete(e.id),t.filter((({id:t})=>t!==e.id));const a=t.findIndex((({id:t})=>t===e.id));if(-1===a)return t;const l=t.slice();return l[a]=i,r.set(e.id,i),l}))}},f=e=>d(e,(e=>o.setState("items",e)),!0);return Ot(Mt({},u),{registerItem:f,renderItem:e=>Lt(f(e),d(e,(e=>o.setState("renderedItems",e)))),item:e=>{if(!e)return null;let t=r.get(e);if(!t){const{items:n}=o.getState();t=n.find((t=>t.id===e)),t&&r.set(e,t)}return t||null},__unstablePrivateStore:o})}var vi={id:null};function pi(e,t){return e.find((e=>t?!e.disabled&&e.id!==t:!e.disabled))}function hi(e,t){return e.filter((e=>e.rowId===t))}function gi(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}function bi(e){let t=0;for(const{length:n}of e)n>t&&(t=n);return t}var xi=on()&&Gt&&!!navigator.maxTouchPoints;function wi(e={}){var t=e,{tag:n}=t,i=Pt(t,["tag"]);const r=ii(i.store,function(e,...t){if(e)return Yn(e,"pick")(...t)}(n,["value","rtl"])),a=null==n?void 0:n.getState(),l=null==r?void 0:r.getState(),s=Rt(i.activeId,null==l?void 0:l.activeId,i.defaultActiveId,null),o=function(e={}){var t;const n=null==(t=e.store)?void 0:t.getState(),i=mi(e),r=Rt(e.activeId,null==n?void 0:n.activeId,e.defaultActiveId),a=Zn(Ot(Mt({},i.getState()),{id:Rt(e.id,null==n?void 0:n.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:r,baseElement:Rt(null==n?void 0:n.baseElement,null),includesBaseElement:Rt(e.includesBaseElement,null==n?void 0:n.includesBaseElement,null===r),moves:Rt(null==n?void 0:n.moves,0),orientation:Rt(e.orientation,null==n?void 0:n.orientation,"both"),rtl:Rt(e.rtl,null==n?void 0:n.rtl,!1),virtualFocus:Rt(e.virtualFocus,null==n?void 0:n.virtualFocus,!1),focusLoop:Rt(e.focusLoop,null==n?void 0:n.focusLoop,!1),focusWrap:Rt(e.focusWrap,null==n?void 0:n.focusWrap,!1),focusShift:Rt(e.focusShift,null==n?void 0:n.focusShift,!1)}),i,e.store);Xn(a,(()=>ei(a,["renderedItems","activeId"],(e=>{a.setState("activeId",(t=>{var n;return void 0!==t?t:null==(n=pi(e.renderedItems))?void 0:n.id}))}))));const l=(e="next",t={})=>{var n,i;const r=a.getState(),{skip:l=0,activeId:s=r.activeId,focusShift:o=r.focusShift,focusLoop:u=r.focusLoop,focusWrap:c=r.focusWrap,includesBaseElement:d=r.includesBaseElement,renderedItems:f=r.renderedItems,rtl:m=r.rtl}=t,v="up"===e||"down"===e,p="next"===e||"down"===e,h=p?m&&!v:!m||v,g=o&&!l;let b=v?di(function(e,t,n){const i=bi(e);for(const r of e)for(let e=0;e<i;e+=1){const i=r[e];if(!i||n&&i.disabled){const i=0===e&&n?pi(r):r[e-1];r[e]=i&&t!==i.id&&n?i:{id:"__EMPTY_ITEM__",disabled:!0,rowId:null==i?void 0:i.rowId}}}return e}(gi(f),s,g)):f;if(b=h?fi(b):b,b=v?function(e){const t=gi(e),n=bi(t),i=[];for(let e=0;e<n;e+=1)for(const n of t){const t=n[e];t&&i.push(Ot(Mt({},t),{rowId:t.rowId?`${e}`:void 0}))}return i}(b):b,null==s)return null==(n=pi(b))?void 0:n.id;const x=b.find((e=>e.id===s));if(!x)return null==(i=pi(b))?void 0:i.id;const w=b.some((e=>e.rowId)),y=b.indexOf(x),_=b.slice(y+1),j=hi(_,x.rowId);if(l){const e=function(e,t){return e.filter((e=>t?!e.disabled&&e.id!==t:!e.disabled))}(j,s),t=e.slice(l)[0]||e[e.length-1];return null==t?void 0:t.id}const C=u&&(v?"horizontal"!==u:"vertical"!==u),S=w&&c&&(v?"horizontal"!==c:"vertical"!==c),k=p?(!w||v)&&C&&d:!!v&&d;if(C){const e=function(e,t,n=!1){const i=e.findIndex((e=>e.id===t));return[...e.slice(i+1),...n?[vi]:[],...e.slice(0,i)]}(S&&!k?b:hi(b,x.rowId),s,k),t=pi(e,s);return null==t?void 0:t.id}if(S){const e=pi(k?j:_,s);return k?(null==e?void 0:e.id)||null:null==e?void 0:e.id}const I=pi(j,s);return!I&&k?null:null==I?void 0:I.id};return Ot(Mt(Mt({},i),a),{setBaseElement:e=>a.setState("baseElement",e),setActiveId:e=>a.setState("activeId",e),move:e=>{void 0!==e&&(a.setState("activeId",e),a.setState("moves",(e=>e+1)))},first:()=>{var e;return null==(e=pi(a.getState().renderedItems))?void 0:e.id},last:()=>{var e;return null==(e=pi(fi(a.getState().renderedItems)))?void 0:e.id},next:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("next",e)),previous:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("previous",e)),down:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("down",e)),up:e=>(void 0!==e&&"number"==typeof e&&(e={skip:e}),l("up",e))})}(Ot(Mt({},i),{activeId:s,includesBaseElement:Rt(i.includesBaseElement,null==l?void 0:l.includesBaseElement,!0),orientation:Rt(i.orientation,null==l?void 0:l.orientation,"vertical"),focusLoop:Rt(i.focusLoop,null==l?void 0:l.focusLoop,!0),focusWrap:Rt(i.focusWrap,null==l?void 0:l.focusWrap,!0),virtualFocus:Rt(i.virtualFocus,null==l?void 0:l.virtualFocus,!0)})),u=function(e={}){var t=e,{popover:n}=t,i=Pt(t,["popover"]);const r=ii(i.store,ni(n,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),a=null==r?void 0:r.getState(),l=function(e={}){return function(e={}){const t=ii(e.store,ni(e.disclosure,["contentElement","disclosureElement"])),n=null==t?void 0:t.getState(),i=Rt(e.open,null==n?void 0:n.open,e.defaultOpen,!1),r=Rt(e.animated,null==n?void 0:n.animated,!1),a=Zn({open:i,animated:r,animating:!!r&&i,mounted:i,contentElement:Rt(null==n?void 0:n.contentElement,null),disclosureElement:Rt(null==n?void 0:n.disclosureElement,null)},t);return Xn(a,(()=>ei(a,["animated","animating"],(e=>{e.animated||a.setState("animating",!1)})))),Xn(a,(()=>Jn(a,["open"],(()=>{a.getState().animated&&a.setState("animating",!0)})))),Xn(a,(()=>ei(a,["open","animating"],(e=>{a.setState("mounted",e.open||e.animating)})))),Ot(Mt({},a),{disclosure:e.disclosure,setOpen:e=>a.setState("open",e),show:()=>a.setState("open",!0),hide:()=>a.setState("open",!1),toggle:()=>a.setState("open",(e=>!e)),stopAnimation:()=>a.setState("animating",!1),setContentElement:e=>a.setState("contentElement",e),setDisclosureElement:e=>a.setState("disclosureElement",e)})}(e)}(Ot(Mt({},i),{store:r})),s=Rt(i.placement,null==a?void 0:a.placement,"bottom"),o=Zn(Ot(Mt({},l.getState()),{placement:s,currentPlacement:s,anchorElement:Rt(null==a?void 0:a.anchorElement,null),popoverElement:Rt(null==a?void 0:a.popoverElement,null),arrowElement:Rt(null==a?void 0:a.arrowElement,null),rendered:Symbol("rendered")}),l,r);return Ot(Mt(Mt({},l),o),{setAnchorElement:e=>o.setState("anchorElement",e),setPopoverElement:e=>o.setState("popoverElement",e),setArrowElement:e=>o.setState("arrowElement",e),render:()=>o.setState("rendered",Symbol("rendered"))})}(Ot(Mt({},i),{placement:Rt(i.placement,null==l?void 0:l.placement,"bottom-start")})),c=Rt(i.value,null==l?void 0:l.value,i.defaultValue,""),d=Rt(i.selectedValue,null==l?void 0:l.selectedValue,null==a?void 0:a.values,i.defaultSelectedValue,""),f=Array.isArray(d),m=Ot(Mt(Mt({},o.getState()),u.getState()),{value:c,selectedValue:d,resetValueOnSelect:Rt(i.resetValueOnSelect,null==l?void 0:l.resetValueOnSelect,f),resetValueOnHide:Rt(i.resetValueOnHide,null==l?void 0:l.resetValueOnHide,f&&!n),activeValue:null==l?void 0:l.activeValue}),v=Zn(m,o,u,r);return xi&&Xn(v,(()=>ei(v,["virtualFocus"],(()=>{v.setState("virtualFocus",!1)})))),Xn(v,(()=>{if(n)return Lt(ei(v,["selectedValue"],(e=>{Array.isArray(e.selectedValue)&&n.setValues(e.selectedValue)})),ei(n,["values"],(e=>{v.setState("selectedValue",e.values)})))})),Xn(v,(()=>ei(v,["resetValueOnHide","mounted"],(e=>{e.resetValueOnHide&&(e.mounted||v.setState("value",c))})))),Xn(v,(()=>ei(v,["open"],(e=>{e.open||(v.setState("activeId",s),v.setState("moves",0))})))),Xn(v,(()=>ei(v,["moves","activeId"],((e,t)=>{e.moves===t.moves&&v.setState("activeValue",void 0)})))),Xn(v,(()=>ti(v,["moves","renderedItems"],((e,t)=>{if(e.moves===t.moves)return;const{activeId:n}=v.getState(),i=o.item(n);v.setState("activeValue",null==i?void 0:i.value)})))),Ot(Mt(Mt(Mt({},u),o),v),{tag:n,setValue:e=>v.setState("value",e),resetValue:()=>v.setState("value",m.value),setSelectedValue:e=>v.setState("selectedValue",e)})}function yi(e={}){e=function(e){const t=Gn();return function(e){const t=jn(e.id);return _t({id:t},e)}(e=jt(_t({},e),{tag:void 0!==e.tag?e.tag:t}))}(e);const[t,n]=function(e,t){const[n,i]=Wt.useState((()=>e(t)));xn((()=>Qn(n)),[n]);const r=Wt.useCallback((e=>li(n,e)),[n]);return[Wt.useMemo((()=>jt(_t({},n),{useState:r})),[n,r]),wn((()=>{i((n=>e(_t(_t({},t),n.getState()))))}))]}(wi,e);return function(e,t,n){return Cn(t,[n.tag]),oi(e,n,"value","setValue"),oi(e,n,"selectedValue","setSelectedValue"),oi(e,n,"resetValueOnHide"),oi(e,n,"resetValueOnSelect"),Object.assign(ci(function(e,t,n){return Cn(t,[n.popover]),oi(e,n,"placement"),ui(e,t,n)}(e,t,n),t,n),{tag:n.tag})}(t,n,e)}var _i=Ln(),ji=(_i.useContext,_i.useScopedContext,_i.useProviderContext),Ci=Ln([_i.ContextProvider],[_i.ScopedContextProvider]),Si=(Ci.useContext,Ci.useScopedContext,Ci.useProviderContext,Ci.ContextProvider),ki=Ci.ScopedContextProvider,Ii=((0,Wt.createContext)(void 0),(0,Wt.createContext)(void 0),Ln([Si],[ki])),Vi=(Ii.useContext,Ii.useScopedContext,Ii.useProviderContext),Ei=Ii.ContextProvider,Ni=Ii.ScopedContextProvider,Fi=(0,Wt.createContext)(void 0),Mi=Ln([Ei,Rn],[Ni,Wn]),Oi=Mi.useContext,Pi=Mi.useScopedContext,Ai=Mi.useProviderContext,Ti=Mi.ContextProvider,Li=Mi.ScopedContextProvider,zi=(0,Wt.createContext)(void 0),Di=(0,Wt.createContext)(!1);function Bi(t={}){const n=yi(t);return(0,e.jsx)(Ti,{value:n,children:t.children})}var Hi=Tn((function(e){var t=e,{store:n}=t,i=Ct(t,["store"]);const r=Ai();Bt(n=n||r,!1);const a=n.useState((e=>{var t;return null==(t=e.baseElement)?void 0:t.id}));return qt(i=_t({htmlFor:a},i))})),qi=Pn(On((function(e){return An("label",Hi(e))})));function Ri(e,t){return t&&e.item(t)||null}var Wi=Symbol("FOCUS_SILENTLY");function $i(e,t,n){if(!t)return!1;if(t===n)return!1;const i=e.item(t.id);return!(!i||n&&i.element===n)}var Ui=(0,Wt.createContext)(!0),Ki="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function Gi(e){return!!e.matches(Ki)&&!!function(e){if("function"==typeof e.checkVisibility)return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}(e)&&!e.closest("[inert]")}function Yi(e){const t=Zt(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function Zi(e){const t=Zt(e);if(!t)return!1;if(Xt(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&"id"in e&&(n===e.id||!!e.querySelector(`#${CSS.escape(n)}`))}var Xi=on(),Qi=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Ji=Symbol("safariFocusAncestor");function er(e,t){e&&(e[Ji]=t)}function tr(e){return!("input"!==e.tagName.toLowerCase()||!e.type||"radio"!==e.type&&"checkbox"!==e.type)}function nr(e,t,n,i,r){return e?t?n&&!i?-1:void 0:n?r:r||0:r}function ir(e,t){return wn((n=>{null==e||e(n),n.defaultPrevented||t&&(n.stopPropagation(),n.preventDefault())}))}var rr=!1,ar=!0;function lr(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(ar=!1))}function sr(e){e.metaKey||e.ctrlKey||e.altKey||(ar=!0)}var or=Tn((function(e){var t=e,{focusable:n=!0,accessibleWhenDisabled:i,autoFocus:r,onFocusVisible:a}=t,l=Ct(t,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const s=(0,Wt.useRef)(null);(0,Wt.useEffect)((()=>{n&&(rr||(pn("mousedown",lr,!0),pn("keydown",sr,!0),rr=!0))}),[n]),Xi&&(0,Wt.useEffect)((()=>{if(!n)return;const e=s.current;if(!e)return;if(!tr(e))return;const t=function(e){return"labels"in e?e.labels:null}(e);if(!t)return;const i=()=>queueMicrotask((()=>e.focus()));for(const e of t)e.addEventListener("mouseup",i);return()=>{for(const e of t)e.removeEventListener("mouseup",i)}}),[n]);const o=n&&Ht(l),u=!!o&&!i,[c,d]=(0,Wt.useState)(!1);(0,Wt.useEffect)((()=>{n&&u&&c&&d(!1)}),[n,u,c]),(0,Wt.useEffect)((()=>{if(!n)return;if(!c)return;const e=s.current;if(!e)return;if("undefined"==typeof IntersectionObserver)return;const t=new IntersectionObserver((()=>{Gi(e)||d(!1)}));return t.observe(e),()=>t.disconnect()}),[n,c]);const f=ir(l.onKeyPressCapture,o),m=ir(l.onMouseDownCapture,o),v=ir(l.onClickCapture,o),p=l.onMouseDown,h=wn((e=>{if(null==p||p(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget;if(!Xi)return;if(un(e))return;if(!Qt(t)&&!tr(t))return;let i=!1;const r=()=>{i=!0};t.addEventListener("focusin",r,{capture:!0,once:!0});const a=function(e){for(;e&&!Gi(e);)e=e.closest(Ki);return e||null}(t.parentElement);er(a,!0),vn(t,"mouseup",(()=>{t.removeEventListener("focusin",r,!0),er(a,!1),i||function(e){!Zi(e)&&Gi(e)&&e.focus()}(t)}))})),g=(e,t)=>{if(t&&(e.currentTarget=t),!n)return;const i=e.currentTarget;i&&Yi(i)&&(null==a||a(e),e.defaultPrevented||(i.dataset.focusVisible="true",d(!0)))},b=l.onKeyDownCapture,x=wn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!n)return;if(c)return;if(e.metaKey)return;if(e.altKey)return;if(e.ctrlKey)return;if(!cn(e))return;const t=e.currentTarget;vn(t,"focusout",(()=>g(e,t)))})),w=l.onFocusCapture,y=wn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!n)return;if(!cn(e))return void d(!1);const t=e.currentTarget;ar||function(e){const{tagName:t,readOnly:n,type:i}=e;return"TEXTAREA"===t&&!n||"SELECT"===t&&!n||("INPUT"!==t||n?!!e.isContentEditable||!("combobox"!==e.getAttribute("role")||!e.dataset.name):Qi.includes(i))}(e.target)?vn(e.target,"focusout",(()=>g(e,t))):d(!1)})),_=l.onBlur,j=wn((e=>{null==_||_(e),n&&mn(e)&&(e.currentTarget.removeAttribute("data-focus-visible"),d(!1))})),C=(0,Wt.useContext)(Ui),S=wn((e=>{n&&r&&e&&C&&queueMicrotask((()=>{Yi(e)||Gi(e)&&e.focus()}))})),k=function(e,t){const n=e=>{if("string"==typeof e)return e},[i,r]=(0,Wt.useState)((()=>n(t)));return xn((()=>{const i=e&&"current"in e?e.current:e;r((null==i?void 0:i.tagName.toLowerCase())||n(t))}),[e,t]),i}(s),I=n&&function(e){return!e||"button"===e||"summary"===e||"input"===e||"select"===e||"textarea"===e||"a"===e}(k),V=n&&function(e){return!e||"button"===e||"input"===e||"select"===e||"textarea"===e}(k),E=l.style,N=(0,Wt.useMemo)((()=>u?_t({pointerEvents:"none"},E):E),[u,E]);return qt(l=jt(_t({"data-focus-visible":n&&c||void 0,"data-autofocus":r||void 0,"aria-disabled":o||void 0},l),{ref:yn(s,S,l.ref),style:N,tabIndex:nr(n,u,I,V,l.tabIndex),disabled:!(!V||!u)||void 0,contentEditable:o?void 0:l.contentEditable,onKeyPressCapture:f,onClickCapture:v,onMouseDownCapture:m,onMouseDown:h,onKeyDownCapture:x,onFocusCapture:y,onBlur:j}))}));function ur(e,t,n){return wn((i=>{var r;if(null==t||t(i),i.defaultPrevented)return;if(i.isPropagationStopped())return;if(!cn(i))return;if(function(e){return"Shift"===e.key||"Control"===e.key||"Alt"===e.key||"Meta"===e.key}(i))return;if(function(e){const t=e.target;return!(t&&!en(t)||1!==e.key.length||e.ctrlKey||e.metaKey)}(i))return;const a=e.getState(),l=null==(r=Ri(e,a.activeId))?void 0:r.element;if(!l)return;const s=i,{view:o}=s,u=Ct(s,["view"]);l!==(null==n?void 0:n.current)&&l.focus(),function(e,t,n){const i=new KeyboardEvent(t,n);return e.dispatchEvent(i)}(l,i.type,u)||i.preventDefault(),i.currentTarget.contains(l)&&i.stopPropagation()}))}On((function(e){return An("div",or(e))}));var cr=Tn((function(t){var n=t,{store:i,composite:r=!0,focusOnMove:a=r,moveOnKeyPress:l=!0}=n,s=Ct(n,["store","composite","focusOnMove","moveOnKeyPress"]);const o=qn();Bt(i=i||o,!1);const u=(0,Wt.useRef)(null),c=(0,Wt.useRef)(null),d=function(e){const[t,n]=(0,Wt.useState)(!1),i=(0,Wt.useCallback)((()=>n(!0)),[]),r=e.useState((t=>Ri(e,t.activeId)));return(0,Wt.useEffect)((()=>{const e=null==r?void 0:r.element;t&&e&&(n(!1),e.focus({preventScroll:!0}))}),[r,t]),i}(i),f=i.useState("moves"),[,m]=function(e){const[t,n]=(0,Wt.useState)(null);return xn((()=>{if(null==t)return;if(!e)return;let n=null;return e((e=>(n=e,t))),()=>{e(n)}}),[t,e]),[t,n]}(r?i.setBaseElement:null);(0,Wt.useEffect)((()=>{var e;if(!i)return;if(!f)return;if(!r)return;if(!a)return;const{activeId:t}=i.getState(),n=null==(e=Ri(i,t))?void 0:e.element;var l;n&&("scrollIntoView"in(l=n)?(l.focus({preventScroll:!0}),l.scrollIntoView(Mt({block:"nearest",inline:"nearest"},undefined))):l.focus())}),[i,f,r,a]),xn((()=>{if(!i)return;if(!f)return;if(!r)return;const{baseElement:e,activeId:t}=i.getState();if(null!==t)return;if(!e)return;const n=c.current;c.current=null,n&&dn(n,{relatedTarget:e}),Yi(e)||e.focus()}),[i,f,r]);const v=i.useState("activeId"),p=i.useState("virtualFocus");xn((()=>{var e;if(!i)return;if(!r)return;if(!p)return;const t=c.current;if(c.current=null,!t)return;const n=(null==(e=Ri(i,v))?void 0:e.element)||Zt(t);n!==t&&dn(t,{relatedTarget:n})}),[i,v,p,r]);const h=ur(i,s.onKeyDownCapture,c),g=ur(i,s.onKeyUpCapture,c),b=s.onFocusCapture,x=wn((e=>{if(null==b||b(e),e.defaultPrevented)return;if(!i)return;const{virtualFocus:t}=i.getState();if(!t)return;const n=e.relatedTarget,r=function(e){const t=e[Wi];return delete e[Wi],t}(e.currentTarget);cn(e)&&r&&(e.stopPropagation(),c.current=n)})),w=s.onFocus,y=wn((e=>{if(null==w||w(e),e.defaultPrevented)return;if(!r)return;if(!i)return;const{relatedTarget:t}=e,{virtualFocus:n}=i.getState();n?cn(e)&&!$i(i,t)&&queueMicrotask(d):cn(e)&&i.setActiveId(null)})),_=s.onBlurCapture,j=wn((e=>{var t;if(null==_||_(e),e.defaultPrevented)return;if(!i)return;const{virtualFocus:n,activeId:r}=i.getState();if(!n)return;const a=null==(t=Ri(i,r))?void 0:t.element,l=e.relatedTarget,s=$i(i,l),o=c.current;c.current=null,cn(e)&&s?(l===a?o&&o!==l&&dn(o,e):a?dn(a,e):o&&dn(o,e),e.stopPropagation()):!$i(i,e.target)&&a&&dn(a,e)})),C=s.onKeyDown,S=Sn(l),k=wn((e=>{var t;if(null==C||C(e),e.nativeEvent.isComposing)return;if(e.defaultPrevented)return;if(!i)return;if(!cn(e))return;const{orientation:n,renderedItems:r,activeId:a}=i.getState(),l=Ri(i,a);if(null==(t=null==l?void 0:l.element)?void 0:t.isConnected)return;const s="horizontal"!==n,o="vertical"!==n,u=r.some((e=>!!e.rowId));if(("ArrowLeft"===e.key||"ArrowRight"===e.key||"Home"===e.key||"End"===e.key)&&en(e.currentTarget))return;const c={ArrowUp:(u||s)&&(()=>{if(u){const e=function(e){return e.find((e=>!e.disabled))}(di(fi(function(e){const t=[];for(const n of e){const e=t.find((e=>{var t;return(null==(t=e[0])?void 0:t.rowId)===n.rowId}));e?e.push(n):t.push([n])}return t}(r))));return null==e?void 0:e.id}return null==i?void 0:i.last()}),ArrowRight:(u||o)&&i.first,ArrowDown:(u||s)&&i.first,ArrowLeft:(u||o)&&i.last,Home:i.first,End:i.last,PageUp:i.first,PageDown:i.last},d=c[e.key];if(d){const t=d();if(void 0!==t){if(!S(e))return;e.preventDefault(),i.move(t)}}}));s=kn(s,(t=>(0,e.jsx)(Rn,{value:i,children:t})),[i]);const I=i.useState((e=>{var t;if(i&&r&&e.virtualFocus)return null==(t=Ri(i,e.activeId))?void 0:t.id}));s=jt(_t({"aria-activedescendant":I},s),{ref:yn(u,m,s.ref),onKeyDownCapture:h,onKeyUpCapture:g,onFocusCapture:x,onFocus:y,onBlurCapture:j,onKeyDown:k});const V=i.useState((e=>r&&(e.virtualFocus||null===e.activeId)));return or(_t({focusable:V},s))})),dr=(On((function(e){return An("div",cr(e))})),Tn((function(e){var t=e,{store:n}=t,i=Ct(t,["store"]);const r=Vi();return n=n||r,jt(_t({},i),{ref:yn(null==n?void 0:n.setAnchorElement,i.ref)})})));function fr(e,t,n){if(!n)return!1;const i=e.find((e=>!e.disabled&&e.value));return(null==i?void 0:i.value)===t}function mr(e,t){return!!t&&null!=e&&(e=zt(e),t.length>e.length&&0===t.toLowerCase().indexOf(e.toLowerCase()))}On((function(e){return An("div",dr(e))}));var vr=Tn((function(e){var t=e,{store:n,focusable:i=!0,autoSelect:r=!1,getAutoSelectId:a,setValueOnChange:l,showMinLength:s=0,showOnChange:o,showOnMouseDown:u,showOnClick:c=u,showOnKeyDown:d,showOnKeyPress:f=d,blurActiveItemOnClick:m,setValueOnClick:v=!0,moveOnKeyPress:p=!0,autoComplete:h="list"}=t,g=Ct(t,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const b=Ai();Bt(n=n||b,!1);const x=(0,Wt.useRef)(null),[w,y]=(0,Wt.useReducer)((()=>[]),[]),_=(0,Wt.useRef)(!1),j=(0,Wt.useRef)(!1),C=n.useState((e=>e.virtualFocus&&r)),S="inline"===h||"both"===h,[k,I]=(0,Wt.useState)(S);!function(e,t){const n=(0,Wt.useRef)(!1);xn((()=>{n.current?S&&I(!0):n.current=!0}),t),xn((()=>()=>{n.current=!1}),[])}(0,[S]);const V=n.useState("value"),E=(0,Wt.useRef)();(0,Wt.useEffect)((()=>ei(n,["selectedValue","activeId"],((e,t)=>{E.current=t.selectedValue}))),[]);const N=n.useState((e=>{var t;if(S&&k){if(e.activeValue&&Array.isArray(e.selectedValue)){if(e.selectedValue.includes(e.activeValue))return;if(null==(t=E.current)?void 0:t.includes(e.activeValue))return}return e.activeValue}})),F=n.useState("renderedItems"),M=n.useState("open"),O=n.useState("contentElement"),P=(0,Wt.useMemo)((()=>{if(!S)return V;if(!k)return V;if(fr(F,N,C)){if(mr(V,N)){const e=(null==N?void 0:N.slice(V.length))||"";return V+e}return V}return N||V}),[S,k,F,N,C,V]);(0,Wt.useEffect)((()=>{const e=x.current;if(!e)return;const t=()=>I(!0);return e.addEventListener("combobox-item-move",t),()=>{e.removeEventListener("combobox-item-move",t)}}),[]),(0,Wt.useEffect)((()=>{if(!S)return;if(!k)return;if(!N)return;if(!fr(F,N,C))return;if(!mr(V,N))return;let e=At;return queueMicrotask((()=>{const t=x.current;if(!t)return;const{start:n,end:i}=nn(t),r=V.length,a=N.length;ln(t,r,a),e=()=>{if(!Yi(t))return;const{start:e,end:l}=nn(t);e===r&&l===a&&ln(t,n,i)}})),()=>e()}),[w,S,k,N,F,C,V]);const A=(0,Wt.useRef)(null),T=wn(a),L=(0,Wt.useRef)(null);(0,Wt.useEffect)((()=>{if(!M)return;if(!O)return;const e=an(O);if(!e)return;A.current=e;const t=()=>{_.current=!1},i=()=>{if(!n)return;if(!_.current)return;const{activeId:e}=n.getState();null!==e&&e!==L.current&&(_.current=!1)},r={passive:!0,capture:!0};return e.addEventListener("wheel",t,r),e.addEventListener("touchmove",t,r),e.addEventListener("scroll",i,r),()=>{e.removeEventListener("wheel",t,!0),e.removeEventListener("touchmove",t,!0),e.removeEventListener("scroll",i,!0)}}),[M,O,n]),xn((()=>{V&&(j.current||(_.current=!0))}),[V]),xn((()=>{"always"!==C&&M||(_.current=M)}),[C,M]);const z=n.useState("resetValueOnSelect");Cn((()=>{var e,t;const i=_.current;if(!n)return;if(!M)return;if(!i&&!z)return;const{baseElement:r,contentElement:a,activeId:l}=n.getState();if(!r||Yi(r)){if(null==a?void 0:a.hasAttribute("data-placing")){const e=new MutationObserver(y);return e.observe(a,{attributeFilter:["data-placing"]}),()=>e.disconnect()}if(C&&i){const t=T(F),i=void 0!==t?t:null!=(e=function(e){const t=e.find((e=>{var t;return!e.disabled&&"tab"!==(null==(t=e.element)?void 0:t.getAttribute("role"))}));return null==t?void 0:t.id}(F))?e:n.first();L.current=i,n.move(null!=i?i:null)}else{const e=null==(t=n.item(l||n.first()))?void 0:t.element;e&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest",inline:"nearest"})}}}),[n,M,w,V,C,z,T,F]),(0,Wt.useEffect)((()=>{if(!S)return;const e=x.current;if(!e)return;const t=[e,O].filter((e=>!!e)),i=e=>{t.every((t=>mn(e,t)))&&(null==n||n.setValue(P))};for(const e of t)e.addEventListener("focusout",i);return()=>{for(const e of t)e.removeEventListener("focusout",i)}}),[S,O,n,P]);const D=e=>e.currentTarget.value.length>=s,B=g.onChange,H=Sn(null!=o?o:D),q=Sn(null!=l?l:!n.tag),R=wn((e=>{if(null==B||B(e),e.defaultPrevented)return;if(!n)return;const t=e.currentTarget,{value:i,selectionStart:r,selectionEnd:a}=t,l=e.nativeEvent;if(_.current=!0,function(e){return"input"===e.type}(l)&&(l.isComposing&&(_.current=!1,j.current=!0),S)){const e="insertText"===l.inputType||"insertCompositionText"===l.inputType,t=r===i.length;I(e&&t)}if(q(e)){const e=i===n.getState().value;n.setValue(i),queueMicrotask((()=>{ln(t,r,a)})),S&&C&&e&&y()}H(e)&&n.show(),C&&_.current||n.setActiveId(null)})),W=g.onCompositionEnd,$=wn((e=>{_.current=!0,j.current=!1,null==W||W(e),e.defaultPrevented||C&&y()})),U=g.onMouseDown,K=Sn(null!=m?m:()=>!!(null==n?void 0:n.getState().includesBaseElement)),G=Sn(v),Y=Sn(null!=c?c:D),Z=wn((e=>{null==U||U(e),e.defaultPrevented||e.button||e.ctrlKey||n&&(K(e)&&n.setActiveId(null),G(e)&&n.setValue(P),Y(e)&&vn(e.currentTarget,"mouseup",n.show))})),X=g.onKeyDown,Q=Sn(null!=f?f:D),J=wn((e=>{if(null==X||X(e),e.repeat||(_.current=!1),e.defaultPrevented)return;if(e.ctrlKey)return;if(e.altKey)return;if(e.shiftKey)return;if(e.metaKey)return;if(!n)return;const{open:t}=n.getState();t||"ArrowUp"!==e.key&&"ArrowDown"!==e.key||Q(e)&&(e.preventDefault(),n.show())})),ee=g.onBlur,te=wn((e=>{_.current=!1,null==ee||ee(e),e.defaultPrevented})),ne=jn(g.id),ie=function(e){return"inline"===e||"list"===e||"both"===e||"none"===e}(h)?h:void 0,re=n.useState((e=>null===e.activeId));return g=jt(_t({id:ne,role:"combobox","aria-autocomplete":ie,"aria-haspopup":rn(O,"listbox"),"aria-expanded":M,"aria-controls":null==O?void 0:O.id,"data-active-item":re||void 0,value:P},g),{ref:yn(x,g.ref),onChange:R,onCompositionEnd:$,onMouseDown:Z,onKeyDown:J,onBlur:te}),g=cr(jt(_t({store:n,focusable:i},g),{moveOnKeyPress:e=>!function(e,...t){const n="function"==typeof e?e(...t):e;return null!=n&&!n}(p,e)&&(S&&I(!0),!0)})),g=dr(_t({store:n},g)),_t({autoComplete:"off"},g)})),pr=On((function(e){return An("input",vr(e))}));const hr=window.ReactDOM;function gr(e,t){const n=setTimeout(t,e);return()=>clearTimeout(n)}function br(...e){return e.join(", ").split(", ").reduce(((e,t)=>{const n=t.endsWith("ms")?1:1e3,i=Number.parseFloat(t||"0s")*n;return i>e?i:e}),0)}function xr(e,t,n){return!(n||!1===t||e&&!t)}var wr=Tn((function(t){var n=t,{store:i,alwaysVisible:r}=n,a=Ct(n,["store","alwaysVisible"]);const l=ji();Bt(i=i||l,!1);const s=(0,Wt.useRef)(null),o=jn(a.id),[u,c]=(0,Wt.useState)(null),d=i.useState("open"),f=i.useState("mounted"),m=i.useState("animated"),v=i.useState("contentElement"),p=li(i.disclosure,"contentElement");xn((()=>{s.current&&(null==i||i.setContentElement(s.current))}),[i]),xn((()=>{let e;return null==i||i.setState("animated",(t=>(e=t,!0))),()=>{void 0!==e&&(null==i||i.setState("animated",e))}}),[i]),xn((()=>{if(m){if(null==v?void 0:v.isConnected)return function(e){let t=requestAnimationFrame((()=>{t=requestAnimationFrame(e)}));return()=>cancelAnimationFrame(t)}((()=>{c(d?"enter":f?"leave":null)}));c(null)}}),[m,v,d,f]),xn((()=>{if(!i)return;if(!m)return;if(!u)return;if(!v)return;const e=()=>null==i?void 0:i.setState("animating",!1),t=()=>(0,hr.flushSync)(e);if("leave"===u&&d)return;if("enter"===u&&!d)return;if("number"==typeof m)return gr(m,t);const{transitionDuration:n,animationDuration:r,transitionDelay:a,animationDelay:l}=getComputedStyle(v),{transitionDuration:s="0",animationDuration:o="0",transitionDelay:c="0",animationDelay:f="0"}=p?getComputedStyle(p):{},h=br(a,l,c,f)+br(n,r,s,o);return h?gr(Math.max(h-1e3/60,0),t):("enter"===u&&i.setState("animated",!1),void e())}),[i,m,v,p,d,u]),a=kn(a,(t=>(0,e.jsx)(ki,{value:i,children:t})),[i]);const h=xr(f,a.hidden,r),g=a.style,b=(0,Wt.useMemo)((()=>h?jt(_t({},g),{display:"none"}):g),[h,g]);return qt(a=jt(_t({id:o,"data-open":d||void 0,"data-enter":"enter"===u||void 0,"data-leave":"leave"===u||void 0,hidden:h},a),{ref:yn(o?i.setContentElement:null,s,a.ref),style:b}))})),yr=On((function(e){return An("div",wr(e))})),_r=(On((function(t){var n=t,{unmountOnHide:i}=n,r=Ct(n,["unmountOnHide"]);const a=ji();return!1===li(r.store||a,(e=>!i||(null==e?void 0:e.mounted)))?null:(0,e.jsx)(yr,_t({},r))})),Tn((function(t){var n=t,{store:i,alwaysVisible:r}=n,a=Ct(n,["store","alwaysVisible"]);const l=Pi(!0),s=Oi(),o=!!(i=i||s)&&i===l;Bt(i,!1);const u=(0,Wt.useRef)(null),c=jn(a.id),d=i.useState("mounted"),f=xr(d,a.hidden,r),m=f?jt(_t({},a.style),{display:"none"}):a.style,v=i.useState((e=>Array.isArray(e.selectedValue))),p=function(e,t,n){const i=function(e){const[t]=(0,Wt.useState)(e);return t}(n),[r,a]=(0,Wt.useState)(i);return(0,Wt.useEffect)((()=>{const n=e&&"current"in e?e.current:e;if(!n)return;const r=()=>{const e=n.getAttribute(t);a(null==e?i:e)},l=new MutationObserver(r);return l.observe(n,{attributeFilter:[t]}),r(),()=>l.disconnect()}),[e,t,i]),r}(u,"role",a.role),h=("listbox"===p||"tree"===p||"grid"===p)&&v||void 0,[g,b]=(0,Wt.useState)(!1),x=i.useState("contentElement");xn((()=>{if(!d)return;const e=u.current;if(!e)return;if(x!==e)return;const t=()=>{b(!!e.querySelector("[role='listbox']"))},n=new MutationObserver(t);return n.observe(e,{subtree:!0,childList:!0,attributeFilter:["role"]}),t(),()=>n.disconnect()}),[d,x]),g||(a=_t({role:"listbox","aria-multiselectable":h},a)),a=kn(a,(t=>(0,e.jsx)(Li,{value:i,children:(0,e.jsx)(Fi.Provider,{value:p,children:t})})),[i,p]);const w=!c||l&&o?null:i.setContentElement;return qt(a=jt(_t({id:c,hidden:f},a),{ref:yn(w,u,a.ref),style:m}))}))),jr=On((function(e){return An("div",_r(e))}));function Cr(e){const t=e.relatedTarget;return(null==t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}var Sr=Symbol("composite-hover"),kr=Tn((function(e){var t=e,{store:n,focusOnHover:i=!0,blurOnHoverEnd:r=!!i}=t,a=Ct(t,["store","focusOnHover","blurOnHoverEnd"]);const l=Hn();Bt(n=n||l,!1);const s=((0,Wt.useEffect)((()=>{In||(pn("mousemove",Fn,!0),pn("mousedown",Mn,!0),pn("mouseup",Mn,!0),pn("keydown",Mn,!0),pn("scroll",Mn,!0),In=!0)}),[]),wn((()=>Vn))),o=a.onMouseMove,u=Sn(i),c=wn((e=>{if(null==o||o(e),!e.defaultPrevented&&s()&&u(e)){if(!Zi(e.currentTarget)){const e=null==n?void 0:n.getState().baseElement;e&&!Yi(e)&&e.focus()}null==n||n.setActiveId(e.currentTarget.id)}})),d=a.onMouseLeave,f=Sn(r),m=wn((e=>{var t;null==d||d(e),e.defaultPrevented||s()&&(function(e){const t=Cr(e);return!!t&&Xt(e.currentTarget,t)}(e)||function(e){let t=Cr(e);if(!t)return!1;do{if(Tt(t,Sr)&&t[Sr])return!0;t=t.parentElement}while(t);return!1}(e)||u(e)&&f(e)&&(null==n||n.setActiveId(null),null==(t=null==n?void 0:n.getState().baseElement)||t.focus()))})),v=(0,Wt.useCallback)((e=>{e&&(e[Sr]=!0)}),[]);return qt(a=jt(_t({},a),{ref:yn(v,a.ref),onMouseMove:c,onMouseLeave:m}))})),Ir=(Pn(On((function(e){return An("div",kr(e))}))),Tn((function(e){var t=e,{store:n,shouldRegisterItem:i=!0,getItem:r=Dt,element:a}=t,l=Ct(t,["store","shouldRegisterItem","getItem","element"]);const s=Dn();n=n||s;const o=jn(l.id),u=(0,Wt.useRef)(a);return(0,Wt.useEffect)((()=>{const e=u.current;if(!o)return;if(!e)return;if(!i)return;const t=r({id:o,element:e});return null==n?void 0:n.renderItem(t)}),[o,i,r,n]),qt(l=jt(_t({},l),{ref:yn(u,l.ref)}))})));function Vr(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return"Enter"===e.key?Qt(t)||"SUMMARY"===t.tagName||"A"===t.tagName:" "===e.key&&(Qt(t)||"SUMMARY"===t.tagName||"INPUT"===t.tagName||"SELECT"===t.tagName)}On((function(e){return An("div",Ir(e))}));var Er=Symbol("command"),Nr=Tn((function(e){var t=e,{clickOnEnter:n=!0,clickOnSpace:i=!0}=t,r=Ct(t,["clickOnEnter","clickOnSpace"]);const a=(0,Wt.useRef)(null),[l,s]=(0,Wt.useState)(!1);(0,Wt.useEffect)((()=>{a.current&&s(Qt(a.current))}),[]);const[o,u]=(0,Wt.useState)(!1),c=(0,Wt.useRef)(!1),d=Ht(r),[f,m]=function(e,t,n){const i=e.onLoadedMetadataCapture,r=(0,Wt.useMemo)((()=>Object.assign((()=>{}),jt(_t({},i),{[t]:n}))),[i,t,n]);return[null==i?void 0:i[t],{onLoadedMetadataCapture:r}]}(r,Er,!0),v=r.onKeyDown,p=wn((e=>{null==v||v(e);const t=e.currentTarget;if(e.defaultPrevented)return;if(f)return;if(d)return;if(!cn(e))return;if(en(t))return;if(t.isContentEditable)return;const r=n&&"Enter"===e.key,a=i&&" "===e.key,l="Enter"===e.key&&!n,s=" "===e.key&&!i;if(l||s)e.preventDefault();else if(r||a){const n=Vr(e);if(r){if(!n){e.preventDefault();const n=e,{view:i}=n,r=Ct(n,["view"]),a=()=>fn(t,r);Gt&&/firefox\//i.test(navigator.userAgent)?vn(t,"keyup",a):queueMicrotask(a)}}else a&&(c.current=!0,n||(e.preventDefault(),u(!0)))}})),h=r.onKeyUp,g=wn((e=>{if(null==h||h(e),e.defaultPrevented)return;if(f)return;if(d)return;if(e.metaKey)return;const t=i&&" "===e.key;if(c.current&&t&&(c.current=!1,!Vr(e))){e.preventDefault(),u(!1);const t=e.currentTarget,n=e,{view:i}=n,r=Ct(n,["view"]);queueMicrotask((()=>fn(t,r)))}}));return r=jt(_t(_t({"data-active":o||void 0,type:l?"button":void 0},m),r),{ref:yn(a,r.ref),onKeyDown:p,onKeyUp:g}),or(r)}));function Fr(e,t=!1){const{top:n}=e.getBoundingClientRect();return t?n+e.clientHeight:n}function Mr(e,t,n,i=!1){var r;if(!t)return;if(!n)return;const{renderedItems:a}=t.getState(),l=an(e);if(!l)return;const s=function(e,t=!1){const n=e.clientHeight,{top:i}=e.getBoundingClientRect(),r=1.5*Math.max(.875*n,n-40),a=t?n-r+i:r+i;return"HTML"===e.tagName?a+e.scrollTop:a}(l,i);let o,u;for(let e=0;e<a.length;e+=1){const a=o;if(o=n(e),!o)break;if(o===a)continue;const l=null==(r=Ri(t,o))?void 0:r.element;if(!l)continue;const c=Fr(l,i)-s,d=Math.abs(c);if(i&&c<=0||!i&&c>=0){void 0!==u&&u<d&&(o=a);break}u=d}return o}On((function(e){return An("button",Nr(e))}));var Or=Tn((function(t){var n=t,{store:i,rowId:r,preventScrollOnKeyDown:a=!1,moveOnKeyPress:l=!0,tabbable:s=!1,getItem:o,"aria-setsize":u,"aria-posinset":c}=n,d=Ct(n,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const f=Hn();i=i||f;const m=jn(d.id),v=(0,Wt.useRef)(null),p=(0,Wt.useContext)(Un),h=Ht(d)&&!d.accessibleWhenDisabled,{rowId:g,baseElement:b,isActiveItem:x,ariaSetSize:w,ariaPosInSet:y,isTabbable:_}=si(i,{rowId:e=>r||(e&&(null==p?void 0:p.baseElement)&&p.baseElement===e.baseElement?p.id:void 0),baseElement:e=>(null==e?void 0:e.baseElement)||void 0,isActiveItem:e=>!!e&&e.activeId===m,ariaSetSize:e=>null!=u?u:e&&(null==p?void 0:p.ariaSetSize)&&p.baseElement===e.baseElement?p.ariaSetSize:void 0,ariaPosInSet(e){if(null!=c)return c;if(!e)return;if(!(null==p?void 0:p.ariaPosInSet))return;if(p.baseElement!==e.baseElement)return;const t=e.renderedItems.filter((e=>e.rowId===g));return p.ariaPosInSet+t.findIndex((e=>e.id===m))},isTabbable(e){if(!(null==e?void 0:e.renderedItems.length))return!0;if(e.virtualFocus)return!1;if(s)return!0;if(null===e.activeId)return!1;const t=null==i?void 0:i.item(e.activeId);return!!(null==t?void 0:t.disabled)||!(null==t?void 0:t.element)||e.activeId===m}}),j=(0,Wt.useCallback)((e=>{var t;const n=jt(_t({},e),{id:m||e.id,rowId:g,disabled:!!h,children:null==(t=e.element)?void 0:t.textContent});return o?o(n):n}),[m,g,h,o]),C=d.onFocus,S=(0,Wt.useRef)(!1),k=wn((e=>{if(null==C||C(e),e.defaultPrevented)return;if(un(e))return;if(!m)return;if(!i)return;if(function(e,t){return!cn(e)&&$i(t,e.target)}(e,i))return;const{virtualFocus:t,baseElement:n}=i.getState();var r;(i.setActiveId(m),tn(e.currentTarget)&&function(e,t=!1){if(en(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const n=Yt(e).getSelection();null==n||n.selectAllChildren(e),t&&(null==n||n.collapseToEnd())}}(e.currentTarget),t)&&(cn(e)&&(tn(r=e.currentTarget)||"INPUT"===r.tagName&&!Qt(r)||(null==n?void 0:n.isConnected)&&(on()&&e.currentTarget.hasAttribute("data-autofocus")&&e.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),S.current=!0,e.relatedTarget===n||$i(i,e.relatedTarget)?function(e){e[Wi]=!0,e.focus({preventScroll:!0})}(n):n.focus())))})),I=d.onBlurCapture,V=wn((e=>{if(null==I||I(e),e.defaultPrevented)return;const t=null==i?void 0:i.getState();(null==t?void 0:t.virtualFocus)&&S.current&&(S.current=!1,e.preventDefault(),e.stopPropagation())})),E=d.onKeyDown,N=Sn(a),F=Sn(l),M=wn((e=>{if(null==E||E(e),e.defaultPrevented)return;if(!cn(e))return;if(!i)return;const{currentTarget:t}=e,n=i.getState(),r=i.item(m),a=!!(null==r?void 0:r.rowId),l="horizontal"!==n.orientation,s="vertical"!==n.orientation,o=()=>!(!a&&!s&&n.baseElement&&en(n.baseElement)),u={ArrowUp:(a||l)&&i.up,ArrowRight:(a||s)&&i.next,ArrowDown:(a||l)&&i.down,ArrowLeft:(a||s)&&i.previous,Home:()=>{if(o())return!a||e.ctrlKey?null==i?void 0:i.first():null==i?void 0:i.previous(-1)},End:()=>{if(o())return!a||e.ctrlKey?null==i?void 0:i.last():null==i?void 0:i.next(-1)},PageUp:()=>Mr(t,i,null==i?void 0:i.up,!0),PageDown:()=>Mr(t,i,null==i?void 0:i.down)}[e.key];if(u){if(tn(t)){const n=nn(t),i=s&&"ArrowLeft"===e.key,r=s&&"ArrowRight"===e.key,a=l&&"ArrowUp"===e.key,o=l&&"ArrowDown"===e.key;if(r||o){const{length:e}=function(e){if(en(e))return e.value;if(e.isContentEditable){const t=Yt(e).createRange();return t.selectNodeContents(e),t.toString()}return""}(t);if(n.end!==e)return}else if((i||a)&&0!==n.start)return}const n=u();if(N(e)||void 0!==n){if(!F(e))return;e.preventDefault(),i.move(n)}}})),O=(0,Wt.useMemo)((()=>({id:m,baseElement:b})),[m,b]);return d=kn(d,(t=>(0,e.jsx)($n.Provider,{value:O,children:t})),[O]),d=jt(_t({id:m,"data-active-item":x||void 0},d),{ref:yn(v,d.ref),tabIndex:_?d.tabIndex:-1,onFocus:k,onBlurCapture:V,onKeyDown:M}),d=Nr(d),d=Ir(jt(_t({store:i},d),{getItem:j,shouldRegisterItem:!!m&&d.shouldRegisterItem})),qt(jt(_t({},d),{"aria-setsize":w,"aria-posinset":y}))}));function Pr(e){var t;return null!=(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])?t:"option"}Pn(On((function(e){return An("button",Or(e))})));var Ar=Tn((function(t){var n,i=t,{store:r,value:a,hideOnClick:l,setValueOnClick:s,selectValueOnClick:o=!0,resetValueOnSelect:u,focusOnHover:c=!1,moveOnKeyPress:d=!0,getItem:f}=i,m=Ct(i,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]);const v=Pi();Bt(r=r||v,!1);const{resetValueOnSelectState:p,multiSelectable:h,selected:g}=si(r,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable:e=>Array.isArray(e.selectedValue),selected:e=>function(e,t){if(null!=t)return null!=e&&(Array.isArray(e)?e.includes(t):e===t)}(e.selectedValue,a)}),b=(0,Wt.useCallback)((e=>{const t=jt(_t({},e),{value:a});return f?f(t):t}),[a,f]);s=null!=s?s:!h,l=null!=l?l:null!=a&&!h;const x=m.onClick,w=Sn(s),y=Sn(o),_=Sn(null!=(n=null!=u?u:p)?n:h),j=Sn(l),C=wn((e=>{null==x||x(e),e.defaultPrevented||function(e){const t=e.currentTarget;if(!t)return!1;const n=t.tagName.toLowerCase();return!!e.altKey&&("a"===n||"button"===n&&"submit"===t.type||"input"===n&&"submit"===t.type)}(e)||function(e){const t=e.currentTarget;if(!t)return!1;const n=sn();if(n&&!e.metaKey)return!1;if(!n&&!e.ctrlKey)return!1;const i=t.tagName.toLowerCase();return"a"===i||"button"===i&&"submit"===t.type||"input"===i&&"submit"===t.type}(e)||(null!=a&&(y(e)&&(_(e)&&(null==r||r.resetValue()),null==r||r.setSelectedValue((e=>Array.isArray(e)?e.includes(a)?e.filter((e=>e!==a)):[...e,a]:a))),w(e)&&(null==r||r.setValue(a))),j(e)&&(null==r||r.hide()))})),S=m.onKeyDown,k=wn((e=>{if(null==S||S(e),e.defaultPrevented)return;const t=null==r?void 0:r.getState().baseElement;t&&(Yi(t)||(1===e.key.length||"Backspace"===e.key||"Delete"===e.key)&&(queueMicrotask((()=>t.focus())),en(t)&&(null==r||r.setValue(t.value))))}));h&&null!=g&&(m=_t({"aria-selected":g},m)),m=kn(m,(t=>(0,e.jsx)(zi.Provider,{value:a,children:(0,e.jsx)(Di.Provider,{value:null!=g&&g,children:t})})),[a,g]);const I=(0,Wt.useContext)(Fi);m=jt(_t({role:Pr(I),children:a},m),{onClick:C,onKeyDown:k});const V=Sn(d);return m=Or(jt(_t({store:r},m),{getItem:b,moveOnKeyPress:e=>{if(!V(e))return!1;const t=new Event("combobox-item-move"),n=null==r?void 0:r.getState().baseElement;return null==n||n.dispatchEvent(t),!0}})),kr(_t({store:r,focusOnHover:c},m))})),Tr=Pn(On((function(e){return An("div",Ar(e))})));function Lr(e){return zt(e).toLowerCase()}var zr=Tn((function(t){var n=t,{store:i,value:r,userValue:a}=n,l=Ct(n,["store","value","userValue"]);const s=Pi();i=i||s;const o=(0,Wt.useContext)(zi),u=null!=r?r:o,c=li(i,(e=>null!=a?a:null==e?void 0:e.value)),d=(0,Wt.useMemo)((()=>{if(u)return c?function(t,n){if(!t)return t;if(!n)return t;const i=(r=n,Array.isArray(r)?r:void 0!==r?[r]:[]).filter(Boolean).map(Lr);var r;const a=[],l=(t,n=!1)=>(0,e.jsx)("span",{"data-autocomplete-value":n?"":void 0,"data-user-value":n?void 0:"",children:t},a.length),s=function(e){return e.sort((([e],[t])=>e-t))}(function(e){return e.filter((([e,t],n,i)=>!i.some((([i,r],a)=>a!==n&&i<=e&&i+r>=e+t))))}(function(e,t){const n=[];for(const i of t){let t=0;const r=i.length;for(;-1!==e.indexOf(i,t);){const a=e.indexOf(i,t);-1!==a&&n.push([a,r]),t=a+1}}return n}(Lr(t),new Set(i))));if(!s.length)return a.push(l(t,!0)),a;const[o]=s[0],u=[t.slice(0,o),...s.flatMap((([e,n],i)=>{var r;const a=t.slice(e,e+n),l=null==(r=s[i+1])?void 0:r[0];return[a,t.slice(e+n,l)]}))];return u.forEach(((e,t)=>{e&&a.push(l(e,t%2==0))})),a}(u,c):u}),[u,c]);return qt(l=_t({children:d},l))})),Dr=On((function(e){return An("span",zr(e))})),Br=r(731),Hr=r.n(Br),qr=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})}),Rr=[],Wr=(e,t)=>e.singleSelection?t?.value:Array.isArray(t?.value)?t.value:!Array.isArray(t?.value)&&t?.value?[t.value]:Rr,$r=[];function Ur({elements:e,getElements:t}){const n=Array.isArray(e)&&e.length>0?e:$r,[i,r]=(0,a.useState)(n),[l,s]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(!t)return void r(n);let e=!1;return s(!0),t().then((t=>{if(!e){const e=Array.isArray(t)&&t.length>0?t:n;r(e)}})).catch((()=>{e||r(n)})).finally((()=>{e||s(!1)})),()=>{e=!0}}),[t,n]),{elements:i,isLoading:l}}function Kr(e=""){return Hr()(e.trim().toLowerCase())}var Gr=(e,t,n)=>e.singleSelection?n:Array.isArray(t?.value)?t.value.includes(n)?t.value.filter((e=>e!==n)):[...t.value,n]:[n];function Yr(e,t){return`${e}-${t}`}var Zr=({selected:t})=>(0,e.jsx)("span",{className:ee("dataviews-filters__search-widget-listitem-multi-selection",{"is-selected":t}),children:t&&(0,e.jsx)(i.Icon,{icon:De})}),Xr=({selected:t})=>(0,e.jsx)("span",{className:ee("dataviews-filters__search-widget-listitem-single-selection",{"is-selected":t})});function Qr({view:t,filter:n,onChangeView:r}){const l=(0,d.useInstanceId)(Qr,"dataviews-filter-list-box"),[s,u]=(0,a.useState)(1===n.operators?.length?void 0:null),c=t.filters?.find((e=>e.field===n.field)),f=Wr(n,c);return(0,e.jsx)(i.Composite,{virtualFocus:!0,focusLoop:!0,activeId:s,setActiveId:u,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,o.sprintf)(
/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
/* translators: List of items for a filter. 1: Filter name. e.g.: "List of: Author". */
(0,o.__)("List of: %1$s"),n.name),onFocusVisible:()=>{!s&&n.elements.length&&u(Yr(l,n.elements[0].value))},render:(0,e.jsx)(i.Composite.Typeahead,{}),children:n.elements.map((a=>(0,e.jsxs)(i.Composite.Hover,{render:(0,e.jsx)(i.Composite.Item,{id:Yr(l,a.value),render:(0,e.jsx)("div",{"aria-label":a.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{const e=c?[...(t.filters??[]).map((e=>e.field===n.field?{...e,operator:c.operator||n.operators[0],value:Gr(n,c,a.value)}:e))]:[...t.filters??[],{field:n.field,operator:n.operators[0],value:Gr(n,c,a.value)}];r({...t,page:1,filters:e})}}),children:[n.singleSelection&&(0,e.jsx)(Xr,{selected:f===a.value}),!n.singleSelection&&(0,e.jsx)(Zr,{selected:f.includes(a.value)}),(0,e.jsx)("span",{children:a.label})]},a.value)))})}function Jr({view:t,filter:n,onChangeView:r}){const[l,s]=(0,a.useState)(""),u=(0,a.useDeferredValue)(l),c=t.filters?.find((e=>e.field===n.field)),d=Wr(n,c),f=(0,a.useMemo)((()=>{const e=Kr(u);return n.elements.filter((t=>Kr(t.label).includes(e)))}),[n.elements,u]);return(0,e.jsxs)(Bi,{selectedValue:d,setSelectedValue:e=>{const i=c?[...(t.filters??[]).map((t=>t.field===n.field?{...t,operator:c.operator||n.operators[0],value:e}:t))]:[...t.filters??[],{field:n.field,operator:n.operators[0],value:e}];r({...t,page:1,filters:i})},setValue:s,children:[(0,e.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,e.jsx)(qi,{render:(0,e.jsx)(i.VisuallyHidden,{children:(0,o.__)("Search items")}),children:(0,o.__)("Search items")}),(0,e.jsx)(pr,{autoSelect:"always",placeholder:(0,o.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,e.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,e.jsx)(i.Icon,{icon:qr})})]}),(0,e.jsxs)(jr,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[f.map((t=>(0,e.jsxs)(Tr,{resetValueOnSelect:!1,value:t.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[n.singleSelection&&(0,e.jsx)(Xr,{selected:d===t.value}),!n.singleSelection&&(0,e.jsx)(Zr,{selected:d.includes(t.value)}),(0,e.jsxs)("span",{children:[(0,e.jsx)(Dr,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:t.label}),!!t.description&&(0,e.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:t.description})]})]},t.value))),!f.length&&(0,e.jsx)("p",{children:(0,o.__)("No results found")})]})]})}function ea(t){const{elements:n,isLoading:r}=Ur({elements:t.filter.elements,getElements:t.filter.getElements});if(r)return(0,e.jsx)("div",{className:"dataviews-filters__search-widget-no-elements",children:(0,e.jsx)(i.Spinner,{})});if(0===n.length)return(0,e.jsx)("div",{className:"dataviews-filters__search-widget-no-elements",children:(0,o.__)("No elements found")});const a=n.length>10?Jr:Qr;return(0,e.jsx)(a,{...t,filter:{...t.filter,elements:n}})}var ta=r(252),na=r.n(ta);function ia({filter:t,view:n,onChangeView:r,fields:l}){const s=n.filters?.find((e=>e.field===t.field)),o=Wr(t,s),u=(0,a.useMemo)((()=>{const e=l.find((e=>e.id===t.field));return e?{...e,isValid:{required:!1,custom:()=>null},getValue:({item:t})=>t[e.id],setValue:({value:t})=>({[e.id]:t})}:e}),[l,t.field]),c=(0,a.useMemo)((()=>(n.filters??[]).reduce(((e,t)=>(e[t.field]=t.value,e)),{})),[n.filters]),f=(0,d.useEvent)((e=>{if(!u||!s)return;const i=u.getValue({item:e});na()(i,o)||r({...n,filters:(n.filters??[]).map((e=>e.field===t.field?{...e,operator:s.operator||t.operators[0],value:""===i?void 0:i}:e))})}));return u&&u.Edit&&s?(0,e.jsx)(i.Flex,{className:"dataviews-filters__user-input-widget",gap:2.5,direction:"column",children:(0,e.jsx)(u.Edit,{hideLabelFromVision:!0,data:c,field:u,operator:s.operator,onChange:f})}):null}Math.pow(10,8);const ra=6048e5,aa=Symbol.for("constructDateFrom");function la(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&aa in e?e[aa](t):e instanceof Date?new e.constructor(t):new Date(t)}function sa(e,t){return la(t||e,e)}function oa(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+sa(e)));var t}const ua=window.wp.date;function ca(e){if(!e)return null;const t=(0,ua.getDate)(e);return t&&oa(t)?t:null}var da="Enter",fa=" ",ma=({activeElements:t,filterInView:n,filter:i})=>{if(void 0===t||0===t.length)return i.name;const r={Name:(0,e.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,e.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};if(n?.operator===g)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is any: Admin, Editor". */
(0,o.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),i.name,t.map((e=>e.label)).join(", ")),r);if(n?.operator===b)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is none: Admin, Editor". */
(0,o.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),i.name,t.map((e=>e.label)).join(", ")),r);if(n?.operator===x)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is all: Admin, Editor". */
(0,o.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),i.name,t.map((e=>e.label)).join(", ")),r);if(n?.operator===w)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not all: Admin, Editor". */
(0,o.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),i.name,t.map((e=>e.label)).join(", ")),r);if(n?.operator===p)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is: Admin". */
(0,o.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===h)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Author is not: Admin". */
(0,o.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===y)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than: 10". */
(0,o.__)("<Name>%1$s is less than: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===_)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than: 10". */
(0,o.__)("<Name>%1$s is greater than: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===j)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is less than or equal to: 10". */
(0,o.__)("<Name>%1$s is less than or equal to: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===C)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Price is greater than or equal to: 10". */
(0,o.__)("<Name>%1$s is greater than or equal to: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===E)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Title contains: Mars". */
(0,o.__)("<Name>%1$s contains: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===N)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Description doesn't contain: photo". */
(0,o.__)("<Name>%1$s doesn't contain: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===F)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Title starts with: Mar". */
(0,o.__)("<Name>%1$s starts with: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===S)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is before: 2024-01-01". */
(0,o.__)("<Name>%1$s is before: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===k)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is after: 2024-01-01". */
(0,o.__)("<Name>%1$s is after: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===I)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or before: 2024-01-01". */
(0,o.__)("<Name>%1$s is on or before: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===V)return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is on or after: 2024-01-01". */
(0,o.__)("<Name>%1$s is on or after: </Name><Value>%2$s</Value>"),i.name,t[0].label),r);if(n?.operator===M){const{label:e}=t[0];return(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10 and 180". */
/* translators: 1: Filter name. 2: Min value. 3: Max value. e.g.: "Item count between (inc): 10 and 180". */
(0,o.__)("<Name>%1$s between (inc): </Name><Value>%2$s and %3$s</Value>"),i.name,e[0],e[1]),r)}return n?.operator===O?(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is: 2024-01-01". */
(0,o.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),i.name,t[0].label),r):n?.operator===P?(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is not: 2024-01-01". */
(0,o.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),i.name,t[0].label),r):n?.operator===A?(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is in the past: 1 days". */
(0,o.__)("<Name>%1$s is in the past: </Name><Value>%2$s</Value>"),i.name,`${t[0].value.value} ${t[0].value.unit}`),r):n?.operator===T?(0,a.createInterpolateElement)((0,o.sprintf)(
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */
/* translators: 1: Filter name. 2: Filter value. e.g.: "Date is over: 1 days ago". */
(0,o.__)("<Name>%1$s is over: </Name><Value>%2$s</Value> ago"),i.name,`${t[0].value.value} ${t[0].value.unit}`),r):(0,o.sprintf)(
/* translators: 1: Filter name e.g.: "Unknown status for Author". */
/* translators: 1: Filter name e.g.: "Unknown status for Author". */
(0,o.__)("Unknown status for %1$s"),i.name)};function va({filter:t,view:n,onChangeView:r}){const a=t.operators?.map((e=>({value:e,label:D[e]?.label}))),l=n.filters?.find((e=>e.field===t.field)),s=l?.operator||t.operators[0];return a.length>1&&(0,e.jsxs)(i.__experimentalHStack,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,e.jsx)(i.FlexItem,{className:"dataviews-filters__summary-operators-filter-name",children:t.name}),(0,e.jsx)(i.SelectControl,{className:"dataviews-filters__summary-operators-filter-select",label:(0,o.__)("Conditions"),value:s,options:a,onChange:e=>{const i=e,a=l?.operator,s=l?[...(n.filters??[]).map((e=>{if(e.field===t.field){const t=[M,A,T],n=a&&(t.includes(a)||t.includes(i));return{...e,value:n?void 0:e.value,operator:i}}return e}))]:[...n.filters??[],{field:t.field,operator:i,value:void 0}];r({...n,page:1,filters:s})},size:"small",variant:"minimal",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function pa({addFilterRef:t,openedFilter:n,fields:r,...l}){const s=(0,a.useRef)(null),{filter:u,view:c,onChangeView:d}=l,f=c.filters?.find((e=>e.field===u.field));let m=[];const{elements:v}=Ur({elements:u.elements,getElements:u.getElements});if(v.length>0)m=v.filter((e=>u.singleSelection?e.value===f?.value:f?.value?.includes(e.value)));else if(void 0!==f?.value){const e=r.find((e=>e.id===u.field));let t=f.value;if("datetime"===e?.type&&"string"==typeof t)try{const e=ca(t);null!==e&&(t=e.toLocaleString())}catch(e){t=f.value}m=[{value:f.value,label:t}]}const p=u.isPrimary,h=f?.isLocked,g=!h&&void 0!==f?.value,b=!h&&(!p||g);return(0,e.jsx)(i.Dropdown,{defaultOpen:n===u.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{s.current?.focus()},renderToggle:({isOpen:n,onToggle:r})=>(0,e.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,e.jsx)(i.Tooltip,{text:(0,o.sprintf)(
/* translators: 1: Filter name. */
/* translators: 1: Filter name. */
(0,o.__)("Filter by: %1$s"),u.name.toLowerCase()),placement:"top",children:(0,e.jsx)("div",{className:ee("dataviews-filters__summary-chip",{"has-reset":b,"has-values":g,"is-not-clickable":h}),role:"button",tabIndex:h?-1:0,onClick:()=>{h||r()},onKeyDown:e=>{!h&&[da,fa].includes(e.key)&&(r(),e.preventDefault())},"aria-disabled":h,"aria-pressed":n,"aria-expanded":n,ref:s,children:(0,e.jsx)(ma,{activeElements:m,filterInView:f,filter:u})})}),b&&(0,e.jsx)(i.Tooltip,{text:p?(0,o.__)("Reset"):(0,o.__)("Remove"),placement:"top",children:(0,e.jsx)("button",{className:ee("dataviews-filters__summary-chip-remove",{"has-values":g}),onClick:()=>{d({...c,page:1,filters:c.filters?.filter((e=>e.field!==u.field))}),p?s.current?.focus():t.current?.focus()},children:(0,e.jsx)(i.Icon,{icon:ge})})})]}),renderContent:()=>(0,e.jsxs)(i.__experimentalVStack,{spacing:0,justify:"flex-start",children:[(0,e.jsx)(va,{...l}),l.filter.hasElements?(0,e.jsx)(ea,{...l,filter:{...l.filter,elements:v}}):(0,e.jsx)(ia,{...l,fields:r})]})})}function ha({filters:t,view:n,onChangeView:r}){const a=!n.search&&!n.filters?.some((e=>{return!(e.isLocked||void 0===e.value&&(n=e.field,t.some((e=>e.field===n&&e.isPrimary))));var n}));return(0,e.jsx)(i.Button,{disabled:a,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{r({...n,page:1,search:"",filters:n.filters?.filter((e=>!!e.isLocked))||[]})},children:(0,o.__)("Reset")})}var ga=function(e,t){return(0,a.useMemo)((()=>{const n=[];return e.forEach((e=>{if(!1===e.filterBy||!e.hasElements&&!e.Edit)return;const i=e.filterBy.operators,r=!!e.filterBy?.isPrimary,a=t.filters?.some((t=>t.field===e.id&&!!t.isLocked))??!1;n.push({field:e.id,name:e.label,elements:e.elements,getElements:e.getElements,hasElements:e.hasElements,singleSelection:i.some((e=>z.includes(e))),operators:i,isVisible:a||r||!!t.filters?.some((t=>t.field===e.id&&L.includes(t.operator))),isPrimary:r,isLocked:a})})),n.sort(((e,t)=>e.isLocked&&!t.isLocked?-1:!e.isLocked&&t.isLocked?1:e.isPrimary&&!t.isPrimary?-1:!e.isPrimary&&t.isPrimary?1:e.name.localeCompare(t.name))),n}),[e,t])},ba=(0,a.memo)((function({className:t}){const{fields:n,view:r,onChangeView:l,openedFilter:s,setOpenedFilter:o}=(0,a.useContext)(G),u=(0,a.useRef)(null),c=ga(n,r),d=(0,e.jsx)(ft,{filters:c,view:r,onChangeView:l,ref:u,setOpenedFilter:o},"add-filter"),f=c.filter((e=>e.isVisible));if(0===f.length)return null;const m=[...f.map((t=>(0,e.jsx)(pa,{filter:t,view:r,fields:n,onChangeView:l,addFilterRef:u,openedFilter:s},t.field))),d];return m.push((0,e.jsx)(ha,{filters:c,view:r,onChangeView:l},"reset-filters")),(0,e.jsx)(i.__experimentalHStack,{justify:"flex-start",style:{width:"fit-content"},wrap:!0,className:t,children:m})})),xa=function(t){const{isShowingFilter:n}=(0,a.useContext)(G);return n?(0,e.jsx)(ba,{...t}):null};function wa({className:t}){const{actions:n=[],data:i,fields:r,getItemId:l,getItemLevel:s,isLoading:u,view:c,onChangeView:d,selection:f,onChangeSelection:m,setOpenedFilter:v,onClickItem:p,isItemClickable:h,renderItemLink:g,defaultLayouts:b,empty:x=(0,e.jsx)("p",{children:(0,o.__)("No results")})}=(0,a.useContext)(G),w=ut.find((e=>e.type===c.type&&b[e.type]))?.component;return(0,e.jsx)(w,{className:t,actions:n,data:i,fields:r,getItemId:l,getItemLevel:s,isLoading:u,onChangeView:d,onChangeSelection:m,selection:f,setOpenedFilter:v,onClickItem:p,renderItemLink:g,isItemClickable:h,view:c,empty:x})}var ya=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})}),_a=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})});function ja(){const{view:t,onChangeView:n,paginationInfo:{totalItems:r=0,totalPages:l}}=(0,a.useContext)(G);if(!r||!l||t.infiniteScrollEnabled)return null;const s=t.page??1,u=Array.from(Array(l)).map(((e,t)=>{const n=t+1;return{value:n.toString(),label:n.toString(),"aria-label":s===n?(0,o.sprintf)(
// translators: 1: current page number. 2: total number of pages.
// translators: 1: current page number. 2: total number of pages.
(0,o.__)("Page %1$d of %2$d"),s,l):n.toString()}}));return!!r&&1!==l&&(0,e.jsxs)(i.__experimentalHStack,{expanded:!1,className:"dataviews-pagination",justify:"end",spacing:6,children:[(0,e.jsx)(i.__experimentalHStack,{justify:"flex-start",expanded:!1,spacing:1,className:"dataviews-pagination__page-select",children:(0,a.createInterpolateElement)((0,o.sprintf)(
// translators: 1: Current page number, 2: Total number of pages.
// translators: 1: Current page number, 2: Total number of pages.
(0,o._x)("<div>Page</div>%1$s<div>of %2$d</div>","paging"),"<CurrentPage />",l),{div:(0,e.jsx)("div",{"aria-hidden":!0}),CurrentPage:(0,e.jsx)(i.SelectControl,{"aria-label":(0,o.__)("Current page"),value:s.toString(),options:u,onChange:e=>{n({...t,page:+e})},size:"small",__nextHasNoMarginBottom:!0,variant:"minimal"})})}),(0,e.jsxs)(i.__experimentalHStack,{expanded:!1,spacing:1,children:[(0,e.jsx)(i.Button,{onClick:()=>n({...t,page:s-1}),disabled:1===s,accessibleWhenDisabled:!0,label:(0,o.__)("Previous page"),icon:(0,o.isRTL)()?ya:_a,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,e.jsx)(i.Button,{onClick:()=>n({...t,page:s+1}),disabled:s>=l,accessibleWhenDisabled:!0,label:(0,o.__)("Next page"),icon:(0,o.isRTL)()?_a:ya,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})}var Ca=(0,a.memo)(ja),Sa=[];function ka(){const{view:t,paginationInfo:{totalItems:n=0,totalPages:r},data:l,actions:s=Sa}=(0,a.useContext)(G),o=we(s,l)&&[$,U].includes(t.type);return!n||!r||r<=1&&!o?null:!!n&&(0,e.jsxs)(i.__experimentalHStack,{expanded:!1,justify:"end",className:"dataviews-footer",children:[o&&(0,e.jsx)(Ie,{}),(0,e.jsx)(Ca,{})]})}var Ia=(0,a.memo)((function({label:t}){const{view:n,onChangeView:r}=(0,a.useContext)(G),[l,s,u]=(0,d.useDebouncedInput)(n.search);(0,a.useEffect)((()=>{s(n.search??"")}),[n.search,s]);const c=(0,a.useRef)(r),f=(0,a.useRef)(n);(0,a.useEffect)((()=>{c.current=r,f.current=n}),[r,n]),(0,a.useEffect)((()=>{u!==f.current?.search&&c.current({...f.current,page:1,search:u})}),[u]);const m=t||(0,o.__)("Search");return(0,e.jsx)(i.SearchControl,{className:"dataviews-search",__nextHasNoMarginBottom:!0,onChange:s,value:l,label:m,placeholder:m,size:"compact"})})),Va=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})});const Ea=window.wp.warning;var Na=r.n(Ea);function Fa(){const t=(0,a.useContext)(G),{view:n,onChangeView:r}=t,l=n.infiniteScrollEnabled??!1;return t.hasInfiniteScrollHandler?(0,e.jsx)(i.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,o.__)("Enable infinite scroll"),help:(0,o.__)("Automatically load more content as you scroll, instead of showing pagination links."),checked:l,onChange:e=>{r({...n,infiniteScrollEnabled:e})}}):null}var{Menu:Ma}=se(i.privateApis),Oa={className:"dataviews-config__popover",placement:"bottom-end",offset:9};function Pa(){const{view:t,onChangeView:n,defaultLayouts:r}=(0,a.useContext)(G),l=Object.keys(r);if(l.length<=1)return null;const s=ut.find((e=>t.type===e.type));return(0,e.jsxs)(Ma,{children:[(0,e.jsx)(Ma.TriggerButton,{render:(0,e.jsx)(i.Button,{size:"compact",icon:s?.icon,label:(0,o.__)("Layout")})}),(0,e.jsx)(Ma.Popover,{children:l.map((i=>{const a=ut.find((e=>e.type===i));return a?(0,e.jsx)(Ma.RadioItem,{value:i,name:"view-actions-available-view",checked:i===t.type,hideOnClick:!0,onChange:e=>{switch(e.target.value){case"list":case"grid":case"table":case"pickerGrid":case"pickerTable":const i={...t};return"layout"in i&&delete i.layout,n({...i,type:e.target.value,...r[e.target.value]})}Na()("Invalid dataview")},children:(0,e.jsx)(Ma.ItemLabel,{children:a.label})},i):null}))})]})}function Aa(){const{view:t,fields:n,onChangeView:r}=(0,a.useContext)(G),l=(0,a.useMemo)((()=>n.filter((e=>!1!==e.enableSorting)).map((e=>({label:e.label,value:e.id})))),[n]);return(0,e.jsx)(i.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,o.__)("Sort by"),value:t.sort?.field,options:l,onChange:e=>{r({...t,sort:{direction:t?.sort?.direction||"desc",field:e},showLevels:!1})}})}function Ta(){const{view:t,fields:n,onChangeView:r}=(0,a.useContext)(G);if(0===n.filter((e=>!1!==e.enableSorting)).length)return null;let l=t.sort?.direction;return!l&&t.sort?.field&&(l="desc"),(0,e.jsx)(i.__experimentalToggleGroupControl,{className:"dataviews-view-config__sort-direction",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,o.__)("Order"),value:l,onChange:e=>{"asc"!==e&&"desc"!==e?Na()("Invalid direction"):r({...t,sort:{direction:e,field:t.sort?.field||n.find((e=>!1!==e.enableSorting))?.id||""},showLevels:!1})},children:B.map((t=>(0,e.jsx)(i.__experimentalToggleGroupControlOptionIcon,{value:t,icon:W[t],label:R[t]},t)))})}function La(){const{view:t,config:n,onChangeView:r}=(0,a.useContext)(G),{infiniteScrollEnabled:l}=t;return!n||!n.perPageSizes||n.perPageSizes.length<2||n.perPageSizes.length>6||l?null:(0,e.jsx)(i.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,label:(0,o.__)("Items per page"),value:t.perPage||10,disabled:!t?.sort?.field,onChange:e=>{const n="number"==typeof e||void 0===e?e:parseInt(e,10);r({...t,perPage:n,page:1})},children:n.perPageSizes.map((t=>(0,e.jsx)(i.__experimentalToggleGroupControlOption,{value:t,label:t.toString()},t)))})}function za({title:t,description:n,children:r}){return(0,e.jsxs)(i.__experimentalGrid,{columns:12,className:"dataviews-settings-section",gap:4,children:[(0,e.jsxs)("div",{className:"dataviews-settings-section__sidebar",children:[(0,e.jsx)(i.__experimentalHeading,{level:2,className:"dataviews-settings-section__title",children:t}),n&&(0,e.jsx)(i.__experimentalText,{variant:"muted",className:"dataviews-settings-section__description",children:n})]}),(0,e.jsx)(i.__experimentalGrid,{columns:8,gap:4,className:"dataviews-settings-section__content",children:r})]})}function Da(){const{view:t}=(0,a.useContext)(G),n=(0,d.useInstanceId)(Ba,"dataviews-view-config-dropdown"),r=ut.find((e=>e.type===t.type));return(0,e.jsx)(i.Dropdown,{expandOnMobile:!0,popoverProps:{...Oa,id:n},renderToggle:({onToggle:t,isOpen:r})=>(0,e.jsx)(i.Button,{size:"compact",icon:Va,label:(0,o._x)("View options","View is used as a noun"),onClick:t,"aria-expanded":r?"true":"false","aria-controls":n}),renderContent:()=>(0,e.jsx)(i.__experimentalDropdownContentWrapper,{paddingSize:"medium",className:"dataviews-config__popover-content-wrapper",children:(0,e.jsx)(i.__experimentalVStack,{className:"dataviews-view-config",spacing:6,children:(0,e.jsxs)(za,{title:(0,o.__)("Appearance"),children:[(0,e.jsxs)(i.__experimentalHStack,{expanded:!0,className:"is-divided-in-two",children:[(0,e.jsx)(Aa,{}),(0,e.jsx)(Ta,{})]}),!!r?.viewConfigOptions&&(0,e.jsx)(r.viewConfigOptions,{}),(0,e.jsx)(Fa,{}),(0,e.jsx)(La,{}),(0,e.jsx)(qe,{})]})})})})}function Ba(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Pa,{}),(0,e.jsx)(Da,{})]})}var Ha=(0,a.memo)(Ba);function qa({item:e,field:t}){const{elements:n,isLoading:i}=Ur({elements:t.elements,getElements:t.getElements}),r=t.getValue({item:e});return i||0===n.length?r:n?.find((e=>e.value===r))?.label||t.getValue({item:e})}var Ra=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Wa={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||Ra.test(n)?null:(0,o.__)("Value must be a valid email address.")}},Edit:"email",render:({item:t,field:n})=>n.hasElements?(0,e.jsx)(qa,{item:t,field:n}):n.getValue({item:t}),enableSorting:!0,filterBy:{defaultOperators:[g,b],validOperators:[p,h,E,N,F,g,b,x,w]}},$a={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||Number.isInteger(n)?null:(0,o.__)("Value must be an integer.")}},Edit:"integer",render:({item:t,field:n})=>n.hasElements?(0,e.jsx)(qa,{item:t,field:n}):n.getValue({item:t}),enableSorting:!0,filterBy:{defaultOperators:[p,h,y,_,j,C,M],validOperators:[p,h,y,_,j,C,M,g,b,x,w]}},Ua={sort:function(e,t,n){return"asc"===n?e-t:t-e},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return function(e){return""===e||null==e}(n)||Number.isFinite(n)?null:(0,o.__)("Value must be a number.")}},Edit:"number",render:({item:e,field:t})=>{t.hasElements;const n=t.getValue({item:e});return[null,void 0].includes(n)?null:Number(n).toFixed(2)},enableSorting:!0,filterBy:{defaultOperators:[p,h,y,_,j,C,M],validOperators:[p,h,y,_,j,C,M,g,b,x,w]}},Ka={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:{elements:!0,custom:()=>null},Edit:"text",render:({item:t,field:n})=>n.hasElements?(0,e.jsx)(qa,{item:t,field:n}):n.getValue({item:t}),enableSorting:!0,filterBy:{defaultOperators:[g,b],validOperators:[p,h,E,N,F,g,b,x,w]}},Ga={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},isValid:{elements:!0,custom:()=>null},Edit:"datetime",render:({item:t,field:n})=>{if(n.elements)return(0,e.jsx)(qa,{item:t,field:n});const i=n.getValue({item:t});if(["",void 0,null].includes(i))return null;try{const e=ca(i);return e?.toLocaleString()}catch(e){return null}},enableSorting:!0,filterBy:{defaultOperators:[O,P,S,k,I,V,A,T],validOperators:[O,P,S,k,I,V,A,T]}},Ya={sort:function(e,t,n){const i=new Date(e).getTime(),r=new Date(t).getTime();return"asc"===n?i-r:r-i},Edit:"date",isValid:{elements:!0,custom:()=>null},render:({item:t,field:n})=>{if(n.hasElements)return(0,e.jsx)(qa,{item:t,field:n});const i=n.getValue({item:t});return i?(r=i,(0,ua.dateI18n)((0,ua.getSettings)().formats.date,(0,ua.getDate)(r))):"";var r},enableSorting:!0,filterBy:{defaultOperators:[O,P,S,k,I,V,A,T,M],validOperators:[O,P,S,k,I,V,A,T,M]}},Za={sort:function(e,t,n){const i=Boolean(e);return i===Boolean(t)?0:"asc"===n?i?1:-1:i?-1:1},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||[!0,!1].includes(n)?null:(0,o.__)("Value must be true, false, or undefined")}},Edit:"checkbox",render:({item:t,field:n})=>n.hasElements?(0,e.jsx)(qa,{item:t,field:n}):!0===n.getValue({item:t})?(0,o.__)("True"):!1===n.getValue({item:t})?(0,o.__)("False"):null,enableSorting:!0,filterBy:{defaultOperators:[p,h],validOperators:[p,h]}},Xa={sort:function(){return 0},isValid:{elements:!0,custom:()=>null},Edit:null,render:()=>null,enableSorting:!1,filterBy:!1},Qa={sort:function(e,t,n){const i=Array.isArray(e)?e:[],r=Array.isArray(t)?t:[];if(i.length!==r.length)return"asc"===n?i.length-r.length:r.length-i.length;const a=i.join(","),l=r.join(",");return"asc"===n?a.localeCompare(l):l.localeCompare(a)},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||Array.isArray(n)?n.every((e=>"string"==typeof e))?null:(0,o.__)("Every value must be a string."):(0,o.__)("Value must be an array.")}},Edit:"array",render:function({item:e,field:t}){return(t.getValue({item:e})||[]).join(", ")},enableSorting:!0,filterBy:{defaultOperators:[g,b],validOperators:[g,b,x,w]}},Ja=Qa,el={sort:function(e,t,n){return 0},isValid:{elements:!0,custom:()=>null},Edit:"password",render:({item:t,field:n})=>n.hasElements?(0,e.jsx)(qa,{item:t,field:n}):"••••••••",enableSorting:!1,filterBy:!1},tl={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:{elements:!0,custom:()=>null},Edit:"telephone",render:({item:t,field:n})=>n.hasElements?(0,e.jsx)(qa,{item:t,field:n}):n.getValue({item:t}),enableSorting:!0,filterBy:{defaultOperators:[g,b],validOperators:[p,h,E,N,F,g,b,x,w]}},nl={grad:.9,turn:360,rad:360/(2*Math.PI)},il=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},rl=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},al=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},ll=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},sl=function(e){return{r:al(e.r,0,255),g:al(e.g,0,255),b:al(e.b,0,255),a:al(e.a)}},ol=function(e){return{r:rl(e.r),g:rl(e.g),b:rl(e.b),a:rl(e.a,3)}},ul=/^#([0-9a-f]{3,8})$/i,cl=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},dl=function(e){var t=e.r,n=e.g,i=e.b,r=e.a,a=Math.max(t,n,i),l=a-Math.min(t,n,i),s=l?a===t?(n-i)/l:a===n?2+(i-t)/l:4+(t-n)/l:0;return{h:60*(s<0?s+6:s),s:a?l/a*100:0,v:a/255*100,a:r}},fl=function(e){var t=e.h,n=e.s,i=e.v,r=e.a;t=t/360*6,n/=100,i/=100;var a=Math.floor(t),l=i*(1-n),s=i*(1-(t-a)*n),o=i*(1-(1-t+a)*n),u=a%6;return{r:255*[i,s,l,l,o,i][u],g:255*[o,i,i,s,l,l][u],b:255*[l,l,o,i,i,s][u],a:r}},ml=function(e){return{h:ll(e.h),s:al(e.s,0,100),l:al(e.l,0,100),a:al(e.a)}},vl=function(e){return{h:rl(e.h),s:rl(e.s),l:rl(e.l),a:rl(e.a,3)}},pl=function(e){return fl((n=(t=e).s,{h:t.h,s:(n*=((i=t.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:t.a}));var t,n,i},hl=function(e){return{h:(t=dl(e)).h,s:(r=(200-(n=t.s))*(i=t.v)/100)>0&&r<200?n*i/100/(r<=100?r:200-r)*100:0,l:r/2,a:t.a};var t,n,i,r},gl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bl=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wl=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yl={string:[[function(e){var t=ul.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?rl(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?rl(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=xl.exec(e)||wl.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:sl({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=gl.exec(e)||bl.exec(e);if(!t)return null;var n,i,r=ml({h:(n=t[1],i=t[2],void 0===i&&(i="deg"),Number(n)*(nl[i]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return pl(r)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,r=e.a,a=void 0===r?1:r;return il(t)&&il(n)&&il(i)?sl({r:Number(t),g:Number(n),b:Number(i),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,r=e.a,a=void 0===r?1:r;if(!il(t)||!il(n)||!il(i))return null;var l=ml({h:Number(t),s:Number(n),l:Number(i),a:Number(a)});return pl(l)},"hsl"],[function(e){var t=e.h,n=e.s,i=e.v,r=e.a,a=void 0===r?1:r;if(!il(t)||!il(n)||!il(i))return null;var l=function(e){return{h:ll(e.h),s:al(e.s,0,100),v:al(e.v,0,100),a:al(e.a)}}({h:Number(t),s:Number(n),v:Number(i),a:Number(a)});return fl(l)},"hsv"]]},_l=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},jl=function(e,t){var n=hl(e);return{h:n.h,s:al(n.s+100*t,0,100),l:n.l,a:n.a}},Cl=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Sl=function(e,t){var n=hl(e);return{h:n.h,s:n.s,l:al(n.l+100*t,0,100),a:n.a}},kl=function(){function e(e){this.parsed=function(e){return"string"==typeof e?_l(e.trim(),yl.string):"object"==typeof e&&null!==e?_l(e,yl.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return rl(Cl(this.rgba),2)},e.prototype.isDark=function(){return Cl(this.rgba)<.5},e.prototype.isLight=function(){return Cl(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=ol(this.rgba)).r,n=e.g,i=e.b,a=(r=e.a)<1?cl(rl(255*r)):"","#"+cl(t)+cl(n)+cl(i)+a;var e,t,n,i,r,a},e.prototype.toRgb=function(){return ol(this.rgba)},e.prototype.toRgbString=function(){return t=(e=ol(this.rgba)).r,n=e.g,i=e.b,(r=e.a)<1?"rgba("+t+", "+n+", "+i+", "+r+")":"rgb("+t+", "+n+", "+i+")";var e,t,n,i,r},e.prototype.toHsl=function(){return vl(hl(this.rgba))},e.prototype.toHslString=function(){return t=(e=vl(hl(this.rgba))).h,n=e.s,i=e.l,(r=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+r+")":"hsl("+t+", "+n+"%, "+i+"%)";var e,t,n,i,r},e.prototype.toHsv=function(){return e=dl(this.rgba),{h:rl(e.h),s:rl(e.s),v:rl(e.v),a:rl(e.a,3)};var e},e.prototype.invert=function(){return Il({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Il(jl(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Il(jl(this.rgba,-e))},e.prototype.grayscale=function(){return Il(jl(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Il(Sl(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Il(Sl(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Il({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):rl(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=hl(this.rgba);return"number"==typeof e?Il({h:e,s:t.s,l:t.l,a:t.a}):rl(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Il(e).toHex()},e}(),Il=function(e){return e instanceof kl?e:new kl(e)},Vl={sort:function(e,t,n){const i=Il(e),r=Il(t);if(!i.isValid()&&!r.isValid())return 0;if(!i.isValid())return"asc"===n?1:-1;if(!r.isValid())return"asc"===n?-1:1;const a=i.toHsl(),l=r.toHsl();return a.h!==l.h?"asc"===n?a.h-l.h:l.h-a.h:a.s!==l.s?"asc"===n?a.s-l.s:l.s-a.s:"asc"===n?a.l-l.l:l.l-a.l},isValid:{elements:!0,custom:(e,t)=>{const n=t.getValue({item:e});return[void 0,"",null].includes(n)||Il(n).isValid()?null:(0,o.__)("Value must be a valid color.")}},Edit:"color",render:({item:t,field:n})=>{if(n.hasElements)return(0,e.jsx)(qa,{item:t,field:n});const i=n.getValue({item:t});return i&&Il(i).isValid()?(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,e.jsx)("div",{style:{width:"16px",height:"16px",borderRadius:"50%",backgroundColor:i,border:"1px solid #ddd",flexShrink:0}}),(0,e.jsx)("span",{children:i})]}):i},enableSorting:!0,filterBy:{defaultOperators:[g,b],validOperators:[p,h]}},El={sort:function(e,t,n){return"asc"===n?e.localeCompare(t):t.localeCompare(e)},isValid:{elements:!0,custom:()=>null},Edit:"url",render:({item:t,field:n})=>n.hasElements?(0,e.jsx)(qa,{item:t,field:n}):n.getValue({item:t}),enableSorting:!0,filterBy:{defaultOperators:[g,b],validOperators:[p,h,E,N,F,g,b,x,w]}};function Nl(e,t){let n;return e?.required&&t?.required?n=t?.required?.message?t.required:void 0:e?.elements&&t?.elements?n=t.elements:t?.custom&&(n=t.custom),n}var{ValidatedCheckboxControl:Fl}=se(i.privateApis);const Ml={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Ol(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Pl={date:Ol({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Ol({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Ol({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Al={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Tl(e){return(t,n)=>{let i;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}return i[e.argumentCallback?e.argumentCallback(t):t]}}function Ll(e){return(t,n={})=>{const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const l=a[0],s=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(s)?function(e){for(let t=0;t<e.length;t++)if(e[t].test(l))return t}(s):function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(l))return t}(s);let u;return u=e.valueCallback?e.valueCallback(o):o,u=n.valueCallback?n.valueCallback(u):u,{value:u,rest:t.slice(l.length)}}}var zl;const Dl={code:"en-US",formatDistance:(e,t,n)=>{let i;const r=Ml[e];return i="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:Pl,formatRelative:(e,t,n,i)=>Al[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Tl({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Tl({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Tl({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Tl({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Tl({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(zl={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(zl.matchPattern);if(!n)return null;const i=n[0],r=e.match(zl.parsePattern);if(!r)return null;let a=zl.valueCallback?zl.valueCallback(r[0]):r[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(i.length)}}),era:Ll({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ll({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ll({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ll({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ll({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let Bl={};function Hl(){return Bl}function ql(e){const t=sa(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Rl(e,t){const n=sa(e,t?.in);return n.setHours(0,0,0,0),n}function Wl(e,t){const n=sa(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $l(e,t){const n=sa(e,t?.in);return function(e,t,n){const[i,r]=function(e,...t){const n=la.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(n)}(n?.in,e,t),a=Rl(i),l=Rl(r),s=+a-ql(a),o=+l-ql(l);return Math.round((s-o)/864e5)}(n,Wl(n))+1}function Ul(e,t){const n=Hl(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=sa(e,t?.in),a=r.getDay(),l=(a<i?7:0)+a-i;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function Kl(e,t){return Ul(e,{...t,weekStartsOn:1})}function Gl(e,t){const n=sa(e,t?.in),i=n.getFullYear(),r=la(n,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const a=Kl(r),l=la(n,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const s=Kl(l);return n.getTime()>=a.getTime()?i+1:n.getTime()>=s.getTime()?i:i-1}function Yl(e,t){const n=sa(e,t?.in),i=+Kl(n)-+function(e,t){const n=Gl(e,t),i=la(t?.in||e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Kl(i)}(n);return Math.round(i/ra)+1}function Zl(e,t){const n=sa(e,t?.in),i=n.getFullYear(),r=Hl(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=la(t?.in||e,0);l.setFullYear(i+1,0,a),l.setHours(0,0,0,0);const s=Ul(l,t),o=la(t?.in||e,0);o.setFullYear(i,0,a),o.setHours(0,0,0,0);const u=Ul(o,t);return+n>=+s?i+1:+n>=+u?i:i-1}function Xl(e,t){const n=sa(e,t?.in),i=+Ul(n,t)-+function(e,t){const n=Hl(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Zl(e,t),a=la(t?.in||e,0);return a.setFullYear(r,0,i),a.setHours(0,0,0,0),Ul(a,t)}(n,t);return Math.round(i/ra)+1}function Ql(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Jl={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return Ql("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Ql(n+1,2)},d:(e,t)=>Ql(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Ql(e.getHours()%12||12,t.length),H:(e,t)=>Ql(e.getHours(),t.length),m:(e,t)=>Ql(e.getMinutes(),t.length),s:(e,t)=>Ql(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds();return Ql(Math.trunc(i*Math.pow(10,n-3)),t.length)}},es={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),i=t>0?t:1-t;return n.ordinalNumber(i,{unit:"year"})}return Jl.y(e,t)},Y:function(e,t,n,i){const r=Zl(e,i),a=r>0?r:1-r;return"YY"===t?Ql(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):Ql(a,t.length)},R:function(e,t){return Ql(Gl(e),t.length)},u:function(e,t){return Ql(e.getFullYear(),t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ql(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ql(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Jl.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ql(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const r=Xl(e,i);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):Ql(r,t.length)},I:function(e,t,n){const i=Yl(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):Ql(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Jl.d(e,t)},D:function(e,t,n){const i=$l(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):Ql(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const r=e.getDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ql(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const r=e.getDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ql(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),r=0===i?7:i;switch(t){case"i":return String(r);case"ii":return Ql(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let r;switch(r=12===i?"noon":0===i?"midnight":i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let r;switch(r=i>=17?"evening":i>=12?"afternoon":i>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Jl.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Jl.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):Ql(i,t.length)},k:function(e,t,n){let i=e.getHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):Ql(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Jl.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Jl.s(e,t)},S:function(e,t){return Jl.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return ns(i);case"XXXX":case"XX":return is(i);default:return is(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return ns(i);case"xxxx":case"xx":return is(i);default:return is(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ts(i,":");default:return"GMT"+is(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ts(i,":");default:return"GMT"+is(i,":")}},t:function(e,t,n){return Ql(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Ql(+e,t.length)}};function ts(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),r=Math.trunc(i/60),a=i%60;return 0===a?n+String(r):n+String(r)+t+Ql(a,2)}function ns(e,t){return e%60==0?(e>0?"-":"+")+Ql(Math.abs(e)/60,2):is(e,t)}function is(e,t=""){const n=e>0?"-":"+",i=Math.abs(e);return n+Ql(Math.trunc(i/60),2)+t+Ql(i%60,2)}const rs=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},as=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ls={p:as,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return rs(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",rs(i,t)).replace("{{time}}",as(r,t))}},ss=/^D+$/,os=/^Y+$/,us=["D","DD","YY","YYYY"],cs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ds=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fs=/^'([^]*?)'?$/,ms=/''/g,vs=/[a-zA-Z]/;function ps(e,t,n){const i=Hl(),r=n?.locale??i.locale??Dl,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,s=sa(e,n?.in);if(!oa(s))throw new RangeError("Invalid time value");let o=t.match(ds).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,ls[t])(e,r.formatLong):e})).join("").match(cs).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:hs(e)};if(es[t])return{isToken:!0,value:e};if(t.match(vs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));r.localize.preprocessor&&(o=r.localize.preprocessor(s,o));const u={firstWeekContainsDate:a,weekStartsOn:l,locale:r};return o.map((i=>{if(!i.isToken)return i.value;const a=i.value;return(!n?.useAdditionalWeekYearTokens&&function(e){return os.test(e)}(a)||!n?.useAdditionalDayOfYearTokens&&function(e){return ss.test(e)}(a))&&function(e,t,n){const i=function(e,t,n){const i="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(i),us.includes(e))throw new RangeError(i)}(a,t,String(e)),(0,es[a[0]])(s,a,r.localize,u)})).join("")}function hs(e){const t=e.match(fs);return t?t[1].replace(ms,"'"):e}var gs={[A]:[{value:"days",label:(0,o.__)("Days")},{value:"weeks",label:(0,o.__)("Weeks")},{value:"months",label:(0,o.__)("Months")},{value:"years",label:(0,o.__)("Years")}],[T]:[{value:"days",label:(0,o.__)("Days ago")},{value:"weeks",label:(0,o.__)("Weeks ago")},{value:"months",label:(0,o.__)("Months ago")},{value:"years",label:(0,o.__)("Years ago")}]};function bs({className:t,data:n,field:r,onChange:l,hideLabelFromVision:s,operator:u}){const c=gs[u===A?"inThePast":"over"],{id:d,label:f,getValue:m,setValue:v}=r,p=m({item:n}),{value:h="",unit:g=c[0].value}=p&&"object"==typeof p?p:{},b=(0,a.useCallback)((e=>l(v({item:n,value:{value:Number(e),unit:g}}))),[l,v,n,g]),x=(0,a.useCallback)((e=>l(v({item:n,value:{value:h,unit:e}}))),[l,v,n,h]);return(0,e.jsx)(i.BaseControl,{id:d,__nextHasNoMarginBottom:!0,className:ee(t,"dataviews-controls__relative-date"),label:f,hideLabelFromVision:s,children:(0,e.jsxs)(i.__experimentalHStack,{spacing:2.5,children:[(0,e.jsx)(i.__experimentalNumberControl,{__next40pxDefaultSize:!0,className:"dataviews-controls__relative-date-number",spinControls:"none",min:1,step:1,value:h,onChange:b}),(0,e.jsx)(i.SelectControl,{className:"dataviews-controls__relative-date-unit",__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,o.__)("Unit"),value:g,options:c,onChange:x,hideLabelFromVision:!0})]})})}var{DateCalendar:xs,ValidatedInputControl:ws}=se(i.privateApis);function ys({data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s}){const{id:u,label:c,description:d,setValue:f,getValue:m,isValid:v}=n,p=m({item:t}),h="string"==typeof p?p:void 0,[g,b]=(0,a.useState)((()=>ca(h)||new Date)),x=(0,a.useRef)(null),w=(0,a.useRef)(),y=(0,a.useRef)(null),_=(0,a.useCallback)((e=>r(f({item:t,value:e}))),[t,r,f]);(0,a.useEffect)((()=>()=>{w.current&&clearTimeout(w.current)}),[]);const j=(0,a.useCallback)((e=>{let t;if(e){let n=e;if(h){const t=ca(h);t&&(n=new Date(e),n.setHours(t.getHours()),n.setMinutes(t.getMinutes()))}t=n.toISOString(),_(t),w.current&&clearTimeout(w.current)}else _(void 0);y.current=x.current&&x.current.ownerDocument.activeElement,w.current=setTimeout((()=>{x.current&&(x.current.focus(),x.current.blur(),_(t),y.current&&y.current instanceof HTMLElement&&y.current.focus())}),0)}),[_,h]),C=(0,a.useCallback)((e=>{if(e){const t=new Date(e);_(t.toISOString());const n=ca(t.toISOString());n&&b(n)}else _(void 0)}),[_]),{timezone:{string:S},l10n:{startOfWeek:k}}=(0,ua.getSettings)(),I=v?.required&&!l?`${c} (${(0,o.__)("Required")})`:c;return(0,e.jsx)(i.BaseControl,{__nextHasNoMarginBottom:!0,id:u,label:I,help:d,hideLabelFromVision:l,children:(0,e.jsxs)(i.__experimentalVStack,{spacing:4,children:[(0,e.jsx)(xs,{style:{width:"100%"},selected:h&&ca(h)||void 0,onSelect:j,month:g,onMonthChange:b,timeZone:S||void 0,weekStartsOn:k}),(0,e.jsx)(ws,{ref:x,__next40pxDefaultSize:!0,required:!!v?.required,customValidity:Nl(v,s),type:"datetime-local",label:(0,o.__)("Date time"),hideLabelFromVision:!0,value:h?(V=ca(h)||void 0,V?"string"==typeof V?V:ps(V,"yyyy-MM-dd'T'HH:mm"):""):"",onChange:C})]})});var V}function _s(e,t,n){return function(e,t,n){const i=sa(e,n?.in);return isNaN(t)?la(n?.in||e,NaN):t?(i.setDate(i.getDate()+t),i):i}(e,-t,n)}function js(e,t,n){const i=sa(e,n?.in);if(isNaN(t))return la(n?.in||e,NaN);if(!t)return i;const r=i.getDate(),a=la(n?.in||e,i.getTime());return a.setMonth(i.getMonth()+t+1,0),r>=a.getDate()?a:(i.setFullYear(a.getFullYear(),a.getMonth(),r),i)}function Cs(e,t){const n=sa(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Ss(e,t,n){return function(e,t,n){return js(e,12*t,n)}(e,-t,n)}var ks=(0,e.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)(f.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12.218 5.377a.25.25 0 0 0-.436 0l-7.29 12.96a.25.25 0 0 0 .218.373h14.58a.25.25 0 0 0 .218-.372l-7.29-12.96Zm-1.743-.735c.669-1.19 2.381-1.19 3.05 0l7.29 12.96a1.75 1.75 0 0 1-1.525 2.608H4.71a1.75 1.75 0 0 1-1.525-2.608l7.29-12.96ZM12.75 17.46h-1.5v-1.5h1.5v1.5Zm-1.5-3h1.5v-5h-1.5v5Z"})}),{DateCalendar:Is,DateRangeCalendar:Vs}=se(i.privateApis),Es=[{id:"today",label:(0,o.__)("Today"),getValue:()=>(0,ua.getDate)(null)},{id:"yesterday",label:(0,o.__)("Yesterday"),getValue:()=>_s((0,ua.getDate)(null),1)},{id:"past-week",label:(0,o.__)("Past week"),getValue:()=>_s((0,ua.getDate)(null),7)},{id:"past-month",label:(0,o.__)("Past month"),getValue:()=>{return js((0,ua.getDate)(null),-1,e);var e}}],Ns=[{id:"last-7-days",label:(0,o.__)("Last 7 days"),getValue:()=>{const e=(0,ua.getDate)(null);return[_s(e,7),e]}},{id:"last-30-days",label:(0,o.__)("Last 30 days"),getValue:()=>{const e=(0,ua.getDate)(null);return[_s(e,30),e]}},{id:"month-to-date",label:(0,o.__)("Month to date"),getValue:()=>{const e=(0,ua.getDate)(null);return[Cs(e),e]}},{id:"last-year",label:(0,o.__)("Last year"),getValue:()=>{const e=(0,ua.getDate)(null);return[Ss(e,1),e]}},{id:"year-to-date",label:(0,o.__)("Year to date"),getValue:()=>{const e=(0,ua.getDate)(null);return[Wl(e),e]}}],Fs=e=>{if(!e)return null;const t=(0,ua.getDate)(e);return t&&oa(t)?t:null},Ms=e=>e?"string"==typeof e?e:ps(e,"yyyy-MM-dd"):"";function Os({field:t,validity:n,inputRefs:r,isTouched:l,setIsTouched:s,children:o}){const{isValid:u}=t,[c,d]=(0,a.useState)(void 0),f=(0,a.useCallback)((()=>{const e=Array.isArray(r)?r:[r];for(const t of e){const e=t.current;if(e&&!e.validity.valid)return void d({type:"invalid",message:e.validationMessage})}d(void 0)}),[r]);return(0,a.useEffect)((()=>{if(l){const e=setTimeout((()=>{n?d(Nl(u,n)):f()}),0);return()=>clearTimeout(e)}}),[l,u,n,f]),(0,e.jsxs)("div",{onBlur:e=>{l||e.relatedTarget&&e.currentTarget.contains(e.relatedTarget)||s(!0)},children:[o,(0,e.jsx)("div",{"aria-live":"polite",children:c&&(0,e.jsxs)("p",{className:ee("components-validated-control__indicator","invalid"===c.type?"is-invalid":void 0,"valid"===c.type?"is-valid":void 0),children:[(0,e.jsx)(i.Icon,{className:"components-validated-control__indicator-icon",icon:ks,size:16,fill:"currentColor"}),c.message]})})]})}function Ps({data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s}){const{id:u,label:c,setValue:d,getValue:f,isValid:m}=n,[v,p]=(0,a.useState)(null),h=f({item:t}),g="string"==typeof h?h:void 0,[b,x]=(0,a.useState)((()=>Fs(g)||new Date)),[w,y]=(0,a.useState)(!1),_=(0,a.useRef)(null),j=(0,a.useCallback)((e=>r(d({item:t,value:e}))),[t,r,d]),C=(0,a.useCallback)((e=>{const t=e?ps(e,"yyyy-MM-dd"):void 0;j(t),p(null),y(!0)}),[j]),S=(0,a.useCallback)((e=>{const t=e.getValue(),n=Ms(t);x(t),j(n),p(e.id),y(!0)}),[j]),k=(0,a.useCallback)((e=>{if(j(e),e){const t=Fs(e);t&&x(t)}p(null),y(!0)}),[j]),{timezone:{string:I},l10n:{startOfWeek:V}}=(0,ua.getSettings)(),E=m?.required?`${c} (${(0,o.__)("Required")})`:c;return(0,e.jsx)(Os,{field:n,validity:s,inputRefs:_,isTouched:w,setIsTouched:y,children:(0,e.jsx)(i.BaseControl,{__nextHasNoMarginBottom:!0,id:u,className:"dataviews-controls__date",label:E,hideLabelFromVision:l,children:(0,e.jsxs)(i.__experimentalVStack,{spacing:4,children:[(0,e.jsxs)(i.__experimentalHStack,{spacing:2,wrap:!0,justify:"flex-start",children:[Es.map((t=>{const n=v===t.id;return(0,e.jsx)(i.Button,{className:"dataviews-controls__date-preset",variant:"tertiary",isPressed:n,size:"small",onClick:()=>S(t),children:t.label},t.id)})),(0,e.jsx)(i.Button,{className:"dataviews-controls__date-preset",variant:"tertiary",isPressed:!v,size:"small",disabled:!!v,accessibleWhenDisabled:!1,children:(0,o.__)("Custom")})]}),(0,e.jsx)(i.__experimentalInputControl,{__next40pxDefaultSize:!0,ref:_,type:"date",label:(0,o.__)("Date"),hideLabelFromVision:!0,value:g,onChange:k,required:!!n.isValid?.required}),(0,e.jsx)(Is,{style:{width:"100%"},selected:g&&Fs(g)||void 0,onSelect:C,month:b,onMonthChange:x,timeZone:I||void 0,weekStartsOn:V})]})})})}function As({data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s}){const{id:u,label:c,getValue:d,setValue:f}=n;let m;const v=d({item:t});Array.isArray(v)&&2===v.length&&v.every((e=>"string"==typeof e))&&(m=v);const p=(0,a.useCallback)((e=>{r(f({item:t,value:e}))}),[t,r,f]),[h,g]=(0,a.useState)(null),b=(0,a.useMemo)((()=>{if(!m)return{from:void 0,to:void 0};const[e,t]=m;return{from:Fs(e)||void 0,to:Fs(t)||void 0}}),[m]),[x,w]=(0,a.useState)((()=>b.from||new Date)),[y,_]=(0,a.useState)(!1),j=(0,a.useRef)(null),C=(0,a.useRef)(null),S=(0,a.useCallback)(((e,t)=>{e&&t?p([Ms(e),Ms(t)]):e||t||p(void 0)}),[p]),k=(0,a.useCallback)((e=>{S(e?.from,e?.to),g(null),_(!0)}),[S]),I=(0,a.useCallback)((e=>{const[t,n]=e.getValue();w(t),S(t,n),g(e.id),_(!0)}),[S]),V=(0,a.useCallback)(((e,t)=>{const[n,i]=m||[void 0,void 0];if(S("from"===e?t:n,"to"===e?t:i),t){const e=Fs(t);e&&w(e)}g(null),_(!0)}),[m,S]),{timezone:E,l10n:N}=(0,ua.getSettings)(),F=n.isValid?.required?`${c} (${(0,o.__)("Required")})`:c;return(0,e.jsx)(Os,{field:n,validity:s,inputRefs:[j,C],isTouched:y,setIsTouched:_,children:(0,e.jsx)(i.BaseControl,{__nextHasNoMarginBottom:!0,id:u,className:"dataviews-controls__date",label:F,hideLabelFromVision:l,children:(0,e.jsxs)(i.__experimentalVStack,{spacing:4,children:[(0,e.jsxs)(i.__experimentalHStack,{spacing:2,wrap:!0,justify:"flex-start",children:[Ns.map((t=>{const n=h===t.id;return(0,e.jsx)(i.Button,{className:"dataviews-controls__date-preset",variant:"tertiary",isPressed:n,size:"small",onClick:()=>I(t),children:t.label},t.id)})),(0,e.jsx)(i.Button,{className:"dataviews-controls__date-preset",variant:"tertiary",isPressed:!h,size:"small",accessibleWhenDisabled:!1,disabled:!!h,children:(0,o.__)("Custom")})]}),(0,e.jsxs)(i.__experimentalHStack,{spacing:2,children:[(0,e.jsx)(i.__experimentalInputControl,{__next40pxDefaultSize:!0,ref:j,type:"date",label:(0,o.__)("From"),hideLabelFromVision:!0,value:m?.[0],onChange:e=>V("from",e),required:!!n.isValid?.required}),(0,e.jsx)(i.__experimentalInputControl,{__next40pxDefaultSize:!0,ref:C,type:"date",label:(0,o.__)("To"),hideLabelFromVision:!0,value:m?.[1],onChange:e=>V("to",e),required:!!n.isValid?.required})]}),(0,e.jsx)(Vs,{style:{width:"100%"},selected:b,onSelect:k,month:x,onMonthChange:w,timeZone:E.string||void 0,weekStartsOn:N.startOfWeek})]})})})}var Ts=(0,e.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)(f.Path,{d:"M12.5939 21C14.1472 21 16.1269 20.5701 17.0711 20.1975L16.6447 18.879C16.0964 19.051 14.3299 19.6242 12.6548 19.6242C7.4467 19.6242 4.67513 16.8726 4.67513 12C4.67513 7.21338 7.50762 4.34713 12.2893 4.34713C17.132 4.34713 19.4162 7.55732 19.4162 10.7675C19.4162 14.035 19.0508 15.4968 17.4975 15.4968C16.5838 15.4968 16.0964 14.7803 16.0964 13.9777V7.5H14.4822V8.30255H14.3909C14.1777 7.67198 12.9898 7.12739 11.467 7.2707C9.18274 7.5 7.4467 9.27707 7.4467 11.8567C7.4467 14.5796 8.81726 16.672 11.467 16.758C13.203 16.8153 14.1168 16.0127 14.4822 15.1815H14.5736C14.7563 16.414 16.401 16.8439 17.467 16.8439C20.6954 16.8439 21 13.5764 21 10.7962C21 6.86943 18.0761 3 12.3807 3C6.50254 3 3 6.3535 3 11.9427C3 17.7325 6.38071 21 12.5939 21ZM11.7107 15.2962C9.73096 15.2962 9.03046 13.6051 9.03046 11.7707C9.03046 10.1083 10.0355 8.67516 11.7716 8.67516C13.599 8.67516 14.5736 9.36306 14.5736 11.7707C14.5736 14.1497 13.7513 15.2962 11.7107 15.2962Z"})}),{ValidatedInputControl:Ls}=se(i.privateApis);function zs({data:t,field:n,onChange:i,hideLabelFromVision:r,type:l,prefix:s,suffix:o,validity:u}){const{label:c,placeholder:d,description:f,getValue:m,setValue:v,isValid:p}=n,h=m({item:t}),g=(0,a.useCallback)((e=>i(v({item:t,value:e}))),[t,v,i]);return(0,e.jsx)(Ls,{required:!!p?.required,customValidity:Nl(p,u),label:c,placeholder:d,value:h??"",help:f,onChange:g,hideLabelFromVision:r,type:l,prefix:s,suffix:o,__next40pxDefaultSize:!0})}var Ds=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),Bs=(0,e.jsx)(f.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(f.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),{ValidatedNumberControl:Hs}=se(i.privateApis);function qs(e){if(""===e||void 0===e)return"";const t=Number(e);return Number.isFinite(t)?t:""}function Rs({value:t,onChange:n,hideLabelFromVision:r,step:l}){const[s="",u=""]=t,c=(0,a.useCallback)((e=>n([qs(e),u])),[n,u]),d=(0,a.useCallback)((e=>n([s,qs(e)])),[n,s]);return(0,e.jsx)(i.BaseControl,{__nextHasNoMarginBottom:!0,help:(0,o.__)("The max. value must be greater than the min. value."),children:(0,e.jsxs)(i.Flex,{direction:"row",gap:4,children:[(0,e.jsx)(i.__experimentalNumberControl,{label:(0,o.__)("Min."),value:s,max:u?Number(u)-l:void 0,onChange:c,__next40pxDefaultSize:!0,hideLabelFromVision:r,step:l}),(0,e.jsx)(i.__experimentalNumberControl,{label:(0,o.__)("Max."),value:u,min:s?Number(s)+l:void 0,onChange:d,__next40pxDefaultSize:!0,hideLabelFromVision:r,step:l})]})})}function Ws({data:t,field:n,onChange:i,hideLabelFromVision:r,operator:l,decimals:s,validity:o}){const u=Math.pow(10,-1*Math.abs(s)),{label:c,description:d,getValue:f,setValue:m,isValid:v}=n,p=f({item:t})??"",h=(0,a.useCallback)((e=>{i(m({item:t,value:["",void 0].includes(e)?void 0:Number(e)}))}),[t,i,m]),g=(0,a.useCallback)((e=>{i(m({item:t,value:e}))}),[t,i,m]);if(l===M){let t=["",""];return Array.isArray(p)&&2===p.length&&p.every((e=>"number"==typeof e||""===e))&&(t=p),(0,e.jsx)(Rs,{value:t,onChange:g,hideLabelFromVision:r,step:u})}return(0,e.jsx)(Hs,{required:!!v?.required,customValidity:Nl(v,o),label:c,help:d,value:p,onChange:h,__next40pxDefaultSize:!0,hideLabelFromVision:r,step:u})}var{ValidatedRadioControl:$s}=se(i.privateApis),{ValidatedSelectControl:Us}=se(i.privateApis),{ValidatedToggleControl:Ks}=se(i.privateApis),{ValidatedTextareaControl:Gs}=se(i.privateApis),{ValidatedToggleGroupControl:Ys}=se(i.privateApis),{ValidatedFormTokenField:Zs}=se(i.privateApis),{ValidatedInputControl:Xs,Picker:Qs}=se(i.privateApis),Js=({color:t,onColorChange:n})=>{const r=t&&Il(t).isValid()?t:"#ffffff";return(0,e.jsx)(i.Dropdown,{renderToggle:({onToggle:t,isOpen:n})=>(0,e.jsx)(i.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,e.jsx)("button",{type:"button",onClick:t,style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r,border:"1px solid #ddd",cursor:"pointer",outline:n?"2px solid #007cba":"none",outlineOffset:"2px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,margin:0},"aria-label":"Open color picker"})}),renderContent:()=>(0,e.jsx)("div",{style:{padding:"16px"},children:(0,e.jsx)(Qs,{color:Il(r),onChange:n,enableAlpha:!0})})})},eo=(0,e.jsx)(f.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)(f.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})});function to(e){return Array.isArray(e.elements)&&e.elements.length>0||"function"==typeof e.getElements}var no={array:function({data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s}){const{label:o,placeholder:u,getValue:c,setValue:d,isValid:f}=n,m=c({item:t}),{elements:v,isLoading:p}=Ur({elements:n.elements,getElements:n.getElements}),h=(0,a.useMemo)((()=>Array.isArray(m)?m.map((e=>{const t=v?.find((t=>t.value===e));return t||{value:e,label:e}})):[]),[m,v]),g=(0,a.useCallback)((e=>{const n=e.map((e=>"object"==typeof e&&"value"in e?e.value:e));r(d({item:t,value:n}))}),[r,d,t]);return p?(0,e.jsx)(i.Spinner,{}):(0,e.jsx)(Zs,{required:!!f?.required,customValidity:Nl(f,s),label:l?void 0:o,value:h,onChange:g,placeholder:u,suggestions:v?.map((e=>e.value)),__experimentalValidateInput:e=>!n.isValid?.elements||!v||v.some((t=>t.value===e||t.label===e)),__experimentalExpandOnFocus:v&&v.length>0,__experimentalShowHowTo:!n.isValid?.elements,displayTransform:e=>{if("object"==typeof e&&"label"in e)return e.label;if("string"==typeof e&&v){const t=v.find((t=>t.value===e));return t?.label||e}return e},__experimentalRenderItem:({item:t})=>{if("string"==typeof t&&v){const n=v.find((e=>e.value===t));return(0,e.jsx)("span",{children:n?.label||t})}return(0,e.jsx)("span",{children:t})}})},checkbox:function({field:t,onChange:n,data:i,hideLabelFromVision:r,validity:l}){const{getValue:s,setValue:o,label:u,description:c,isValid:d}=t,f=(0,a.useCallback)((()=>{n(o({item:i,value:!s({item:i})}))}),[i,s,n,o]);return(0,e.jsx)(Fl,{required:!!t.isValid?.required,customValidity:Nl(d,l),hidden:r,label:u,help:c,checked:s({item:i}),onChange:f})},color:function({data:t,field:n,onChange:i,hideLabelFromVision:r,validity:l}){const{label:s,placeholder:o,description:u,setValue:c,isValid:d}=n,f=n.getValue({item:t})||"",m=(0,a.useCallback)((e=>{i(c({item:t,value:e.toHex()}))}),[t,i,c]),v=(0,a.useCallback)((e=>{i(c({item:t,value:e||""}))}),[t,i,c]);return(0,e.jsx)(Xs,{required:!!n.isValid?.required,customValidity:Nl(d,l),label:s,placeholder:o,value:f,help:u,onChange:v,hideLabelFromVision:r,type:"text",prefix:(0,e.jsx)(Js,{color:f,onColorChange:m})})},datetime:function({data:t,field:n,onChange:i,hideLabelFromVision:r,operator:a,validity:l}){return a===A||a===T?(0,e.jsx)(bs,{className:"dataviews-controls__datetime",data:t,field:n,onChange:i,hideLabelFromVision:r,operator:a}):(0,e.jsx)(ys,{data:t,field:n,onChange:i,hideLabelFromVision:r,validity:l})},date:function({data:t,field:n,onChange:i,hideLabelFromVision:r,operator:a,validity:l}){return a===A||a===T?(0,e.jsx)(bs,{className:"dataviews-controls__date",data:t,field:n,onChange:i,hideLabelFromVision:r,operator:a}):a===M?(0,e.jsx)(As,{data:t,field:n,onChange:i,hideLabelFromVision:r,validity:l}):(0,e.jsx)(Ps,{data:t,field:n,onChange:i,hideLabelFromVision:r,validity:l})},email:function({data:t,field:n,onChange:r,hideLabelFromVision:a,validity:l}){return(0,e.jsx)(zs,{data:t,field:n,onChange:r,hideLabelFromVision:a,validity:l,type:"email",prefix:(0,e.jsx)(i.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,e.jsx)(i.Icon,{icon:Ts})})})},telephone:function({data:t,field:n,onChange:r,hideLabelFromVision:a,validity:l}){return(0,e.jsx)(zs,{data:t,field:n,onChange:r,hideLabelFromVision:a,validity:l,type:"tel",prefix:(0,e.jsx)(i.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,e.jsx)(i.Icon,{icon:Ds})})})},url:function({data:t,field:n,onChange:r,hideLabelFromVision:a,validity:l}){return(0,e.jsx)(zs,{data:t,field:n,onChange:r,hideLabelFromVision:a,validity:l,type:"url",prefix:(0,e.jsx)(i.__experimentalInputControlPrefixWrapper,{variant:"icon",children:(0,e.jsx)(i.Icon,{icon:Bs})})})},integer:function(t){return(0,e.jsx)(Ws,{...t,decimals:0})},number:function(t){return(0,e.jsx)(Ws,{...t,decimals:2})},password:function({data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s}){const[u,c]=(0,a.useState)(!1),d=(0,a.useCallback)((()=>{c((e=>!e))}),[]);return(0,e.jsx)(zs,{data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s,type:u?"text":"password",suffix:(0,e.jsx)(i.__experimentalInputControlSuffixWrapper,{variant:"control",children:(0,e.jsx)(i.Button,{icon:u?Fe:eo,onClick:d,size:"small",label:u?(0,o.__)("Hide password"):(0,o.__)("Show password")})})})},radio:function({data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s}){const{label:o,description:u,getValue:c,setValue:d,isValid:f}=n,{elements:m,isLoading:v}=Ur({elements:n.elements,getElements:n.getElements}),p=c({item:t}),h=(0,a.useCallback)((e=>r(d({item:t,value:e}))),[t,r,d]);return v?(0,e.jsx)(i.Spinner,{}):(0,e.jsx)($s,{required:!!n.isValid?.required,customValidity:Nl(f,s),label:o,help:u,onChange:h,options:m,selected:p,hideLabelFromVision:l})},select:function({data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s}){const{type:o,label:u,description:c,getValue:d,setValue:f,isValid:m}=n,v="array"===o,p=d({item:t})??(v?[]:""),h=(0,a.useCallback)((e=>r(f({item:t,value:e}))),[t,r,f]),{elements:g,isLoading:b}=Ur({elements:n.elements,getElements:n.getElements});return b?(0,e.jsx)(i.Spinner,{}):(0,e.jsx)(Us,{required:!!n.isValid?.required,customValidity:Nl(m,s),label:u,value:p,help:c,options:g,onChange:h,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:l,multiple:v})},text:function({data:t,field:n,onChange:i,hideLabelFromVision:r,config:l,validity:s}){const{prefix:o,suffix:u}=l||{};return(0,e.jsx)(zs,{data:t,field:n,onChange:i,hideLabelFromVision:r,validity:s,prefix:o?(0,a.createElement)(o):void 0,suffix:u?(0,a.createElement)(u):void 0})},toggle:function({field:t,onChange:n,data:i,hideLabelFromVision:r,validity:l}){const{label:s,description:o,getValue:u,setValue:c,isValid:d}=t,f=(0,a.useCallback)((()=>{n(c({item:i,value:!u({item:i})}))}),[n,c,i,u]);return(0,e.jsx)(Ks,{required:!!d.required,customValidity:Nl(d,l),hidden:r,__nextHasNoMarginBottom:!0,label:s,help:o,checked:u({item:i}),onChange:f})},textarea:function({data:t,field:n,onChange:i,hideLabelFromVision:r,config:l,validity:s}){const{rows:o=4}=l||{},{label:u,placeholder:c,description:d,setValue:f,isValid:m}=n,v=n.getValue({item:t}),p=(0,a.useCallback)((e=>i(f({item:t,value:e}))),[t,i,f]);return(0,e.jsx)(Gs,{required:!!m?.required,customValidity:Nl(m,s),label:u,placeholder:c,value:v??"",help:d,onChange:p,rows:o,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision:r})},toggleGroup:function({data:t,field:n,onChange:r,hideLabelFromVision:l,validity:s}){const{getValue:o,setValue:u,isValid:c}=n,d=o({item:t}),f=(0,a.useCallback)((e=>r(u({item:t,value:e}))),[t,r,u]),{elements:m,isLoading:v}=Ur({elements:n.elements,getElements:n.getElements});if(v)return(0,e.jsx)(i.Spinner,{});if(0===m.length)return null;const p=m.find((e=>e.value===d));return(0,e.jsx)(Ys,{required:!!n.isValid?.required,customValidity:Nl(c,s),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,isBlock:!0,label:n.label,help:p?.description||n.description,onChange:f,value:d,hideLabelFromVision:l,children:m.map((t=>(0,e.jsx)(i.__experimentalToggleGroupControlOption,{label:t.label,value:t.value},t.value)))})}};function io(e){return e&&"object"==typeof e&&"string"==typeof e.control}function ro(t){const{control:n,...i}=t,r=ao(n);return function(t){return(0,e.jsx)(r,{...t,config:i})}}function ao(e){if(Object.keys(no).includes(e))return no[e];throw"Control "+e+" not found"}var lo=e=>e.id,so=()=>!0,oo=[],uo=ut.filter((e=>!e.isPicker));function co({header:t,search:n=!0,searchLabel:r}){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(i.__experimentalHStack,{alignment:"top",justify:"space-between",className:"dataviews__view-actions",spacing:1,children:[(0,e.jsxs)(i.__experimentalHStack,{justify:"start",expanded:!1,className:"dataviews__search",children:[n&&(0,e.jsx)(Ia,{label:r}),(0,e.jsx)(vt,{})]}),(0,e.jsxs)(i.__experimentalHStack,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,e.jsx)(Ha,{}),t]})]}),(0,e.jsx)(xa,{className:"dataviews-filters__container"}),(0,e.jsx)(wa,{}),(0,e.jsx)(ka,{})]})}var fo=function({view:t,onChangeView:n,fields:i,search:r=!0,searchLabel:l,actions:s=oo,data:o,getItemId:u=lo,getItemLevel:c,isLoading:f=!1,paginationInfo:m,defaultLayouts:v,selection:g,onChangeSelection:b,onClickItem:x,renderItemLink:w,isItemClickable:y=so,header:_,children:j,config:C={perPageSizes:[10,20,50,100]},empty:S}){const{infiniteScrollHandler:k}=m,I=(0,a.useRef)(null),[V,E]=(0,a.useState)(0),N=(0,d.useResizeObserver)((e=>{E(e[0].borderBoxSize[0].inlineSize)}),{box:"border-box"}),[F,O]=(0,a.useState)([]),P=void 0===g||void 0===b,A=P?F:g,[T,D]=(0,a.useState)(null),B=(0,a.useMemo)((()=>function(t){return t.map((t=>{const n="email"===(i=t.type)?Wa:"integer"===i?$a:"number"===i?Ua:"text"===i?Ka:"datetime"===i?Ga:"date"===i?Ya:"boolean"===i?Za:"media"===i?Xa:"array"===i?Ja:"password"===i?el:"telephone"===i?tl:"color"===i?Vl:"url"===i?El:{sort:(e,t,n)=>"number"==typeof e&&"number"==typeof t?"asc"===n?e-t:t-e:"asc"===n?e.localeCompare(t):t.localeCompare(e),isValid:{elements:!0,custom:()=>null},Edit:null,render:({item:t,field:n})=>n.hasElements?(0,e.jsx)(qa,{item:t,field:n}):n.getValue({item:t}),enableSorting:!0,filterBy:{defaultOperators:[p,h],validOperators:L}};var i;const r=t.getValue||(a=t.id,({item:e})=>{const t=a.split(".");let n=e;for(const e of t)n=n.hasOwnProperty(e)?n[e]:void 0;return n});var a;const l=t.setValue||(e=>({value:t})=>{const n=e.split("."),i={};let r=i;for(const e of n.slice(0,-1))r[e]={},r=r[e];return r[n.at(-1)]=t,i})(t.id),s=t.sort??function(e,t,i){return n.sort(r({item:e}),r({item:t}),i)},o={...n.isValid,...t.isValid},u=function(e,t){return"function"==typeof e.Edit?e.Edit:"string"==typeof e.Edit?ao(e.Edit):io(e.Edit)?ro(e.Edit):to(e)&&"array"!==e.type?ao("select"):"string"==typeof t.Edit?ao(t.Edit):io(t.Edit)?ro(t.Edit):t.Edit}(t,n),c=t.render??function({item:e,field:t}){return n.render({item:e,field:t})},d=function(e,t){if(!1===e.filterBy)return!1;if("object"==typeof e.filterBy){let n=e.filterBy.operators;n&&Array.isArray(n)||(n=t.filterBy?t.filterBy.defaultOperators:[]);let i=L;return"object"==typeof t.filterBy&&(i=t.filterBy.validOperators),n=n.filter((e=>i.includes(e))),to(e)&&n.includes(M)&&(n=n.filter((e=>e!==M))),n.some((e=>z.includes(e)))&&(n=n.filter((e=>[...z,M].includes(e)))),0!==n.length&&{isPrimary:!!e.filterBy.isPrimary,operators:n}}if(!1===t.filterBy)return!1;let n=t.filterBy.defaultOperators;return to(e)&&n.includes(M)&&(n=n.filter((e=>e!==M))),{operators:n}}(t,n);return{...t,label:t.label||t.id,header:t.header||t.label||t.id,getValue:r,setValue:l,render:c,sort:s,isValid:o,Edit:u,hasElements:to(t),enableHiding:t.enableHiding??!0,enableSorting:t.enableSorting??n.enableSorting??!0,filterBy:d,readOnly:t.readOnly??n.readOnly??!1}}))}(i)),[i]),H=(0,a.useMemo)((()=>A.filter((e=>o.some((t=>u(t)===e))))),[A,o,u]),q=ga(B,t),R=(0,a.useMemo)((()=>(q||[]).some((e=>e.isPrimary||e.isLocked))),[q]),[W,$]=(0,a.useState)(R);(0,a.useEffect)((()=>{R&&!W&&$(!0)}),[R,W]),(0,a.useEffect)((()=>{if(!t.infiniteScrollEnabled||!I.current)return;const e=(0,d.throttle)((e=>{const t=e.target,n=t.scrollTop,i=t.scrollHeight;n+t.clientHeight>=i-100&&k?.()}),100),n=I.current;return n.addEventListener("scroll",e),()=>{n.removeEventListener("scroll",e),e.cancel()}}),[k,t.infiniteScrollEnabled]);const U=(0,a.useMemo)((()=>Object.fromEntries(Object.entries(v).filter((([e])=>uo.some((t=>t.type===e)))))),[v]);return U[t.type]?(0,e.jsx)(G.Provider,{value:{view:t,onChangeView:n,fields:B,actions:s,data:o,isLoading:f,paginationInfo:m,selection:H,onChangeSelection:function(e){const t="function"==typeof e?e(A):e;P&&O(t),b&&b(t)},openedFilter:T,setOpenedFilter:D,getItemId:u,getItemLevel:c,isItemClickable:y,onClickItem:x,renderItemLink:w,containerWidth:V,containerRef:I,resizeObserverRef:N,defaultLayouts:U,filters:q,isShowingFilter:W,setIsShowingFilter:$,config:C,empty:S,hasInfiniteScrollHandler:!!k},children:(0,e.jsx)("div",{className:"dataviews-wrapper",ref:I,children:j??(0,e.jsx)(co,{header:_,search:r,searchLabel:l})})}):null};fo.BulkActionToolbar=Ie,fo.Filters=ba,fo.FiltersToggled=xa,fo.FiltersToggle=vt,fo.Layout=wa,fo.LayoutSwitcher=Pa,fo.Pagination=ja,fo.Search=Ia,fo.ViewConfig=Da,fo.Footer=ka;var mo=fo;function vo({data:t,visibleFields:n,onToggleField:r,search:l=!1,emptyMessage:s}){const[u,c]=(0,a.useState)({type:"table",fields:["label","value","visibility"],perPage:10,page:1,filters:[],layout:{enableMoving:!1}}),d=(0,a.useCallback)((e=>n.includes(e)),[n]),f=(0,a.useMemo)((()=>[{id:"label",label:(0,o.__)("Field","rrze-faudir"),enableHiding:!1,enableSorting:!1,getValue:({item:e})=>e.label},{id:"value",label:(0,o.__)("API value","rrze-faudir"),enableSorting:!1,enableHiding:!1,render:({item:t})=>t.value?t.value:(0,e.jsx)("span",{className:"rrze-faudir__dataviews-empty",children:(0,o.__)("No data","rrze-faudir")})},{id:"visibility",label:(0,o.__)("Display","rrze-faudir"),enableSorting:!1,enableHiding:!1,render:({item:t})=>(0,e.jsx)(i.ToggleControl,{label:t.label,"aria-label":(0,o.sprintf)((0,o.__)("Toggle %s","rrze-faudir"),t.label),checked:d(t.id),onChange:()=>r(t.id)})}]),[d,r]),m=(0,a.useMemo)((()=>({totalItems:t.length,totalPages:1})),[t.length]);return(0,e.jsx)(mo,{data:t,fields:f,view:u,onChangeView:c,paginationInfo:m,defaultLayouts:{table:{showMedia:!1}},getItemId:e=>e.id,empty:(0,e.jsx)("p",{children:null!=s?s:(0,o.__)("No API data fetched yet.","rrze-faudir")}),search:l,children:(0,e.jsx)(mo.Layout,{})})}const po={1:(0,o.__)("Monday","rrze-faudir"),2:(0,o.__)("Tuesday","rrze-faudir"),3:(0,o.__)("Wednesday","rrze-faudir"),4:(0,o.__)("Thursday","rrze-faudir"),5:(0,o.__)("Friday","rrze-faudir"),6:(0,o.__)("Saturday","rrze-faudir"),7:(0,o.__)("Sunday","rrze-faudir")},ho={phone:"",mail:"",url:"",street:"",zip:"",city:""},go=["name","street","zip","city","phone","mail","url","officeHours"],bo=JSON.parse('{"UU":"rrze-faudir/service"}');(0,t.registerBlockType)(bo.UU,{icon:{src:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"evenodd",children:(0,e.jsx)("path",{d:"M440-120v-80h320v-284q0-117-81.5-198.5T480-764q-117 0-198.5 81.5T200-484v244h-40q-33 0-56.5-23.5T80-320v-80q0-21 10.5-39.5T120-469l3-53q8-68 39.5-126t79-101q47.5-43 109-67T480-840q68 0 129 24t109 66.5Q766-707 797-649t40 126l3 52q19 9 29.5 27t10.5 38v92q0 20-10.5 38T840-249v49q0 33-23.5 56.5T760-120H440Zm-80-280q-17 0-28.5-11.5T320-440q0-17 11.5-28.5T360-480q17 0 28.5 11.5T400-440q0 17-11.5 28.5T360-400Zm240 0q-17 0-28.5-11.5T560-440q0-17 11.5-28.5T600-480q17 0 28.5 11.5T640-440q0 17-11.5 28.5T600-400Zm-359-62q-7-106 64-182t177-76q89 0 156.5 56.5T720-519q-91-1-167.5-49T435-698q-16 80-67.5 142.5T241-462Z"})})},edit:function({attributes:t,setAttributes:r}){var l;const d=(0,n.useBlockProps)(),{orgid:f="",visibleFields:m,imageId:v,imageURL:p="",imageWidth:h=0,imageHeight:g=0,displayText:b=""}=t,x=m&&m.length>0?m:go,[w,y]=(0,a.useState)(!1),[_,j]=(0,a.useState)(""),[C,S]=(0,a.useState)(Object.assign({},ho)),[k,I]=(0,a.useState)([]),V=(0,a.useCallback)((()=>{j(""),S(Object.assign({},ho)),I([])}),[]);(0,a.useEffect)((()=>{if(V(),!f)return;const e=new AbortController;return s()({path:`/rrze-faudir/v1/organization?orgid=${encodeURIComponent(f)}`,signal:e.signal}).then((e=>{var t,n,i,r,a,l,s,o,u,c,d;const f=null!==(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.address)&&void 0!==n?n:{},m={phone:null!==(i=null==f?void 0:f.phone)&&void 0!==i?i:"",mail:null!==(r=null==f?void 0:f.mail)&&void 0!==r?r:"",url:null!==(a=null==f?void 0:f.url)&&void 0!==a?a:"",street:null!==(l=null==f?void 0:f.street)&&void 0!==l?l:"",zip:null!==(s=null==f?void 0:f.zip)&&void 0!==s?s:"",city:null!==(o=null==f?void 0:f.city)&&void 0!==o?o:""},v=null!==(c=null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.name)&&void 0!==c?c:"",p=Array.isArray(null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.officeHours)?e.data.officeHours.map((e=>{var t,n,i;return{weekday:null!==(t=null==e?void 0:e.weekday)&&void 0!==t?t:"",from:null!==(n=null==e?void 0:e.from)&&void 0!==n?n:"",to:null!==(i=null==e?void 0:e.to)&&void 0!==i?i:""}})):[];S(m),j(v),I(p)})).catch((e=>{"AbortError"!==(null==e?void 0:e.name)&&(console.error("FAUdir organization request failed",e),V())})),()=>e.abort()}),[f,V]);const{phone:E,mail:N,url:F,street:M,zip:O,city:P}=C,A=(0,a.useMemo)((()=>k.map((e=>(e=>{var t,n,i;if(!e)return"";const r=e.weekday,a="number"==typeof r?null!==(t=po[r])&&void 0!==t?t:`${r}`:null!=r?r:"",l=null!==(n=e.from)&&void 0!==n?n:"",s=null!==(i=e.to)&&void 0!==i?i:"";let o="";return o=l&&s?`${l} – ${s}`:l||s||"",[a,o].filter(Boolean).join(": ")})(e))).filter(Boolean)),[k]),T=(0,a.useCallback)((e=>{const t=x.includes(e)?x.filter((t=>t!==e)):[...x,e];r({visibleFields:t})}),[x,r]),L=(0,a.useCallback)((e=>x.includes(e)),[x]),z=(0,a.useMemo)((()=>[{id:"name",label:(0,o.__)("Name","rrze-faudir"),value:_||""},{id:"street",label:(0,o.__)("Street","rrze-faudir"),value:M||""},{id:"zip",label:(0,o.__)("ZIP","rrze-faudir"),value:O||""},{id:"city",label:(0,o.__)("City","rrze-faudir"),value:P||""},{id:"phone",label:(0,o.__)("Phone","rrze-faudir"),value:E||""},{id:"mail",label:(0,o.__)("Email","rrze-faudir"),value:N||""},{id:"url",label:(0,o.__)("Website","rrze-faudir"),value:F||""},{id:"officeHours",label:(0,o.__)("Office hours","rrze-faudir"),value:A.length?A.join("\n"):""}]),[_,M,O,P,E,N,F,A]),D=["phone","mail","url"].some((e=>L(e)&&C[e])),B=["street","zip","city"].some((e=>L(e)&&C[e])),H=L("officeHours"),q=(0,e.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"evenodd",children:(0,e.jsx)(i.Path,{d:"M440-240q116 0 198-81.5T720-520q0-116-82-198t-198-82q-117 0-198.5 82T160-520q0 117 81.5 198.5T440-240Zm0-280Zm0 160q-83 0-147.5-44.5T200-520q28-70 92.5-115T440-680q82 0 146.5 45T680-520q-29 71-93.5 115.5T440-360Zm0-60q55 0 101-26.5t72-73.5q-26-46-72-73t-101-27q-56 0-102 27t-72 73q26 47 72 73.5T440-420Zm0-40q25 0 42.5-17t17.5-43q0-25-17.5-42.5T440-580q-26 0-43 17.5T380-520q0 26 17 43t43 17Zm0 300q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T80-520q0-74 28.5-139.5t77-114.5q48.5-49 114-77.5T440-880q74 0 139.5 28.5T694-774q49 49 77.5 114.5T800-520q0 64-21 121t-58 104l159 159-57 56-159-158q-47 37-104 57.5T440-160Z"})});return(0,e.jsx)(e.Fragment,{children:f?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.BlockControls,{children:[(0,e.jsx)(c,{mediaId:v,mediaURL:p,mediaWidth:h,mediaHeight:g,setAttributes:r}),(0,e.jsx)(i.ToolbarGroup,{children:(0,e.jsx)(i.ToolbarGroup,{children:(0,e.jsx)(i.ToolbarItem,{children:()=>(0,e.jsx)(i.ToolbarButton,{label:(0,o.__)("Manage Data Visibility","rrze-faudir"),icon:q,onClick:()=>y(!0)})})})})]}),w&&(0,e.jsxs)(i.Modal,{size:"large",onRequestClose:()=>y(!1),children:[(0,e.jsx)(i.Notice,{isDismissible:!1,spokenMessage:(0,o.__)("Please be aware, that all data displayed within the service block is in sync with the Portal FAUdir. You cannot change contact details from within your web page.","rrze-faudir"),status:"info",children:(0,o.__)("The data displayed below is in sync with FAUdir and cannot be changed from within your website. Contact data can only be edited within the FAUdir Portal.","rrze-faudir")}),(0,e.jsx)(vo,{data:z,visibleFields:x,onToggleField:T,search:!1})]}),(0,e.jsxs)(n.InspectorControls,{children:[(0,e.jsx)(i.PanelBody,{title:(0,o.__)("Organization","rrze-faudir"),initialOpen:!0,children:(0,e.jsx)(u,{attributes:t,setAttributes:r})}),(0,e.jsx)(i.PanelBody,{title:(0,o.__)("Available data","rrze-faudir"),initialOpen:!1,children:(0,e.jsx)(i.Button,{variant:"tertiary",onClick:()=>y(!0),disabled:w,children:(0,o.__)("Manage Data View","rrze-faudir")})})]}),(0,e.jsxs)("article",Object.assign({},d,{className:`rrze-elements-blocks_service_card ${null!==(l=d.className)&&void 0!==l?l:""}`,"aria-labelledby":"service-title",children:[(0,e.jsx)("figure",{className:"rrze-elements-blocks_service__figure",children:(0,e.jsx)("img",{className:"rrze-elements-blocks_service__image",src:p,width:h,alt:"",height:g})}),_&&L("name")&&(0,e.jsxs)("header",{className:"rrze-elements-blocks_service__meta_headline",children:[(0,e.jsx)("h2",{id:"service-title",className:"meta-headline",children:_}),(0,e.jsx)(n.RichText,{value:b,tagName:"p",placeholder:(0,o.__)("Add your service description...","rrze-faudir"),onChange:e=>r({displayText:e})})]}),B&&(0,e.jsxs)("section",{className:"rrze-elements-blocks_service__information","aria-labelledby":"addr-h",children:[(0,e.jsx)("h3",{id:"addr-h",children:(0,o.__)("Adresse","rrze-faudir")}),(0,e.jsxs)("address",{children:[M&&L("street")&&(0,e.jsxs)("span",{children:[M,(0,e.jsx)("br",{})]}),(O||P)&&(0,e.jsx)("span",{children:[L("zip")?O:null,L("city")?P:null].filter(Boolean).join(" ")})]})]}),H&&0!==A.length&&(0,e.jsxs)("section",{"aria-labelledby":"hours-h",children:[(0,e.jsx)("h3",{id:"hours-h",children:(0,o.__)("Office hours","rrze-faudir")}),(0,e.jsx)("ul",{children:A.map(((t,n)=>(0,e.jsx)("li",{children:t},`office-hour-${n}`)))})]}),D&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("section",{"aria-labelledby":"contact-h",children:[(0,e.jsx)("h3",{id:"contact-h",children:(0,o.__)("Contact","rrze-faudir")}),(0,e.jsxs)("address",{children:[E&&L("phone")&&(0,e.jsx)("p",{children:(0,e.jsx)("a",{href:`tel:${E.replace(/\s+/g,"")}`,children:E})}),N&&L("mail")&&(0,e.jsx)("p",{children:(0,e.jsx)("a",{href:`mailto:${N}`,children:N})}),F&&L("url")&&(0,e.jsx)("p",{children:(0,e.jsx)("a",{href:F,target:"_blank",rel:"noreferrer",children:F})})]})]})})]}))]}):(0,e.jsx)(i.Placeholder,{label:(0,o.__)("FAUdir Service-Block","rrze-faudir"),icon:(0,e.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"evenodd",children:(0,e.jsx)(i.Path,{d:"M440-120v-80h320v-284q0-117-81.5-198.5T480-764q-117 0-198.5 81.5T200-484v244h-40q-33 0-56.5-23.5T80-320v-80q0-21 10.5-39.5T120-469l3-53q8-68 39.5-126t79-101q47.5-43 109-67T480-840q68 0 129 24t109 66.5Q766-707 797-649t40 126l3 52q19 9 29.5 27t10.5 38v92q0 20-10.5 38T840-249v49q0 33-23.5 56.5T760-120H440Zm-80-280q-17 0-28.5-11.5T320-440q0-17 11.5-28.5T360-480q17 0 28.5 11.5T400-440q0 17-11.5 28.5T360-400Zm240 0q-17 0-28.5-11.5T560-440q0-17 11.5-28.5T600-480q17 0 28.5 11.5T640-440q0 17-11.5 28.5T600-400Zm-359-62q-7-106 64-182t177-76q89 0 156.5 56.5T720-519q-91-1-167.5-49T435-698q-16 80-67.5 142.5T241-462Z"})}),instructions:(0,o.__)("Insert your FAUdir Folder/Org Id to display service information.","rrze-faudir"),children:(0,e.jsx)(u,{attributes:t,setAttributes:r})})})},save:function(){return null}})})()})();