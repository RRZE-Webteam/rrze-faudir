/*----------------------------------------------------------------------------*/
/* _symbols 
/* Created on : 31.01.2025, 17:28:46
/*----------------------------------------------------------------------------*/

// Translate colors
@function encodecolor($string) {
   @if type-of($string) == 'color' and str-index(#{$string}, '#') == 1 {
    $hex: str-slice(ie-hex-str($string), 4);
    $string: unquote('#{$hex}');

    @return '%23' + $string;
  }

  @return $string;
}

// Build Background String
@function svg-buildbackground($path, $viewbox, $farbe: false, $width: 0, $height: 0) {
    $svgdef: '%3Csvg aria-hidden="true" focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" ' + 'viewBox="' + $viewbox + '"';
    @if ($width != 0) {
	  $svgdef: $svgdef + ' width="'+$width+'"';
    }
    @if ($height != 0) {
	  $svgdef: $svgdef + ' height="'+$height+'"';
    }
    
    $svgdef: $svgdef + '%3E';
    $svg: '';
    
    @if ($farbe != false) {
	$farbe: encodecolor($farbe);
	$svg: $svgdef + '%3Cpath fill="'+$farbe+'" ' + $path + '/%3E';
	
    } @else {
	$svg: $svgdef + '%3Cpath ' + $path + '/%3E';
    }
    $urldef: "data:image/svg+xml;charset=UTF-8," + $svg + "%3C/svg%3E%0A";
    $url:  url($urldef);
    @return $url;
}

@import "lib/defaults";
@import "lib/social-media";
@import "lib/webportals";


.faudir {
    .link {
	display: inline-block;
	list-style: none;
	overflow: hidden;
	margin: 0.25rem;
	padding: 0px;
	width: var(--faudir-icon-size); 
	height: var(--faudir-icon-size); 

	&::before {
	    content: inherit;
	    display: none;
	}
   
    
    
        a {
	    width: var(--faudir-icon-size); 
	    height: var(--faudir-icon-size); 
	    overflow: hidden;
	    display: inline-block;
	    background-color: var(--faudir-icon_background-color);
	    border: var(--faudir-icon-border-width) solid var(--faudir-icon-border-color);
	    border-radius: var(--faudir-icon-border-radius);

	    &::before {   
		width: var(--faudir-icon-size); 
		height: var(--faudir-icon-size); 
		display: inline-block;
		content: ' ';
		mask-size: var(--faudir-icon-size-mask); 
		mask-repeat: no-repeat;
		mask-position: var(--faudir-icon-size-maskposition); 
		background-color: var(--faudir-icon-color);
		mask-image: svg-bookmark();

	    }
	    &:focus,
	    &:hover {
		background-color: var(--faudir-icon-background-color-hover);
		border-color: var(--faudir-icon-border-color-hover);
	    }
	    &:focus::before,
	    &:hover::before {
		 background-color: var(--faudir-icon-color-hover);
	    }



	    &[href*="twitter.com"]:before {
		mask-image: svg-twitter();
	    }

	    &[href*="facebook.com"]:before {
	       mask-image: svg-facebook();
	    }

	    &[href*="threads.net"]:before {
	       mask-image: svg-threads();
	    }


	    &[href*="github.com"]:before {
		mask-image: svg-github();
	    }


	    &[href*="instagram.com"]:before {
		mask-image: svg-instagram();
	    }


	    &[href*="publons.com"]:before {
		mask-image: svg-publons();
	    }


	    &[href*="linkedin.com"]:before {
		mask-image: svg-linkedin();
	    }


	    &[href*="xing.com"]:before {
		mask-image: svg-xing();
	    }


	    &[href*="tiktok.com"]:before {
		mask-image: svg-tiktok();
	    }

	    &[href*="youtube.com"]:before {
		mask-image: svg-youtube();
	    }


	    &[href*="scopus.com"]:before {
		mask-image: svg-scopus();
	    }


	    &[href*="scholar.google.de"]:before {
		mask-image: svg-googlescholar();
	    }

	    &[href*="orcid.org"]:before {
		mask-image: svg-orcid();
	    }


	    &[href*="researchgate.net"]:before {
		mask-image: svg-researchgate();
	    }

	    &[href*="pinterest."]:before {
		mask-image: svg-pinterest();
	    }


	    &[href*="mastodon.social"]:before {
		mask-image: svg-mastodon();
	    }


	    // Reddit
	    &[href*="reddit.com"]:before {
		mask-image: svg-reddit();
	    }

	    // Discord
	    &[href*="discord.com"]:before {
		mask-image: svg-discord();
	    }

	    // Indeed
	    &[href*="indeed.com"]:before {
		mask-image: svg-indeed();
	    }


	    // whatsapp
	    &[href*="whatsapp.com"]:before {
		mask-image: svg-whatsapp();
	    }

	    // Bluesky
	    &[href*="bsky.app"]:before {
		mask-image: svg-bluesky();
	    }

	    // Twitch
	    &[href*="twitch.tv"]:before {
		mask-image: svg-twitch();
	    }

	    // arxiv
	    &[href*="arxiv.org"]:before {
		mask-image: svg-arxiv();
	    }

	    // clarivate / webofscience
	    &[href*="webofscience.com"]:before {
		mask-image: svg-clarivate();
	    }

	    // clarivate / webofscience
	    &[href*="academia.edu"]:before {
		mask-image: svg-academia();
	    }



	    // community.fau.de
	    // group of people
	    // https://github.com/RRZE-Webteam/FAU-Einrichtungen/issues/1271
	    &[href*="community.fau.de"]:before {
		mask-image: svg-group();
	    }

	    &[href*="mailto:"]:before {
		mask-image: svg-icon-mail();
	    }


	    &[href*="rss"]:before,
	    &[href*="feed"]:before {
		mask-image: svg-icon-rss();
	    }


//	    &[href*=".ics"]:before,
//	    &[href*="ical"]:before {
//		mask-image: svg-icon-calendar();
//	    }
	}
    
    
    }
    
    /* NEW PART */
    
        .icon {
	a::before {
	   background: var(--_icon, var(--faudir-icon-arrow)) center center / 100% auto no-repeat;
	}
	a[href*="mailto:"]::before {
	    --_icon: var(--faudir-icon-mailto);
	}
     }

    
}